<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>íƒ€ì´í•‘ íš¨ê³¼ í…ŒìŠ¤íŠ¸</title>
    <link rel="stylesheet" href="css/typing-effects.css">
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }
        
        .test-container {
            background: white;
            border-radius: 20px;
            padding: 40px;
            max-width: 800px;
            width: 100%;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.2);
        }
        
        h1 {
            color: #5b21b6;
            margin-bottom: 30px;
            text-align: center;
        }
        
        .test-section {
            margin-bottom: 30px;
            padding: 20px;
            background: #f9fafb;
            border-radius: 10px;
        }
        
        .test-section h2 {
            color: #7c3aed;
            margin-bottom: 15px;
            font-size: 1.2rem;
        }
        
        .test-output {
            min-height: 50px;
            padding: 15px;
            background: white;
            border-radius: 8px;
            border: 2px solid #e5e7eb;
            color: #374151;
            line-height: 1.6;
        }
        
        .test-controls {
            display: flex;
            gap: 10px;
            margin-top: 15px;
            flex-wrap: wrap;
        }
        
        .test-btn {
            padding: 10px 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            transition: transform 0.2s;
        }
        
        .test-btn:hover {
            transform: translateY(-2px);
        }
        
        .test-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        
        #feedback-test {
            margin-top: 30px;
        }
    </style>
</head>
<body>
    <div class="test-container">
        <h1>ğŸŒŸ Shining Stars íƒ€ì´í•‘ íš¨ê³¼ í…ŒìŠ¤íŠ¸</h1>
        
        <!-- ê¸°ë³¸ íƒ€ì´í•‘ í…ŒìŠ¤íŠ¸ -->
        <div class="test-section">
            <h2>1. ê¸°ë³¸ íƒ€ì´í•‘ íš¨ê³¼</h2>
            <div class="test-output" id="basic-output"></div>
            <div class="test-controls">
                <button class="test-btn" onclick="testBasicTyping()">íƒ€ì´í•‘ ì‹œì‘</button>
                <button class="test-btn" onclick="stopTyping()">ì¤‘ì§€</button>
                <button class="test-btn" onclick="clearOutput('basic-output')">ì´ˆê¸°í™”</button>
            </div>
        </div>
        
        <!-- í‚¤ì›Œë“œ í•˜ì´ë¼ì´íŠ¸ í…ŒìŠ¤íŠ¸ -->
        <div class="test-section">
            <h2>2. í‚¤ì›Œë“œ í•˜ì´ë¼ì´íŠ¸</h2>
            <div class="test-output" id="keyword-output"></div>
            <div class="test-controls">
                <button class="test-btn" onclick="testKeywordTyping()">íƒ€ì´í•‘ ì‹œì‘</button>
                <button class="test-btn" onclick="clearOutput('keyword-output')">ì´ˆê¸°í™”</button>
            </div>
        </div>
        
        <!-- API í…ìŠ¤íŠ¸ ìƒì„± í…ŒìŠ¤íŠ¸ -->
        <div class="test-section">
            <h2>3. API ë™ì  í…ìŠ¤íŠ¸ ìƒì„±</h2>
            <div class="test-output" id="api-output"></div>
            <div class="test-controls">
                <button class="test-btn" onclick="testAPIGeneration('welcome')">í™˜ì˜ ë©”ì‹œì§€</button>
                <button class="test-btn" onclick="testAPIGeneration('encouragement')">ê²©ë ¤ ë©”ì‹œì§€</button>
                <button class="test-btn" onclick="testAPIGeneration('hint')">íŒíŠ¸</button>
                <button class="test-btn" onclick="clearOutput('api-output')">ì´ˆê¸°í™”</button>
            </div>
        </div>
        
        <!-- í”¼ë“œë°± íƒ€ì´í•‘ í…ŒìŠ¤íŠ¸ -->
        <div class="test-section">
            <h2>4. AI í”¼ë“œë°± íƒ€ì´í•‘</h2>
            <div id="feedback-test"></div>
            <div class="test-controls">
                <button class="test-btn" onclick="testFeedbackTyping()">í”¼ë“œë°± ìƒì„±</button>
                <button class="test-btn" onclick="clearFeedback()">ì´ˆê¸°í™”</button>
            </div>
        </div>
    </div>
    
    <!-- API Text Service ë¡œë“œ -->
    <script src="js/APITextService.js"></script>
    
    <script>
        // í…ŒìŠ¤íŠ¸ í•¨ìˆ˜ë“¤
        function testBasicTyping() {
            const text = "ì•ˆë…•í•˜ì„¸ìš”! ğŸŒŸ Shining Starsì— ì˜¤ì‹  ê²ƒì„ í™˜ì˜í•©ë‹ˆë‹¤. ì˜¤ëŠ˜ì€ ìˆ˜í•™ì  ì‚¬ê³ ì˜ ìš°ì£¼ë¥¼ í•¨ê»˜ íƒí—˜í•´ë³¼ê¹Œìš”? ê° ë…¸ë“œëŠ” ìƒˆë¡œìš´ ë°œê²¬ê³¼ í†µì°°ì„ ì œê³µí•  ê²ƒì…ë‹ˆë‹¤.";
            const element = document.getElementById('basic-output');
            
            window.apiTextService.typeText(element, text, {
                speed: 30,
                clearBefore: true,
                pauseOnPunctuation: true
            });
        }
        
        function testKeywordTyping() {
            const text = "ìˆ˜í•™ì  ì‚¬ê³ ë¥¼ í†µí•´ í¸í–¥ì„ ê·¹ë³µí•˜ê³ , íŒ¨í„´ì„ ë°œê²¬í•˜ë©°, ë…¼ë¦¬ì  í•´ê²° ë°©ë²•ì„ ì°¾ì•„ë³´ì„¸ìš”. ì°½ì˜ì ì¸ ì ‘ê·¼ì€ ìƒˆë¡œìš´ ê°€ëŠ¥ì„±ì„ ì—´ì–´ì¤ë‹ˆë‹¤.";
            const element = document.getElementById('keyword-output');
            
            window.apiTextService.typeText(element, text, {
                speed: 35,
                clearBefore: true,
                highlightKeywords: true
            });
        }
        
        async function testAPIGeneration(context) {
            const element = document.getElementById('api-output');
            element.innerHTML = '<div class="loading-dots">ìƒì„± ì¤‘<span>...</span></div>';
            
            try {
                const text = await window.apiTextService.generateText(context);
                await window.apiTextService.typeText(element, text, {
                    speed: 30,
                    clearBefore: true,
                    highlightKeywords: true
                });
            } catch (error) {
                element.textContent = 'ì˜¤ë¥˜: ' + error.message;
            }
        }
        
        async function testFeedbackTyping() {
            const element = document.getElementById('feedback-test');
            
            // ìƒ˜í”Œ í”¼ë“œë°± ë°ì´í„°
            const sampleFeedback = {
                positive: "ê¹Šì´ ìˆëŠ” ì„±ì°°ì´ ë‹ë³´ì…ë‹ˆë‹¤! êµ¬ì²´ì ì¸ ì˜ˆì‹œë¥¼ ë“¤ì–´ ì„¤ëª…í•œ ì ì´ íŠ¹íˆ ì¸ìƒì ì´ì—ìš”. ğŸŒŸ",
                improvement: "ë‹¤ìŒì—ëŠ” ë‹¤ë¥¸ ê´€ì ì—ì„œë„ ìƒê°í•´ë³´ë©´ ì–´ë–¨ê¹Œìš”? ì˜ˆë¥¼ ë“¤ì–´, ì´ ê°œë…ì´ ì‹¤ìƒí™œì— ì–´ë–»ê²Œ ì ìš©ë  ìˆ˜ ìˆì„ì§€ ê³ ë¯¼í•´ë³´ì„¸ìš”.",
                insight: "ìˆ˜í•™ì  ì‚¬ê³ ëŠ” ë‹¨ìˆœí•œ ê³„ì‚°ì„ ë„˜ì–´ ìš°ë¦¬ì˜ ì‚¬ê³ ë°©ì‹ ìì²´ë¥¼ ë³€í™”ì‹œí‚µë‹ˆë‹¤. ë‹¹ì‹ ì˜ ì ‘ê·¼ì€ ì´ëŸ¬í•œ ë³€í™”ì˜ ì‹œì‘ì„ ë³´ì—¬ì£¼ê³  ìˆì–´ìš”.",
                questions: [
                    "ì´ ë°©ë²•ì„ ë‹¤ë¥¸ ë¬¸ì œì—ë„ ì ìš©í•  ìˆ˜ ìˆì„ê¹Œìš”?",
                    "ì™œ ì´ëŸ° íŒ¨í„´ì´ ë‚˜íƒ€ë‚œë‹¤ê³  ìƒê°í•˜ë‚˜ìš”?",
                    "ë¹„ìŠ·í•œ ìƒí™©ì„ ì¼ìƒì—ì„œ ë³¸ ì ì´ ìˆë‚˜ìš”?"
                ],
                inertiaOvercome: "í™•ì¦í¸í–¥ì„ ì¸ì‹í•˜ê³  ë‹¤ì–‘í•œ ê°€ëŠ¥ì„±ì„ ê³ ë ¤í•˜ë ¤ëŠ” ë…¸ë ¥ì´ ë³´ì…ë‹ˆë‹¤.",
                nextChallenge: "ë‹¤ìŒ ë…¸ë“œì—ì„œëŠ” ë” ë³µì¡í•œ íŒ¨í„´ì„ íƒêµ¬í•´ë³¼ ì˜ˆì •ì…ë‹ˆë‹¤. ì¤€ë¹„ë˜ì…¨ë‚˜ìš”?"
            };
            
            await window.apiTextService.generateAndTypeFeedback(element, 'feedback', {
                feedback: sampleFeedback
            });
        }
        
        function stopTyping() {
            window.apiTextService.stopTyping();
        }
        
        function clearOutput(elementId) {
            document.getElementById(elementId).innerHTML = '';
        }
        
        function clearFeedback() {
            document.getElementById('feedback-test').innerHTML = '';
        }
        
        // í˜ì´ì§€ ë¡œë“œ ì‹œ ì´ˆê¸° ë©”ì‹œì§€
        window.addEventListener('DOMContentLoaded', () => {
            console.log('âœ… API Text Service ë¡œë“œë¨:', window.apiTextService);
            
            // ìë™ìœ¼ë¡œ ì²« ë²ˆì§¸ í…ŒìŠ¤íŠ¸ ì‹¤í–‰
            setTimeout(() => {
                testBasicTyping();
            }, 500);
        });
    </script>
</body>
</html>