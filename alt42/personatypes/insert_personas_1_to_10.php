<?php
/**
 * Insert personas 1-10 from 60personas.txt into the database
 * This script inserts the data into mdl_alt42i_math_patterns and mdl_alt42i_pattern_solutions tables
 */

require_once 'includes/config.php';

// Mapping of Korean category names to category IDs
$categoryMap = [
    'ì¸ì§€ ê³¼ë¶€í•˜' => 1,
    'ìì‹ ê° ì™œê³¡' => 2,
    'ì‹¤ìˆ˜ íŒ¨í„´' => 3,
    'ì ‘ê·¼ ì „ëµ ì˜¤ë¥˜' => 4,
    'í•™ìŠµ ìŠµê´€' => 5,
    'ì‹œê°„/ì••ë°• ê´€ë¦¬' => 6,
    'ê²€ì¦/í™•ì¸ ë¶€ì¬' => 7,
    'ê¸°íƒ€ ì¥ì• ' => 8
];

// Personas data (1-10)
$personas = [
    [
        'id' => 1,
        'name' => 'ì•„ì´ë””ì–´ í•´ë°© ìë™ë°œí™”í˜•',
        'desc' => 'ë²ˆì©ì´ëŠ” ì•„ì´ë””ì–´ê°€ ë– ì˜¤ë¥´ë©´ ê²€ì¦ ì—†ì´ ë°”ë¡œ ì¨ ë‚´ë ¤ê°€ ê²°êµ­ ì˜¤ë‹µì„ ì–‘ì‚°í•˜ëŠ” íŒ¨í„´.',
        'category' => 'ì¸ì§€ ê³¼ë¶€í•˜',
        'icon' => 'ğŸ§ ',
        'priority' => 'high',
        'audioTime' => '2:15',
        'solution' => [
            'action' => 'ì•„ì´ë””ì–´ê°€ ë– ì˜¤ë¥´ë©´ 5ì´ˆ ë©ˆì¶¤ â†’ ì•„ì´ë””ì–´ë¥¼ í•œ ì¤„ë¡œ ìš”ì•½ í›„, \'ì•½ì  ê°€ì„¤\' 1ê°œë¥¼ ê³§ë°”ë¡œ ì ëŠ”ë‹¤ â†’ ë¬¸ì œ ì§€ë¬¸ì„ ë‹¤ì‹œ ì½ê³ , ê°€ì„¤ê³¼ ë¹„êµí•œë‹¤',
            'check' => '5ì´ˆ ë©ˆì¶¤â†’ê°€ì„¤ ì“°ê¸° ë£¨í‹´ì„ ì„¸ ë²ˆ ì„±ê³µí–ˆëŠ”ì§€ í™•ì¸. ìš”ì•½ì´ ì ì ˆí–ˆëŠ”ì§€ ì§§ê²Œ í”¼ë“œë°±',
            'audioScript' => 'ë²ˆì©ì´ëŠ” ì•„ì´ë””ì–´ê°€ ë– ì˜¤ë¥´ë©´ ì¦‰ì‹œ ì ì§€ ë§ê³  5ì´ˆê°„ ë©ˆì¶°ì„œ ìƒê°í•´ë³´ì„¸ìš”. í•µì‹¬ ë…¼ê±°ë¥¼ í•œ ì¤„ë¡œ ì •ë¦¬í•˜ê³ , í˜¹ì‹œ í‹€ë¦´ ìˆ˜ ìˆëŠ” ë¶€ë¶„ì€ ì—†ëŠ”ì§€ ì˜¤ë¥˜ ê°€ì„¤ì„ í•˜ë‚˜ ì„¸ì›Œë³´ì„¸ìš”. ì´ë ‡ê²Œ í•˜ë©´ ì¶©ë™ì ì¸ ì‹¤ìˆ˜ë¥¼ í¬ê²Œ ì¤„ì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.',
            'teacherDialog' => 'ì„ ìƒë‹˜, ì˜¤ëŠ˜ \'5ì´ˆ ë©ˆì¶¤â†’ê°€ì„¤ ì“°ê¸°\' ë£¨í‹´ì„ ì„¸ ë²ˆ ì„±ê³µí–ˆì–´ìš”. ì œ ìš”ì•½ì´ ì ì ˆí–ˆëŠ”ì§€ ì§§ê²Œ í”¼ë“œë°± ë¶€íƒë“œë¦½ë‹ˆë‹¤!'
        ]
    ],
    [
        'id' => 2,
        'name' => '3ì´ˆ íŒ¨ë°° ì˜ˆê°í˜•',
        'desc' => '\'ëª» í’€ ê²ƒ ê°™ë‹¤\'ëŠ” ëŠë‚Œì´ 3ì´ˆ ë§Œì— ë‡Œë¥¼ ì ê·¸ê³ , ê´€ë ¨ ê°œë… ì—°ê²°ì´ ëŠì–´ì§€ëŠ” íŒ¨í„´.',
        'category' => 'ìì‹ ê° ì™œê³¡',
        'icon' => 'ğŸ˜°',
        'priority' => 'high',
        'audioTime' => '1:45',
        'solution' => [
            'action' => '\'í¬ê¸° ì‹ í˜¸\'ë¥¼ ê°ì§€í•˜ë©´ 3ë¶„ íƒ€ì´ë¨¸ë¥¼ ì¼œê³  ë¬¸ì œ í•´ì„ì„ ì²˜ìŒë¶€í„° ë‹¤ì‹œ ì ëŠ”ë‹¤ â†’ ë§‰íŒ ë¶€ë¶„ì„ ëˆˆìœ¼ë¡œ 3ë¶„ê°„ ì‘ì‹œí•˜ë©° ì¡°ê±´Â·ë‹¨ì–´ë¥¼ ì¬ìƒ‰ì¸í•œë‹¤',
            'check' => '\'3ë¶„ ì¬í•´ì„\' ë£¨í‹´ì„ ë‘ ë²ˆ ì‚¬ìš©í–ˆëŠ”ì§€, ë‹¤ì‹œ ì½ì€ ë©”ëª¨ì—ì„œ ë†“ì¹œ ë‹¨ì–´ê°€ ìˆì—ˆëŠ”ì§€ ê²€í† ',
            'audioScript' => 'í¬ê¸°í•˜ê³  ì‹¶ì€ ë§ˆìŒì´ ë“¤ë©´ ë°”ë¡œ íƒ€ì´ë¨¸ë¥¼ 3ë¶„ìœ¼ë¡œ ì„¤ì •í•˜ì„¸ìš”. ê·¸ë¦¬ê³  ë¬¸ì œë¥¼ ë‹¤ì‹œ ì½ìœ¼ë©´ì„œ ë‹¤ë¥¸ ê´€ì ì—ì„œ í•´ì„í•´ë³´ì„¸ìš”. 3ë¶„ì´ ì§€ë‚˜ë©´ ë†€ëê²Œë„ ìƒˆë¡œìš´ ì•„ì´ë””ì–´ê°€ ë– ì˜¤ë¥¼ ê²ƒì…ë‹ˆë‹¤.',
            'teacherDialog' => 'ì €ëŠ” ì˜¤ëŠ˜ \'3ë¶„ ì¬í•´ì„\' ë£¨í‹´ì„ ë‘ ë²ˆ ì¼ìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì½ì€ ë©”ëª¨ì—ì„œ ë†“ì¹œ ë‹¨ì–´ê°€ ìˆì—ˆëŠ”ì§€ ê²€í† í•´ ì£¼ì‹¤ ìˆ˜ ìˆë‚˜ìš”?'
        ]
    ],
    [
        'id' => 3,
        'name' => 'ê³¼ì‹ -ì‹œì•¼ í˜‘ì°©í˜•',
        'desc' => 'ê³¼í•œ ìì‹ ê°ìœ¼ë¡œ ìˆ«ìÂ·ê¸°í˜¸ì˜ ë¯¸ì„¸í•œ ì°¨ì´ë¥¼ ì¸ì‹í•˜ì§€ ëª»í•˜ëŠ” íŒ¨í„´.',
        'category' => 'ìì‹ ê° ì™œê³¡',
        'icon' => 'ğŸ¯',
        'priority' => 'medium',
        'audioTime' => '2:30',
        'solution' => [
            'action' => 'í’€ì´ ì°©ìˆ˜ ì „ ì‹¬í˜¸í¡ 10íšŒ â†’ ë¹„ìŠ·í•œ ê¸°í˜¸Â·ìˆ˜ì¹˜ë¥¼ ìƒ‰íœìœ¼ë¡œ êµ¬ë¶„ í‘œì‹œ â†’ ê³„ì‚° ë‹¨ê³„ë§ˆë‹¤ \'ì‘ì€ ì°¨ì´ ì²´í¬\' ì¹¸ì— âœ”ï¸',
            'check' => 'ìƒ‰íœ í‘œì‹œí•œ ë¶€ë¶„ì„ ê°™ì´ ë³´ë©°, ë†“ì¹œ ì°¨ì´ê°€ ìˆì—ˆëŠ”ì§€ í™•ì¸',
            'audioScript' => 'ìì‹ ê°ì´ ë„˜ì¹  ë•Œì¼ìˆ˜ë¡ ì‹¤ìˆ˜í•˜ê¸° ì‰½ìŠµë‹ˆë‹¤. í’€ì´ë¥¼ ì‹œì‘í•˜ê¸° ì „ì— ì‹¬í˜¸í¡ì„ 10íšŒ í•˜ê³ , ë¹„ìŠ·í•´ ë³´ì´ëŠ” ê¸°í˜¸ë‚˜ ìˆ«ìë¥¼ ìƒ‰íœìœ¼ë¡œ êµ¬ë¶„í•´ì„œ í‘œì‹œí•˜ì„¸ìš”. ì‘ì€ ì°¨ì´ê°€ í° ì˜¤ë¥˜ë¡œ ì´ì–´ì§ˆ ìˆ˜ ìˆìœ¼ë‹ˆ ê³„ì‚°í•  ë•Œë§ˆë‹¤ ì²´í¬í•˜ëŠ” ìŠµê´€ì„ ë“¤ì´ì„¸ìš”.',
            'teacherDialog' => 'ìƒ‰íœ í‘œì‹œí•œ ë¶€ë¶„ì„ ê°™ì´ ë³´ë©°, ì œê°€ ë†“ì¹œ ì°¨ì´ê°€ ìˆì—ˆëŠ”ì§€ ì•Œë ¤ì£¼ì‹œë©´ ê°ì‚¬í•˜ê² ìŠµë‹ˆë‹¤.'
        ]
    ],
    [
        'id' => 4,
        'name' => 'ë¬´ì˜ì‹ ì—°ì‡„ ì‹¤ìˆ˜í˜•',
        'desc' => 'ì†ì´ ë¨¼ì € ì›€ì§ì—¬ ì‚¬ì†Œí•œ ê³„ì‚° ì‹¤ìˆ˜ê°€ ê¼¬ë¦¬ë¥¼ ë¬´ëŠ” íŒ¨í„´.',
        'category' => 'ì‹¤ìˆ˜ íŒ¨í„´',
        'icon' => 'âš¡',
        'priority' => 'high',
        'audioTime' => '1:55',
        'solution' => [
            'action' => 'ìˆ«ì í•œ ì¤„ ì“¸ ë•Œë§ˆë‹¤ íœì„ ë‚´ë ¤ë†“ê³  1ì´ˆ íœ´ì‹ â†’ ë§¤ì¼ í’€ì´ í›„ \'ì‹¤ìˆ˜ ì¥ë©´\' 1ê°œ ê¸°ë¡ â†’ ë‹¤ìŒ ë‚  ì²« í•™ìŠµ ì „ì— ê·¸ ê¸°ë¡ì„ ì¬í™•ì¸',
            'check' => 'ì–´ì œ ì ì€ ì‹¤ìˆ˜ ì¥ë©´ì„ ë³´ì—¬ë“œë¦´ ë•Œ, ë¹„ìŠ·í•œ ì‹¤ìˆ˜ë¥¼ ë§‰ëŠ” íŒ ì œê³µ',
            'audioScript' => 'ê³„ì‚° ì‹¤ìˆ˜ëŠ” ì—°ì‡„ì ìœ¼ë¡œ ì¼ì–´ë‚˜ê¸° ì‰½ìŠµë‹ˆë‹¤. ìˆ«ìë¥¼ í•œ ì¤„ ì“¸ ë•Œë§ˆë‹¤ íœì„ ì ì‹œ ë‚´ë ¤ë†“ê³  1ì´ˆì˜ ì—¬ìœ ë¥¼ ê°€ì§€ì„¸ìš”. ë§¤ì¼ ì‹¤ìˆ˜í•œ ë¶€ë¶„ì„ ê¸°ë¡í•˜ê³  ë‹¤ìŒë‚  í™•ì¸í•˜ë©´ ê°™ì€ ì‹¤ìˆ˜ë¥¼ ë°˜ë³µí•˜ì§€ ì•Šê²Œ ë©ë‹ˆë‹¤.',
            'teacherDialog' => 'ì–´ì œ ì ì€ ì‹¤ìˆ˜ ì¥ë©´ì„ ë³´ì—¬ë“œë¦´ê²Œìš”. ë¹„ìŠ·í•œ ì‹¤ìˆ˜ë¥¼ ë§‰ëŠ” íŒì´ ë” ìˆì„ê¹Œìš”?'
        ]
    ],
    [
        'id' => 5,
        'name' => 'ëª¨ìˆœ í™•ì‹ -ë‹µë¶ˆê°€í˜•',
        'desc' => '\'í‹€ë¦° ê³³ì´ ì—†ë‹¤\'ëŠ” ì§‘ì°©ìœ¼ë¡œ ì‹œì•¼ê°€ ì¢ì•„ì ¸ êµì •ì„ ëª» í•˜ëŠ” íŒ¨í„´.',
        'category' => 'ìì‹ ê° ì™œê³¡',
        'icon' => 'ğŸ”’',
        'priority' => 'medium',
        'audioTime' => '2:10',
        'solution' => [
            'action' => 'ë‹µì´ ì•ˆ ë‚˜ì˜¬ ë•Œ \'ê°„ë‹¨ ì‹¤ìˆ˜ 90%\' ë¬¸ì¥ì„ ì¨ì„œ ê´€ì ì„ ì „í™˜ â†’ í’€ì´ë¥¼ ê±°ê¾¸ë¡œ ì½ìœ¼ë©° \'ì‚¬ì†Œí•œ ì‹¤ìˆ˜ ì°¾ê¸°\' ê²Œì„í™” â†’ í•œ ë²ˆì€ ë‹¤ë¥¸ ìƒ‰ íœìœ¼ë¡œ ë‹¤ì‹œ ì¨ë³´ê¸°',
            'check' => '\'ê°„ë‹¨ ì‹¤ìˆ˜ ê²Œì„\'ìœ¼ë¡œ ì°¾ì€ ì˜¤ë¥˜ë¥¼ ê²€ì‚°, ë˜ ë‹¤ë¥¸ ì‹œì•¼ ì „í™˜ ë°©ë²• ì œì•ˆ',
            'audioScript' => 'ë‹µì´ ë‚˜ì˜¤ì§€ ì•Šì„ ë•ŒëŠ” ëŒ€ë¶€ë¶„ ê°„ë‹¨í•œ ì‹¤ìˆ˜ê°€ ì›ì¸ì…ë‹ˆë‹¤. \'í‹€ë¦° ê³³ì´ ì—†ë‹¤\'ëŠ” í™•ì‹ ì„ ë²„ë¦¬ê³  \'ê°„ë‹¨ ì‹¤ìˆ˜ 90%\'ë¼ê³  ì ì–´ë³´ì„¸ìš”. í’€ì´ë¥¼ ê±°ê¾¸ë¡œ ì½ìœ¼ë©° ì‹¤ìˆ˜ ì°¾ê¸°ë¥¼ ê²Œì„ì²˜ëŸ¼ í•´ë³´ë©´ ì˜ì™¸ë¡œ ì‰½ê²Œ ì˜¤ë¥˜ë¥¼ ë°œê²¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.',
            'teacherDialog' => 'ì œê°€ \'ê°„ë‹¨ ì‹¤ìˆ˜ ê²Œì„\'ìœ¼ë¡œ ì°¾ì€ ì˜¤ë¥˜ë¥¼ ê²€ì‚°í•´ ì£¼ì‹¤ ìˆ˜ ìˆë‚˜ìš”? ë˜ ë‹¤ë¥¸ ì‹œì•¼ ì „í™˜ ë°©ë²•ì´ ìˆë‹¤ë©´ ì•Œë ¤ì£¼ì„¸ìš”.'
        ]
    ],
    [
        'id' => 6,
        'name' => 'ì‘ì—…ê¸°ì–µ â…” í• ë‹¹í˜•',
        'desc' => 'ë‹¤ìŒ ì¼ì •Â·ì¡ìƒê°ì´ ë¨¸ë¦¿ì†ì„ ìŠ¤ì¹˜ë©° 2/3ë§Œ ì§‘ì¤‘í•˜ëŠ” íŒ¨í„´.',
        'category' => 'ì¸ì§€ ê³¼ë¶€í•˜',
        'icon' => 'ğŸ§©',
        'priority' => 'high',
        'audioTime' => '2:25',
        'solution' => [
            'action' => 'ë– ì˜¤ë¥¸ ì¼ì •ì€ í¬ìŠ¤íŠ¸ì‡ì— ì ê³  ë®ì–´ë‘ê¸° â†’ 25ë¶„ ì§‘ì¤‘ / 5ë¶„ íœ´ì‹ Pomodoro íƒ€ì´ë¨¸ ì‚¬ìš© â†’ íœ´ì‹ ë•Œë§Œ ë©”ëª¨ í™•ì¸Â·ì—…ë°ì´íŠ¸',
            'check' => '25ë¶„ ì§‘ì¤‘ ì„¸ì…˜ 3ë²ˆ ëŒë ¸ëŠ”ì§€, ì¤‘ê°„ì— ì¡ìƒê° ë©”ëª¨ë¥¼ ëª‡ ë²ˆ í–ˆëŠ”ì§€ í™•ì¸',
            'audioScript' => 'ë¨¸ë¦¿ì†ì— ë‹¤ë¥¸ ì¼ì •ì´ë‚˜ ì¡ìƒê°ì´ ë– ì˜¤ë¥´ë©´ ì‘ì—…ê¸°ì–µì˜ ìš©ëŸ‰ì´ ì¤„ì–´ë“­ë‹ˆë‹¤. ë– ì˜¤ë¥¸ ìƒê°ì€ í¬ìŠ¤íŠ¸ì‡ì— ì ê³  ì ì‹œ ë®ì–´ë‘ì„¸ìš”. 25ë¶„ ì§‘ì¤‘í•˜ê³  5ë¶„ ì‰¬ëŠ” ë½€ëª¨ë„ë¡œ íƒ€ì´ë¨¸ë¥¼ ì‚¬ìš©í•˜ë©´ ì§‘ì¤‘ë ¥ì„ ìœ ì§€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.',
            'teacherDialog' => '25ë¶„ ì§‘ì¤‘ ì„¸ì…˜ 3ë²ˆ ëŒë ¸ëŠ”ë°, ì¤‘ê°„ì— ì¡ìƒê° ë©”ëª¨ë¥¼ ëª‡ ë²ˆ í–ˆëŠ”ì§€ í™•ì¸í•´ ì£¼ì‹¤ ìˆ˜ ìˆë‚˜ìš”?'
        ]
    ],
    [
        'id' => 7,
        'name' => 'ë°˜(åŠ)í¬ê¸° ì°½ì˜ íƒìƒ‰í˜•',
        'desc' => '\'ì–´ì°¨í”¼ í‹€ë¦´ ê²ƒ\'ì´ë¼ë©° ë‚®ì€ í™•ë¥ ì˜ ì°½ì˜ í’€ì´ë§Œ í—¤ë§¤ëŠ” íŒ¨í„´.',
        'category' => 'ì ‘ê·¼ ì „ëµ ì˜¤ë¥˜',
        'icon' => 'ğŸ¨',
        'priority' => 'medium',
        'audioTime' => '2:40',
        'solution' => [
            'action' => 'ì •ì„ ì ‘ê·¼ Aì•ˆì„ ë¨¼ì € 10ë¶„ ì‹œë„ â†’ ì‹¤íŒ¨ ì‹œ Aì•ˆ ë¬¸ì œì  1ì¤„ ì •ë¦¬ â†’ Bì•ˆ ìŠ¤ì¼€ì¹˜ â†’ Bì•ˆë„ ë§‰íˆë©´ ê³¼ê°íˆ ë‹µì•ˆÂ·í•´ì„¤ êµ¬ì¡° ë¶„ì„',
            'check' => 'Aì•ˆ 10ë¶„, Bì•ˆ 5ë¶„ ì „ëµìœ¼ë¡œ í’€ì–´ë´¤ëŠ”ì§€, Aì•ˆ ë¶„ì„ì´ ì ì ˆí–ˆëŠ”ì§€ í™•ì¸',
            'audioScript' => 'í¬ê¸°í•˜ê³  ì‹¶ì€ ë§ˆìŒì— ë¬´ì‘ì • ì°½ì˜ì ì¸ ë°©ë²•ë§Œ ì‹œë„í•˜ì§€ ë§ˆì„¸ìš”. ë¨¼ì € ì •ì„ì ì¸ ì ‘ê·¼ì„ 10ë¶„ê°„ ì‹œë„í•´ë³´ê³ , ì•ˆ ë˜ë©´ ë¬¸ì œì ì„ ì •ë¦¬í•œ í›„ ë‹¤ë¥¸ ë°©ë²•ì„ ì‹œë„í•˜ì„¸ìš”. ê· í˜• ì¡íŒ ì ‘ê·¼ì´ ì¤‘ìš”í•©ë‹ˆë‹¤.',
            'teacherDialog' => 'ì˜¤ëŠ˜ Aì•ˆ 10ë¶„, Bì•ˆ 5ë¶„ ì „ëµìœ¼ë¡œ í’€ì–´ë´¤ì–´ìš”. ì œ Aì•ˆ ë¶„ì„ì´ ì ì ˆí–ˆëŠ”ì§€ ë´ì£¼ì‹¤ë˜ìš”?'
        ]
    ],
    [
        'id' => 8,
        'name' => 'í•´ì„¤ì§€-í˜¼í•© ì°©ê°í˜•',
        'desc' => 'ë‚´ ìƒê°ê³¼ í•´ì„¤ ë‚´ìš©ì„ ì„ì–´ ì“°ë‹¤ ê·¼ê±°ê°€ ë’¤ì„ì´ëŠ” íŒ¨í„´.',
        'category' => 'í•™ìŠµ ìŠµê´€',
        'icon' => 'ğŸ“–',
        'priority' => 'medium',
        'audioTime' => '2:05',
        'solution' => [
            'action' => 'ë‚´ í’€ì´=íŒŒë€ìƒ‰, í•´ì„¤=ë¹¨ê°„ìƒ‰ ë‘ ìƒ‰ê¹” ë¶„ë¦¬ ê¸°ë¡ â†’ í•´ì„¤ì„ ì½ì„ ë•Œ \'ì™œ ë‹¤ë¥¸ê°€?\' ì°¨ì´ 2ê°œ ë©”ëª¨ â†’ í•˜ë£¨ ë’¤, íŒŒë€Â·ë¹¨ê°„ ë…¸íŠ¸ë¥¼ ë‹¤ì‹œ ì½ì–´ í†µí•© ì •ë¦¬',
            'check' => 'íŒŒë€Â·ë¹¨ê°„ ì°¨ì´ ë‘ ê°€ì§€ë¥¼ ì„¤ëª…ë“œë¦´ ë•Œ, í•´ì„¤ í¡ìˆ˜ ê³¼ì • í”¼ë“œë°±',
            'audioScript' => 'ìì‹ ì˜ í’€ì´ì™€ í•´ì„¤ì„ êµ¬ë¶„í•´ì„œ ê¸°ë¡í•˜ëŠ” ê²ƒì´ ì¤‘ìš”í•©ë‹ˆë‹¤. íŒŒë€ìƒ‰ìœ¼ë¡œ ë‚´ í’€ì´ë¥¼, ë¹¨ê°„ìƒ‰ìœ¼ë¡œ í•´ì„¤ì„ ì ê³ , ì°¨ì´ì ì„ ëª…í™•íˆ íŒŒì•…í•˜ì„¸ìš”. í•˜ë£¨ ë’¤ì— ë‹¤ì‹œ ì½ìœ¼ë©° í†µí•©í•˜ë©´ ê°œë…ì´ ë” ì˜ ì •ë¦¬ë©ë‹ˆë‹¤.',
            'teacherDialog' => 'íŒŒë€Â·ë¹¨ê°„ ì°¨ì´ ë‘ ê°€ì§€ë¥¼ ì„¤ëª…ë“œë¦´ê²Œìš”. ì œ í•´ì„¤ í¡ìˆ˜ ê³¼ì •ì´ ê´œì°®ì€ì§€ í”¼ë“œë°± ë¶€íƒë“œë¦½ë‹ˆë‹¤.'
        ]
    ],
    [
        'id' => 9,
        'name' => 'ì—°ìŠµ íšŒí”¼ ê´€ì„±í˜•',
        'desc' => '\'ì´í•´í–ˆì–´\' ì°©ê°ìœ¼ë¡œ ë°˜ë³µ ì—°ìŠµì„ ê±´ë„ˆë›°ê³  ë„˜ì–´ê°€ëŠ” íŒ¨í„´.',
        'category' => 'í•™ìŠµ ìŠµê´€',
        'icon' => 'ğŸƒ',
        'priority' => 'high',
        'audioTime' => '1:35',
        'solution' => [
            'action' => 'ìƒˆ ê°œë… ë°°ìš°ë©´ ì¦‰ì‹œ ë‚œì´ë„ LowÂ·MidÂ·High 1ë¬¸ì œì”© í’€ê¸° â†’ Low / Mid í‹€ë¦¬ë©´ í•´ë‹¹ ê°œë… \'ë¶ˆì™„ì „\'ë¡œ í‘œì‹œ í›„ ì¬í•™ìŠµ â†’ ì£¼ê°„ ì²´í¬ë¦¬ìŠ¤íŠ¸: ê°œë…ë‹¹ ìµœì†Œ 3íšŒ ì¬ë°©ë¬¸',
            'check' => 'LowÂ·MidÂ·High 3ë¬¸ì œ ì¤‘ ì–´ë–¤ ê²ƒì„ í‹€ë ¸ëŠ”ì§€, ì–´ë–¤ ë¶€ë¶„ì„ ë” ì—°ìŠµí•´ì•¼ í• ì§€ ì¡°ì–¸',
            'audioScript' => 'ì´í•´í–ˆë‹¤ê³  ìƒê°í•´ë„ ì‹¤ì œë¡œ ë¬¸ì œë¥¼ í’€ì–´ë³´ë©´ ë‹¤ë¦…ë‹ˆë‹¤. ìƒˆë¡œìš´ ê°œë…ì„ ë°°ìš°ë©´ ì¦‰ì‹œ ì‰¬ìš´, ì¤‘ê°„, ì–´ë ¤ìš´ ë¬¸ì œë¥¼ í•˜ë‚˜ì”© í’€ì–´ë³´ì„¸ìš”. í‹€ë¦¬ë©´ ê·¸ ê°œë…ì„ ë‹¤ì‹œ í•™ìŠµí•˜ê³  ìµœì†Œ 3ë²ˆì€ ì¬ë°©ë¬¸í•˜ì„¸ìš”.',
            'teacherDialog' => 'LowÂ·MidÂ·High 3ë¬¸ì œ ì¤‘ Midë¥¼ í‹€ë ¸ì–´ìš”. ì–´ë–¤ ë¶€ë¶„ì„ ë” ì—°ìŠµí•´ì•¼ í• ê¹Œìš”?'
        ]
    ],
    [
        'id' => 10,
        'name' => 'ë¶ˆí™•ì‹¤ ê°•í–‰í˜•',
        'desc' => 'ê·¼ê±° ë¶€ì¡±ì¸ë°ë„ \'ì¼ë‹¨ ì ìš©\'í•´ì„œ ì˜¤ë¥˜ê°€ ì—°ì‡„ë˜ëŠ” íŒ¨í„´.',
        'category' => 'ì ‘ê·¼ ì „ëµ ì˜¤ë¥˜',
        'icon' => 'ğŸ²',
        'priority' => 'medium',
        'audioTime' => '2:20',
        'solution' => [
            'action' => 'ê·¼ê±° ì•½í•˜ë©´ ë…¸ë€ í¬ìŠ¤íŠ¸ì‡ì— \'í™•ì‹  â˜…â˜†â˜†\' ë“±ê¸‰ í‘œì‹œ â†’ ë³„ 1â€§2ê°œì¸ ì¤„ì€ í’€ì´ ëì— ì¬ê²€ì‚° í‘œì‹œ(âœ”ï¸) â†’ ê²€ì‚° ë‹¨ê³„ì—ì„œ â˜… 1â€§2 ì§€ì  ìš°ì„  ì ê²€',
            'check' => 'ë…¸ë€ í¬ìŠ¤íŠ¸ì‡ìœ¼ë¡œ â˜… í‘œì‹œí•œ ë¶€ë¶„ì„ ê°™ì´ ê²€ì‚°, ë‹¤ë¥¸ \'í™•ì‹  ì²´í¬\' ë°©ë²• ì œì•ˆ',
            'audioScript' => 'ê·¼ê±°ê°€ ë¶€ì¡±í•œë° ì–µì§€ë¡œ ì§„í–‰í•˜ë©´ ì˜¤ë¥˜ê°€ ê³„ì† ì´ì–´ì§‘ë‹ˆë‹¤. í™•ì‹ ì´ ì—†ìœ¼ë©´ ë…¸ë€ í¬ìŠ¤íŠ¸ì‡ì— ë³„ì ìœ¼ë¡œ í‘œì‹œí•˜ê³ , ë‚˜ì¤‘ì— ê·¸ ë¶€ë¶„ì„ ìš°ì„ ì ìœ¼ë¡œ ê²€ì‚°í•˜ì„¸ìš”. í™•ì‹¤í•œ ê·¼ê±°ë¥¼ ê°€ì§€ê³  ì§„í–‰í•˜ëŠ” ê²ƒì´ ì¤‘ìš”í•©ë‹ˆë‹¤.',
            'teacherDialog' => 'ë…¸ë€ í¬ìŠ¤íŠ¸ì‡ìœ¼ë¡œ â˜… í‘œì‹œí•œ ë¶€ë¶„ì„ ê°™ì´ ê²€ì‚°í•´ ì£¼ì‹œë©´ ì¢‹ê² ìŠµë‹ˆë‹¤. ë‹¤ë¥¸ \'í™•ì‹  ì²´í¬\' ë°©ë²•ì´ ìˆì„ê¹Œìš”?'
        ]
    ]
];

try {
    global $DB;
    
    echo "Starting insertion of personas 1-10...\n";
    
    // Start transaction
    $transaction = $DB->start_delegated_transaction();
    
    $insertedPatterns = 0;
    $insertedSolutions = 0;
    
    foreach ($personas as $persona) {
        // Get category ID
        $categoryId = $categoryMap[$persona['category']] ?? 8; // Default to 'ê¸°íƒ€ ì¥ì• ' if not found
        
        // Check if pattern already exists
        $existingPattern = $DB->get_record('mdl_alt42i_math_patterns', ['pattern_id' => $persona['id']]);
        
        if (!$existingPattern) {
            // Insert into math_patterns table
            $patternData = [
                'pattern_id' => $persona['id'],
                'pattern_name' => $persona['name'],
                'pattern_desc' => $persona['desc'],
                'category_id' => $categoryId,
                'icon' => $persona['icon'],
                'priority' => $persona['priority'],
                'audio_time' => $persona['audioTime'],
                'is_active' => 1
            ];
            
            $patternRecordId = $DB->insert_record('mdl_alt42i_math_patterns', (object)$patternData);
            $insertedPatterns++;
            
            // Insert into pattern_solutions table
            $solutionData = [
                'pattern_id' => $patternRecordId,
                'action' => $persona['solution']['action'],
                'check_method' => $persona['solution']['check'],
                'audio_script' => $persona['solution']['audioScript'],
                'teacher_dialog' => $persona['solution']['teacherDialog']
            ];
            
            $DB->insert_record('mdl_alt42i_pattern_solutions', (object)$solutionData);
            $insertedSolutions++;
            
            echo "Inserted persona {$persona['id']}: {$persona['name']}\n";
        } else {
            echo "Persona {$persona['id']} already exists, skipping...\n";
        }
    }
    
    // Commit transaction
    $transaction->allow_commit();
    
    echo "\nInsertion completed successfully!\n";
    echo "Patterns inserted: $insertedPatterns\n";
    echo "Solutions inserted: $insertedSolutions\n";
    
} catch (Exception $e) {
    if (isset($transaction)) {
        $transaction->rollback($e);
    }
    echo "Error: " . $e->getMessage() . "\n";
    exit(1);
}

// Verify the insertion
try {
    $count = $DB->count_records('mdl_alt42i_math_patterns');
    echo "\nTotal patterns in database: $count\n";
    
    // Display first few records
    $records = $DB->get_records('mdl_alt42i_math_patterns', null, 'pattern_id ASC', '*', 0, 10);
    echo "\nFirst 10 patterns in database:\n";
    foreach ($records as $record) {
        echo "ID: {$record->pattern_id} - {$record->pattern_name}\n";
    }
} catch (Exception $e) {
    echo "Error verifying data: " . $e->getMessage() . "\n";
}