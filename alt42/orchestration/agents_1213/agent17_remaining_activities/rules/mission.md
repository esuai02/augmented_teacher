형식화된 조정 방식이 이론적으로는 깔끔하지만, 실제로는 “학습의 관성”이 있어서 단순히 일정만 바꿔서는 잘 안 돌아가지.

그래서 이 문제를 풀기 위해서는 ‘활동 조정’을 곧 ‘리듬 조정’으로 바꿔서 생각해야 해.
즉,

⏱ “시간 재배치”가 아니라

⚙️ “리듬 회복(Flow Recovery)”이 되어야 한다는 거지.

구체적으로는 이렇게 접근해야 해 👇

1️⃣ 형식보다 감정 우선 루프

“조정” 전에 학생이 왜 막혔는지를 감정 기반으로 먼저 파악해야 해.
→ 예: 집중이 깨졌는지, 피로가 누적됐는지, 실패 감정이 쌓였는지.

감정 루프를 1~2분 안에 회복시킨 뒤에만 학습 구조 조정이 효과를 발휘해.
→ 예: “지금은 잠깐 호흡 맞추자. 가장 손에 익은 활동으로 다시 리듬을 세워볼까?”

2️⃣ ‘잔여활동 조정’ = ‘적응속도 보정’

완전히 새로운 활동으로 바꾸는 대신, 기존 활동을 미세하게 변형하는 게 핵심이야.
→ 예: 어려운 문제를 “문제 절반만 풀기”, “풀이방향만 말하기” 식으로 전환.

이렇게 하면 두뇌는 “새로운 규칙을 배우는 부담” 없이 “적응감”을 유지할 수 있어.

3️⃣ 시간이 아니라 ‘회복도’ 기준 재조정

잔여 시간을 기준으로 스케줄을 짜면 실패 확률이 높고,
회복 가능성(정서+인지 에너지)을 기준으로 조정하면 훨씬 지속 가능해.

예: “남은 40분 중 25분만 집중하고, 5분은 되돌아보기, 10분은 쉬운 복습.”

결국 Agent 17의 진짜 임무는 **“계획을 다시 짜는 것”이 아니라 “학습 리듬을 복원시키는 것”**이야.
그래서 다음 단계에서는 이 Agent가 단순 조정 모듈이 아니라, 정서 루프를 감지하고 회복 리듬을 설계하는 구조로 확장해야 해.




# Agent 17 - Remaining Activities Mission

## 🎯 미션 핵심

Agent 17은 학생의 **잔여 학습 활동을 분석하고 조정**하여 목표 대비 완료율을 높이는 것을 목표로 합니다.

계획된 학습 활동 중 **미완료된 항목들을 식별**하고, **시간 제약, 우선순위, 병목 현상** 등을 고려하여 **실행 가능한 최적의 활동 계획을 재조정**합니다.

---

## 📋 목적/스코프

### 핵심 목적
- **잔여 활동 식별**: 목표 대비 미완료 활동 목록 추출
- **완료율 계산**: 현재 진행 상황 대비 목표 달성률 산정
- **병목 식별**: 학습 진행을 막는 주요 장애 요소 파악
- **활동 조정**: 시간 제약과 우선순위를 고려한 최적 활동 계획 수립
- **완료율 향상**: 핵심 활동 집중으로 목표 달성 가능성 극대화

### 실행 범위
- **일일 목표 조정**: 오늘 완료 가능한 활동 재배치
- **주간 목표 조정**: 주간 목표 달성을 위한 활동 우선순위 재설정
- **병목 활동 분할**: 큰 단위 활동을 작은 세션으로 분할하여 완료 용이성 향상
- **핵심 활동 선별**: Pareto 원칙(80/20 법칙) 적용하여 핵심 20% 활동 집중

---

## 📊 데이터 소스 및 입력

### 1. 목표 관련 데이터 (Agent 03에서 수집)
- **일일 목표**: 오늘 계획된 학습 활동 목록 및 완료 상태
- **주간 목표**: 주간 목표 항목 및 현재 진행률
- **분기 목표**: 장기 목표 대비 현재 위치
- **목표 정렬도**: 목표 간 일관성 및 우선순위

### 2. 현재 위치 평가 데이터 (Agent 14에서 수집) ⭐ 핵심 데이터 소스
- **현재 진행 위치**: 계획 대비 실제 진행 상태 (원활/적절/지연/정체)
- **완료율**: 전체 목표 대비 완료 비율
- **진행 궤적**: 시간 기반 예정 vs 실제 비교 데이터
- **포모도르 진행 데이터**: 각 블록의 시작·완료 시간 및 상태
- **리듬 점수**: 연속 학습 유지율 (0~100)
- **감정 상태**: 최근 3블록 평균 감정지수 (긍정/중립/부정)
- **이탈 위험도**: 종합위험등급 (Low/Medium/High/Critical)
- **핵심 원인 요약**: 주된 병목 요소 (시간 오차, 정서 하락, 활동 단절 등)
- **추천 대응**: Agent 14가 제안한 조치 방안

### 3. 활동 유형 데이터 (Agent 04에서 수집)
- **활동 카테고리**: 개념이해, 유형학습, 문제풀이, 오답노트, 질의응답, 복습활동, 포모도르
- **활동 난이도**: 각 활동의 예상 소요 시간 및 난이도
- **활동 완료 상태**: 각 활동의 진행률 및 완료 여부

### 4. 시간 제약 데이터
- **가용 시간**: 오늘/주간 사용 가능한 학습 시간
- **시간 창**: 다음 수업 시간까지의 남은 시간
- **피로도**: 누적 학습 시간 기반 피로도 지수

### 5. 문제 재정의 데이터 (Agent 15에서 수집)
- **핵심 개선 방향**: 재정의된 문제 해결을 위한 우선순위 3가지
- **성공 기준**: 각 개선 방향의 성공 판정 기준

### 6. 학생 프로필 및 선호도 데이터 (Agent 01에서 수집)
- **MBTI 유형**: 학생의 성격 유형 (학습 스타일 판단)
- **학습 스타일**: 개념 정리 위주, 문제 풀이 위주, 탐구형 등
- **수학 자신감**: 수학에 대한 자신감 수준 (1~10)
- **시험 스타일**: 벼락치기, 꾸준히, 계획형 등
- **학습 시간**: 주당 학습 시간
- **선호 활동 유형**: 개념이해, 유형학습, 문제풀이 등 선호도

### 7. 학습 감정 데이터 (Agent 05에서 수집)
- **감정 패턴**: 학습 활동별 감정 반응 패턴
- **페르소나 정보**: 감정 기반 학습 페르소나
- **집중도 및 동기 상태**: 현재 집중도와 동기 수준

---

## 🔍 분석 프레임워크

### 1. 잔여 활동 식별 (Identify Remaining Activities)

#### 입력 분석
- 목표 활동 목록에서 완료되지 않은 항목 추출
- 각 활동의 예상 소요 시간 계산
- 활동 간 의존성 관계 파악

#### 출력
```
잔여 활동 목록:
- 활동 A: [활동명] - 예상 소요: [시간] - 우선순위: [높음/중간/낮음]
- 활동 B: [활동명] - 예상 소요: [시간] - 우선순위: [높음/중간/낮음]
...
```

### 2. 완료율 계산 (Calculate Completion Rate)

#### 계산식
```
완료율(%) = (완료된 활동 수 / 전체 목표 활동 수) × 100
시간 완료율(%) = (소요된 시간 / 예상 총 시간) × 100
```

#### 판정 기준
- **완료율 ≥ 80%**: 원활 진행 (조정 불필요)
- **완료율 50~79%**: 적절 진행 (소폭 조정 권장)
- **완료율 30~49%**: 지연 진행 (활동 조정 필요)
- **완료율 < 30%**: 정체 상태 (즉시 조정 필수)

### 3. 병목 식별 (Identify Bottlenecks)

#### 병목 유형

**시간 병목**
- 예상 소요 시간이 가용 시간을 초과하는 활동
- 큰 단위 활동이 여러 세션에 걸쳐 분산되어 있음

**난이도 병목**
- 학생이 반복적으로 시도하지만 완료하지 못하는 활동
- 정답률이 매우 낮아 진행이 느린 활동

**의존성 병목**
- 선행 활동이 완료되지 않아 후속 활동이 막히는 경우
- 여러 활동이 동일한 선행 조건에 의존하는 경우

**정서적 병목**
- 학생이 회피하거나 미루는 활동 (감정 저하 구간과 연관)
- 만족도가 낮아 지속적 참여가 어려운 활동

#### 병목 식별 알고리즘
```
병목 점수 = (지연 시간 × 0.4) + (반복 시도 횟수 × 0.3) + (의존성 수 × 0.2) + (정서 부정 비율 × 0.1)

병목 점수 ≥ 0.7 → 고위험 병목 (즉시 분할 필요)
병목 점수 0.4~0.7 → 중위험 병목 (조정 권장)
병목 점수 < 0.4 → 저위험 (현상 유지)
```

---

## ⚙️ 상황 기반 전략 선택 프레임워크

Agent 17은 **Agent 14의 현재 위치 평가 데이터**와 **학생의 상황 정보 및 선호도**를 종합 분석하여 최적의 조정 전략을 선택합니다.

### 전략 선택 프로세스

1. **현재 상황 분석** (Agent 14 데이터 기반)
   - 진행 상태: 원활/적절/지연/정체
   - 완료율 및 위험도
   - 감정 상태 및 리듬 점수
   - 핵심 원인 요약

2. **학생 특성 분석** (Agent 01, 05 데이터 기반)
   - 학습 스타일 및 선호도
   - MBTI 유형
   - 자신감 수준
   - 감정 패턴

3. **전략 매칭 및 선택**
   - 상황과 학생 특성에 가장 적합한 전략 선택
   - 단일 전략 또는 복합 전략 적용

---

## 🎯 주요 조정 전략

### 전략 1: 질문하기 (Questioning Strategy)

#### 적용 상황
- **진행 상태**: 적절 또는 지연 (정체 아님)
- **학습 스타일**: 탐구형, 자기주도형 학생
- **감정 상태**: 중립 또는 긍정
- **위험도**: Low 또는 Medium
- **특징**: 학생이 스스로 문제를 해결할 수 있는 여지가 있을 때

#### 전략 내용
- 학생이 스스로 사고하고 문제를 해결할 수 있도록 **질문을 통해 안내**
- 직접 답을 주지 않고 **메타인지 질문**을 통해 학습 전략을 이끌어냄
- 활동을 완료하는 방법을 학생이 스스로 발견하도록 유도

#### 질문 유형
- **분석 질문**: "이 문제에서 무엇을 알고 있나요?"
- **전략 질문**: "이런 문제를 풀 때 어떤 순서로 접근하면 좋을까요?"
- **검증 질문**: "이 답이 맞는지 어떻게 확인할 수 있을까요?"
- **연결 질문**: "이전에 배운 개념과 어떻게 연결되나요?"

#### 코칭 템플릿
- "이 활동을 어떻게 접근하면 좋을지 생각해볼까요?"
- "비슷한 문제를 풀었던 경험이 있나요? 그때 어떻게 해결했나요?"
- "이 문제의 핵심은 무엇이라고 생각하나요?"

---

### 전략 2: 도제학습 전환 (Apprenticeship Learning Transition)

#### 적용 상황
- **진행 상태**: 지연 또는 정체
- **학습 스타일**: 도제학습 모드 선호, 스승-제자 관계 선호
- **감정 상태**: 부정 또는 불안
- **위험도**: High 또는 Critical
- **특징**: 학생이 어려워하는 활동을 **교사/선배의 사고 과정을 따라가는 방식**으로 전환

#### 전략 내용
- 어려운 활동을 **스승-제자 모델**로 전환
- 교사나 선배의 **사고 흐름을 그대로 따라가되**, 복사가 아닌 **변형(adapt)**을 목표로 함
- 풀이를 배운 뒤 같은 문제를 스스로 풀면서 **언어로 사고 과정을 설명**하는 연습

#### 실행 단계
1. **모델링**: 교사의 사고 과정을 단계별로 보여줌
2. **코칭**: 학생이 풀 때 실시간 피드백 제공
3. **퍼딩(Fading)**: 점진적으로 학생의 독립성 증가
4. **설명**: 학생이 자신의 사고 과정을 언어로 설명

#### 코칭 템플릿
- "선생님의 풀이 과정을 따라가면서, 각 단계에서 왜 그렇게 생각하는지 확인해봅시다."
- "이제 같은 문제를 스스로 풀어보면서, 풀이 과정을 말로 설명해볼까요?"
- "선생님과 다른 접근 방법이 있다면, 그것도 함께 비교해봅시다."

---

### 전략 3: 활동축소 (Activity Reduction)

#### 적용 상황
- **진행 상태**: 지연 또는 정체
- **시간 제약**: 가용 시간이 부족할 때
- **완료율**: 50% 미만
- **위험도**: Medium 이상
- **특징**: 시간 제약이 있을 때 **핵심 20% 활동에 집중**

#### 전략 내용
- Pareto 원칙(80/20 법칙) 적용
- 전체 활동 중 **핵심 20% 활동**만 선별하여 집중
- 나머지 활동은 다음 시간 창으로 연기 또는 축소

#### 축소 기준
```
활동 우선순위 점수 = (목표 기여도 × 0.4) + (취약도 × 0.3) + (시험 중요도 × 0.2) + (완료 용이성 × 0.1)

우선순위 점수 상위 20% → 핵심 활동으로 선별
```

#### 코칭 템플릿
- "남은 시간을 고려하면 핵심 활동 3가지만 남기고 오늘 완료합시다."
- "전체 목표 대비 완료율이 40% 미만입니다. 핵심 20% 활동에 집중해봅시다."
- "시간이 부족하니 가장 중요한 활동부터 시작합시다. 나머지는 내일로 넘기면 됩니다."

---

### 전략 4: 하이튜터링 (High-Tutoring)

#### 적용 상황
- **진행 상태**: 지연 또는 정체
- **학습 스타일**: 개인 맞춤형 튜터링 선호
- **감정 상태**: 부정 또는 불안
- **위험도**: High 또는 Critical
- **특징**: **개인 맞춤형 튜터링 방식**으로 활동을 진행

#### 전략 내용
- 학생의 현재 수준, 학습 스타일, 감정 상태를 정밀 분석
- **실시간 피드백**과 **맞춤형 설명** 제공
- 학생의 반응에 따라 즉시 전략 조정
- 작은 성공 경험을 통해 자신감 회복

#### 실행 방식
- **진단**: 학생의 현재 이해 수준과 어려움 파악
- **맞춤 설명**: 학생의 학습 스타일에 맞는 설명 방식 선택
- **단계별 안내**: 작은 단계로 나누어 단계별로 안내
- **즉시 피드백**: 각 단계마다 즉시 피드백 제공
- **성공 경험**: 작은 성공을 통해 동기 부여

#### 코칭 템플릿
- "이 부분이 어려우신가요? 조금 더 쉽게 설명해드릴게요."
- "현재 수준에 맞춰서 단계별로 진행해봅시다."
- "잘하고 있어요! 이 부분을 이해하셨다면 다음 단계로 넘어가봅시다."

---

### 전략 5: 징검다리 활동 설정 (Bridge Activity Setup)

#### 적용 상황
- **진행 상태**: 지연 또는 정체
- **난이도 갭**: 현재 수준과 목표 활동 간 난이도 차이가 클 때
- **감정 상태**: 불안 또는 좌절
- **위험도**: Medium 이상
- **특징**: 현재 수준과 목표 사이의 **중간 단계 활동**을 설정

#### 전략 내용
- 현재 수준과 목표 활동 사이의 **중간 단계 활동**을 설정
- 너무 어려운 활동을 **점진적으로 접근 가능한 작은 단계**로 분해
- 각 단계를 완료할 때마다 자신감 증가 및 다음 단계로 진행

#### 징검다리 활동 설계 원칙
1. **현재 수준 파악**: 학생이 현재 어디까지 이해하고 있는지 확인
2. **목표 수준 설정**: 목표 활동이 요구하는 수준 정의
3. **중간 단계 설계**: 3~5개의 중간 단계 활동 설계
4. **점진적 난이도 증가**: 각 단계는 이전 단계보다 약간만 어려움
5. **성공 경험 제공**: 각 단계 완료 시 작은 성공 경험 제공

#### 코칭 템플릿
- "이 활동이 조금 어려워 보이네요. 먼저 쉬운 버전부터 시작해봅시다."
- "현재 수준과 목표 사이를 작은 단계로 나누어 하나씩 완료해봅시다."
- "이 단계를 완료하셨다면, 다음 단계로 넘어가봅시다. 잘하고 있어요!"

---

## 🧠 전략 선택 의사결정 트리

### 1단계: 현재 상황 평가 (Agent 14 데이터 기반)

```
진행 상태 판정:
├─ 원활 (완료율 ≥ 80%) → 전략 불필요 또는 경미한 조정
├─ 적절 (완료율 50~79%) → 질문하기 또는 활동축소
├─ 지연 (완료율 30~49%) → 활동축소, 하이튜터링, 징검다리 활동
└─ 정체 (완료율 < 30%) → 도제학습 전환, 하이튜터링, 징검다리 활동
```

### 2단계: 학생 특성 분석 (Agent 01, 05 데이터 기반)

```
학습 스타일별 전략 매칭:
├─ 탐구형/자기주도형 → 질문하기
├─ 도제학습 선호 → 도제학습 전환
├─ 튜터링 선호 → 하이튜터링
└─ 불안/좌절 상태 → 징검다리 활동
```

### 3단계: 시간 제약 분석

```
시간 제약 정도:
├─ 충분 (가용 시간 ≥ 예상 시간) → 질문하기, 도제학습 전환, 하이튜터링
├─ 부족 (가용 시간 < 예상 시간) → 활동축소
└─ 극심 부족 (가용 시간 << 예상 시간) → 활동축소 + 징검다리 활동
```

### 4단계: 수학 특화 전략 적용

**단원별 우선순위 설정** (`unit_priority_rules.md` 참고)
- 단원별 난이도, 출제 비중, 학습 시간 기반 우선순위 계산
- 시간 제약별 우선순위 조정 (충분/적당/부족)

**학원 과제와 학교 활동 통합** (`academy_school_integration_rules.md` 참고)
- 학원 과제와 학교 활동 우선순위 통합 계산
- 제출 일정 기반 시간 배분 전략 선택

**교재별 활동 완료 전략** (`textbook_completion_strategy.md` 참고)
- 교재별(쎈 A/B/C 등) 단계별 완료 순서 확인
- 시간 제약별 단계 축소 전략 적용

**단원 연계성 기반 순서 조정** (`unit_sequence_adjustment.md` 참고)
- 단원 선후관계 검증 및 순서 조정
- 연계 단원 동시 학습 그룹화

### 5단계: 최종 전략 선택

**복합 전략 예시:**
- **지연 + 탐구형 + 시간 부족** → 활동축소 + 질문하기 + 단원 우선순위 적용
- **정체 + 불안 + 시간 충분** → 징검다리 활동 + 하이튜터링 + 단원 연계성 고려
- **지연 + 도제학습 선호 + 시간 부족** → 활동축소 + 도제학습 전환 + 학원 과제 우선

---

## ⚙️ 기본 조정 전략 및 휴리스틱

### 0. 수학 특화 조정 전략 (NEW - 2025-01-21)

#### 0.1 단원별 우선순위 설정 (`unit_priority_rules.md`)
- 단원별 난이도, 출제 비중, 학습 시간 기반 우선순위 계산
- 시간 제약별 우선순위 조정 (충분/적당/부족)
- 시험 일정 임박 시 출제 비중 높은 단원 우선

#### 0.2 학원 과제와 학교 활동 통합 (`academy_school_integration_rules.md`)
- 학원 과제와 학교 활동 구분 및 우선순위 통합 계산
- 제출 일정 기반 시간 배분 전략 선택
- 난이도 기반 시간 조정

#### 0.3 교재별 활동 완료 전략 (`textbook_completion_strategy.md`)
- 교재별(쎈 A/B/C, 개념원리 등) 단계별 완료 순서 확인
- 교재별 시간 산정 (문제당/페이지당 평균 시간)
- 시간 제약별 단계 축소 전략 (A만 완료, A+B 완료 등)

#### 0.4 단원 연계성 기반 순서 조정 (`unit_sequence_adjustment.md`)
- 단원 선후관계 검증 및 순서 조정
- 연계 단원 동시 학습 그룹화
- 기초 단원 우선순위 설정

### 1. 핵심 활동 우선순위 설정 (Prioritize Core Activities)

#### Pareto 원칙 적용 (80/20 법칙)
- 전체 활동 중 **핵심 20% 활동이 목표 달성의 80%를 결정**한다는 가정
- 시간 제약이 있을 때 핵심 활동에 집중

#### 우선순위 계산식 (일반적)
```
활동 우선순위 점수 = (목표 기여도 × 0.4) + (취약도 × 0.3) + (시험 중요도 × 0.2) + (완료 용이성 × 0.1)

우선순위 점수 상위 20% → 핵심 활동으로 분류
```

#### 수학 단원별 우선순위 계산식 (NEW - `unit_priority_rules.md`)
```
단원 우선순위 점수 = (
  출제 비중 × 0.4 +           # 출제 비중 40%
  (1 - 난이도/10) × 0.2 +    # 난이도 역수 20% (쉬울수록 높음)
  완료 용이성 × 0.2 +         # 완료 용이성 20%
  (1 - 병목 위험도) × 0.2    # 병목 위험도 역수 20%
) + 시간_제약_조정

시간 제약별 조정:
- 시간 충분: 우선순위 높은 단원 +0.1
- 시간 부족: 어려운 단원 -0.1, 쉬운 단원 +0.1
```

#### 핵심 활동 선별 기준
1. **목표 기여도**: 목표 달성에 직접적으로 기여하는 활동
2. **취약도**: 학생이 약한 영역을 보완하는 활동
3. **시험 중요도**: 시험 출제 비중이 높은 단원/유형 활동
4. **완료 용이성**: 학생이 비교적 쉽게 완료할 수 있는 활동

### 2. 병목 세션 분할 (Split Bottleneck Sessions)

#### 분할 전략

**시간 기반 분할**
- 큰 단원(예: 3시간 소요)을 작은 세션(예: 30분×6)으로 분할
- 각 세션은 독립적으로 완료 가능하도록 설계

**난이도 기반 분할**
- 쉬운 부분 → 어려운 부분 순서로 재배치
- 워밍업 세션 후 본 활동 시작

**의존성 기반 분할**
- 선행 개념 → 응용 문제 순서로 분리
- 각 단계별 완료 여부를 명확히 체크

#### 분할 규칙
```
원본 활동 소요 시간이 가용 시간의 2배 이상 → 분할 필수
원본 활동 소요 시간이 가용 시간의 1.5~2배 → 분할 권장
원본 활동 소요 시간이 가용 시간 이하 → 분할 불필요
```

### 3. 활동 계획 조정 (Adjust Activity Plan)

#### 조정 원칙

**시간 제약 대응**
- 가용 시간 내 완료 가능한 활동만 선별
- 초과 활동은 다음 시간 창으로 연기
- 필수 활동은 시간 단축 버전으로 대체

**우선순위 재배치**
- 핵심 활동을 가용 시간의 앞쪽에 배치
- 선택적 활동은 후순위로 배치

**연속성 유지**
- 관련 활동은 연속 세션으로 배치
- 활동 간 전환 비용 최소화

#### 조정 프로세스
1. **현재 상태 분석**: 완료율, 남은 시간, 잔여 활동 목록 확인
2. **우선순위 재계산**: 핵심 활동 점수 재산정
3. **시간 예산 배분**: 가용 시간을 핵심 활동에 우선 배정
4. **병목 분할**: 큰 활동을 작은 세션으로 분할
5. **최종 계획 수립**: 실행 가능한 활동 목록 및 시간표 생성

---

## 💬 코칭 템플릿

### 시간 제약 상황

**긴급 조정 필요**
- "남은 시간을 고려하면 핵심 활동 3가지만 남기고 오늘 완료합시다."
- "오늘 목표를 축소하고 핵심에 집중하는 것이 더 효과적입니다."

**활동 축소**
- "전체 목표 대비 완료율이 40% 미만입니다. 핵심 20% 활동에 집중해봅시다."
- "시간이 부족하니 가장 중요한 활동부터 시작합시다."

### 병목 상황

**시간 병목**
- "이 단원은 시간이 많이 걸려요. 30분씩 3번에 나눠서 완료하면 어떨까요?"
- "큰 활동을 작은 단위로 나누면 완료하기 쉬워집니다."

**난이도 병목**
- "이 활동이 어려워 보입니다. 쉬운 부분부터 시작해서 점진적으로 진행해봅시다."
- "워밍업 문제부터 풀고 본 문제로 넘어가는 것이 좋겠어요."

**의존성 병목**
- "선행 개념을 먼저 확인한 후 문제를 풀어봅시다."
- "기초 개념부터 정리하고 응용 문제로 넘어가면 더 수월합니다."

### 완료율 향상

**낮은 완료율 (30~49%)**
- "현재 완료율이 40%입니다. 핵심 활동만 선별하여 완료율을 높여봅시다."
- "오늘은 가장 중요한 3가지만 완료하고 나머지는 내일로 넘기면 어떨까요?"

**정체 상태 (<30%)**
- "완료율이 20%로 매우 낮습니다. 즉시 활동 계획을 조정해야 합니다."
- "목표를 현실적으로 재설정하고 작은 성공부터 쌓아가봅시다."

### 우선순위 재설정

**핵심 활동 강조**
- "시험에서 자주 나오는 단원부터 집중하는 것이 효율적입니다."
- "취약한 영역을 보완하는 활동을 우선적으로 진행합시다."

**하위 활동 연기**
- "중요도가 낮은 활동은 다음 시간 창으로 미루고, 핵심에 집중합시다."
- "선택적 활동은 나중에 시간이 생기면 진행하면 됩니다."

---

## 🔗 다른 에이전트와의 연계

### Agent 03 (Goals Analysis) 연계
- **입력**: 일일/주간 목표 및 목표 정렬도 데이터
- **목적**: 목표 대비 잔여 활동 식별
- **출력**: 조정된 활동 계획을 목표 분석에 반영

### Agent 14 (Current Position) 연계 ⭐ 핵심 연계
- **입력**: 
  - 현재 진행 위치 (원활/적절/지연/정체)
  - 완료율 및 위험도 등급
  - 리듬 점수 및 감정 상태
  - 핵심 원인 요약 및 추천 대응
- **목적**: 
  - **현재 위치 평가 데이터를 기반으로 전략 선택**
  - 진행 상태와 위험도에 따라 적절한 조정 전략 결정
  - 감정 상태와 리듬 점수를 고려한 맞춤형 접근
- **출력**: 
  - 상황에 맞는 조정 전략 실행
  - 조정된 활동 계획으로 진행 상태 개선
  - 전략 실행 결과를 Agent 14에 피드백

### Agent 15 (Problem Redefinition) 연계
- **입력**: 재정의된 문제의 핵심 개선 방향 및 우선순위
- **목적**: 문제 해결에 직접 기여하는 활동 우선순위 설정
- **출력**: 문제 해결을 위한 활동 계획 재조정

### Agent 04 (Problem Activity) 연계
- **입력**: 활동 카테고리 및 난이도 데이터
- **목적**: 활동 유형별 조정 전략 수립
- **출력**: 최적 활동 조합 제안

### Agent 09 (Learning Management) 연계
- **입력**: 주간 목표 달성률 및 루틴 패턴 데이터
- **목적**: 주간 목표 달성을 위한 활동 재배치
- **출력**: 주간 목표 달성률 향상을 위한 활동 계획

### Agent 13 (Learning Dropout) 연계
- **입력**: 이탈 위험도 및 정서 상태 데이터
- **목적**: 이탈 예방을 위한 활동 난이도 조정
- **출력**: 지속 가능한 활동 계획 수립

### Agent 01 (Onboarding) 연계
- **입력**: 학생 프로필, MBTI, 학습 스타일, 선호도 데이터
- **목적**: 학생 특성에 맞는 전략 선택 (질문하기, 도제학습 등)
- **출력**: 학생 선호도에 맞는 활동 조정

### Agent 05 (Learning Emotion) 연계
- **입력**: 감정 패턴, 페르소나 정보, 집중도 및 동기 상태
- **목적**: 감정 상태에 맞는 전략 선택 (하이튜터링, 징검다리 활동 등)
- **출력**: 감정 상태를 고려한 활동 조정

---

## 📤 출력 형식

### 1. 잔여 활동 분석 리포트

```
=== 잔여 활동 분석 리포트 ===

[현재 상태]
- 전체 목표 활동 수: 10개
- 완료된 활동 수: 4개
- 완료율: 40% (지연 진행)
- 가용 시간: 2시간

[잔여 활동 목록]
1. [활동명] - 예상 소요: 30분 - 우선순위: 높음 (핵심)
2. [활동명] - 예상 소요: 45분 - 우선순위: 높음 (핵심)
3. [활동명] - 예상 소요: 20분 - 우선순위: 중간
4. [활동명] - 예상 소요: 60분 - 우선순위: 중간
5. [활동명] - 예상 소요: 25분 - 우선순위: 낮음
6. [활동명] - 예상 소요: 40분 - 우선순위: 낮음

[병목 식별]
- 병목 활동: [활동명] (예상 소요: 60분)
  → 병목 점수: 0.75 (고위험)
  → 조치: 20분씩 3회로 분할 권장

[조정 제안]
- 핵심 활동 2개 선별 (활동 1, 2)
- 총 예상 소요: 75분 (가용 시간 내 완료 가능)
- 나머지 활동은 다음 시간 창으로 연기

[선택된 전략]
- **활동축소**: 핵심 20% 활동에 집중
- **징검다리 활동**: 활동 2의 난이도가 높아 중간 단계 활동 추가
```

### 2. 활동 계획 조정안

```
=== 활동 계획 조정안 ===

[조정 전]
- 목표 활동: 10개
- 예상 총 소요 시간: 3시간 40분
- 가용 시간: 2시간
- 문제: 시간 초과 (1시간 40분 부족)

[조정 후]
- 핵심 활동: 2개 (활동 1, 2)
- 예상 총 소요 시간: 1시간 15분
- 가용 시간: 2시간
- 여유 시간: 45분 (워밍업/복습 가능)

[조정 사유]
1. 시간 제약: 가용 시간 내 완료 가능한 활동만 선별
2. 우선순위: 핵심 활동(목표 기여도 높음) 우선 배정
3. 병목 분할: 큰 활동을 작은 세션으로 분할하여 완료 용이성 향상
4. 학생 특성: 탐구형 학습 스타일 → 질문하기 전략 병행

[선택된 전략]
- **활동축소**: 핵심 활동 2개만 선별
- **질문하기**: 활동 진행 중 메타인지 질문으로 학습 전략 이끌어냄

[실행 계획]
1. 활동 1 (30분) - 핵심 개념 정리
   - 질문: "이 개념의 핵심은 무엇인가요?"
2. 활동 2 (45분) - 핵심 유형 문제 풀이
   - 질문: "이 문제를 어떻게 접근하면 좋을까요?"
3. 여유 시간 활용: 간단한 복습 또는 쉬운 문제 (45분)
```

### 3. 코칭 메시지

```
현재 진행 상태: 지연 (완료율 40%)

Agent 14의 분석 결과, 현재 지연 상태이며 감정 상태는 중립, 리듬 점수는 72점입니다.
학생님의 학습 스타일(탐구형)과 현재 상황을 고려하여 다음 전략을 제안합니다.

[선택된 전략]
- **활동축소**: 핵심 활동 2개만 선별하여 집중
- **질문하기**: 활동 진행 중 스스로 사고하도록 질문으로 안내

[제안하는 활동]
1. 핵심 개념 정리 (30분) - 목표 달성에 직접 기여
   - 진행 중 질문: "이 개념의 핵심은 무엇인가요?"
2. 핵심 유형 문제 풀이 (45분) - 시험 중요도 높음
   - 진행 중 질문: "이 문제를 어떻게 접근하면 좋을까요?"

나머지 활동은 내일 시간 창에서 진행하면 됩니다.
```

---

## 🚨 특수 상황 대응

### 1. 시간 부족 극심 (가용 시간 < 핵심 활동 예상 시간)

**조치**
- 핵심 활동도 분할하여 일부만 오늘 완료
- 또는 핵심 활동 중 가장 중요한 1개만 선별
- 나머지는 명확히 다음 시간 창으로 연기 계획 수립

**코칭**
- "시간이 매우 부족합니다. 가장 중요한 활동 1개만 오늘 완료하고, 나머지는 내일 계획을 재조정합시다."

### 2. 모든 활동이 병목 상태

**조치**
- 모든 활동을 작은 단위로 분할
- 또는 활동 난이도를 하향 조정하여 완료 용이성 향상
- 워밍업 활동을 추가하여 학습 흐름 회복

**코칭**
- "모든 활동이 어려워 보입니다. 쉬운 문제부터 시작해서 점진적으로 난이도를 높여봅시다."

### 3. 목표와 현실 간 괴리 극심

**조치**
- 목표 자체를 현실적으로 재설정 (Agent 03과 협의)
- 목표 활동 수를 축소하여 달성 가능한 범위로 조정
- 단기 목표(오늘 완료)와 장기 목표(주간 완료) 구분

**코칭**
- "목표가 현실과 많이 벗어나 있습니다. 달성 가능한 작은 목표부터 설정하고 단계적으로 진행합시다."

---

## 📈 성공 기준

### 활동 조정 성공 판정

1. **완료율 향상**: 조정 후 예상 완료율이 조정 전 대비 증가
2. **시간 적합성**: 조정된 활동이 가용 시간 내 완료 가능
3. **우선순위 준수**: 핵심 활동이 우선적으로 배정됨
4. **실행 가능성**: 학생이 실제로 실행할 수 있는 현실적인 계획

### 측정 지표

- **완료율 개선**: 조정 전 완료율 대비 조정 후 예상 완료율 증가율
- **시간 효율성**: 가용 시간 대비 활동 완료 시간 비율
- **핵심 활동 집중도**: 전체 활동 중 핵심 활동 비율
- **실제 실행률**: 조정된 계획의 실제 실행 여부

---

## 🔄 업데이트 주기

- **실시간**: 활동 완료 시 즉시 잔여 활동 목록 갱신
- **15분 단위**: 진행 상황 재분석 및 조정 필요성 판단
- **일일**: 일일 목표 종료 시 다음 날 활동 계획 사전 조정
- **주간**: 주간 목표 달성률 기반 주간 활동 계획 재조정

---

---

## 📝 전략 실행 예시

### 예시 1: 지연 상태 + 탐구형 학생 + 시간 부족

**상황**
- 진행 상태: 지연 (완료율 45%)
- 학습 스타일: 탐구형
- 감정 상태: 중립
- 가용 시간: 1시간 (부족)

**선택된 전략**
- 활동축소 + 질문하기

**실행**
1. 핵심 활동 2개만 선별
2. 각 활동 진행 중 메타인지 질문으로 학습 전략 이끌어냄
3. 학생이 스스로 문제 해결 방법을 찾도록 유도

---

### 예시 2: 정체 상태 + 불안한 학생 + 시간 충분

**상황**
- 진행 상태: 정체 (완료율 25%)
- 학습 스타일: 튜터링 선호
- 감정 상태: 불안
- 가용 시간: 2시간 (충분)

**선택된 전략**
- 징검다리 활동 + 하이튜터링

**실행**
1. 목표 활동을 3~5개의 중간 단계로 분해
2. 개인 맞춤형 튜터링으로 각 단계 안내
3. 작은 성공 경험을 통해 자신감 회복

---

### 예시 3: 지연 상태 + 도제학습 선호 + 시간 부족

**상황**
- 진행 상태: 지연 (완료율 40%)
- 학습 스타일: 도제학습 선호
- 감정 상태: 중립
- 가용 시간: 1.5시간 (부족)

**선택된 전략**
- 활동축소 + 도제학습 전환

**실행**
1. 핵심 활동 1개만 선별
2. 교사의 사고 과정을 따라가는 방식으로 전환
3. 학생이 풀이 과정을 언어로 설명하는 연습

---

Last Updated: 2025-01-21
