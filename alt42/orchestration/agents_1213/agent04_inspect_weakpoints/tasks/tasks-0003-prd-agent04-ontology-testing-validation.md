# Task List: Agent04 온톨로지 통합 검증 및 테스트

**생성일**: 2025-01-27  
**PRD**: `0003-prd-agent04-ontology-testing-validation.md`  
**상태**: 진행 중

---

## Relevant Files

- `alt42/orchestration/agents/agent04_inspect_weakpoints/ontology/test_ontology.php` - 온톨로지 엔진 테스트 파일 (확장 필요)
- `alt42/orchestration/agents/agent04_inspect_weakpoints/rules/rules.yaml` - 룰 정의 파일 (테스트용)
- `alt42/orchestration/agents/agent22_module_improvement/ui/agent_garden.service.php` - Agent Garden Service (통합 테스트용)

### Notes

- 실제 Moodle 환경에서 테스트 수행
- 테스트 데이터 생성 및 정리 필요
- 로그 분석 및 성능 측정 도구 사용

---

## Tasks

- [ ] 1.0 테스트 환경 구성
  - [ ] 1.1 테스트 데이터베이스 설정 확인
  - [ ] 1.2 테스트 학생 계정 생성
  - [ ] 1.3 테스트 학습 활동 데이터 생성
  - [ ] 1.4 로그 파일 경로 확인

- [ ] 2.0 전체 흐름 검증 테스트
  - [ ] 2.1 학습 활동 수행 시나리오 생성
  - [ ] 2.2 룰 평가 결과 확인 (decision 반환 확인)
  - [ ] 2.3 온톨로지 인스턴스 생성 확인 (DB 조회)
  - [ ] 2.4 온톨로지 추론 결과 확인 (reasoning 필드 확인)
  - [ ] 2.5 보강 방안 생성 확인 (reinforcement_plan 확인)
  - [ ] 2.6 응답 메시지 확인 (response 필드 확인)
  - [ ] 2.7 전체 흐름 로그 확인

- [ ] 3.0 개념이해 활동 시나리오 테스트
  - [ ] 3.1 취약구간 탐지 시나리오 테스트 (CU_A1)
  - [ ] 3.2 TTS 주의집중 패턴 분석 시나리오 테스트 (CU_A2)
  - [ ] 3.3 개념 혼동 탐지 시나리오 테스트 (CU_A3)
  - [ ] 3.4 페르소나-방법 적합성 평가 시나리오 테스트 (CU_B1)
  - [ ] 3.5 지루함 탐지 시나리오 테스트 (CU_C2)
  - [ ] 3.6 각 시나리오별 온톨로지 결과 확인

- [ ] 4.0 다른 활동 시나리오 테스트
  - [ ] 4.1 유형학습 활동 시나리오 테스트
  - [ ] 4.2 문제풀이 활동 시나리오 테스트
  - [ ] 4.3 오답노트 활동 시나리오 테스트
  - [ ] 4.4 질의응답 활동 시나리오 테스트
  - [ ] 4.5 복습활동 시나리오 테스트
  - [ ] 4.6 포모도르 활동 시나리오 테스트

- [ ] 5.0 에러 케이스 테스트
  - [ ] 5.1 온톨로지 액션 실패 시 기본 동작 유지 테스트
  - [ ] 5.2 변수 누락 시 에러 처리 테스트 (`{activity_type}` 없음)
  - [ ] 5.3 온톨로지 결과가 없을 경우 기본 동작 테스트
  - [ ] 5.4 데이터베이스 연결 실패 시 에러 처리 테스트
  - [ ] 5.5 잘못된 온톨로지 클래스명 시 에러 처리 테스트

- [ ] 6.0 성능 테스트
  - [ ] 6.1 단일 취약점 탐지 시 응답 시간 측정
  - [ ] 6.2 다중 취약점 탐지 시 응답 시간 측정
  - [ ] 6.3 대량 데이터 처리 시 성능 확인 (100개 활동 데이터)
  - [ ] 6.4 동시 요청 처리 시 성능 확인 (10개 동시 요청)
  - [ ] 6.5 데이터베이스 쿼리 성능 확인

- [ ] 7.0 데이터베이스 검증
  - [ ] 7.1 온톨로지 인스턴스가 DB에 저장되는지 확인
  - [ ] 7.2 `alt42_ontology_instances` 테이블 데이터 확인
  - [ ] 7.3 학생별 온톨로지 인스턴스 조회 테스트
  - [ ] 7.4 인스턴스 간 관계 설정 확인
  - [ ] 7.5 JSON-LD 데이터 형식 확인

- [ ] 8.0 로그 분석 및 리포트 작성
  - [ ] 8.1 모든 테스트 케이스 로그 수집
  - [ ] 8.2 에러 로그 분석
  - [ ] 8.3 성능 측정 결과 분석
  - [ ] 8.4 테스트 리포트 작성
  - [ ] 8.5 개선 사항 제안

---

**작성일**: 2025-01-27  
**완료 조건**: 모든 테스트 케이스 통과 및 리포트 작성 완료

