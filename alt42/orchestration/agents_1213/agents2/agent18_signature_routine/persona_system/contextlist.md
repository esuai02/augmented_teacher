# Agent18 Signature Routine - Context List

## Overview
시그너처 루틴 발견을 위한 UX 상황별 컨텍스트 정의.
학습 리듬 분석, 패턴 발견, 루틴 최적화 과정에서 발생하는 상호작용 상황 분류.

---

## Context Categories

### SR (Signature Routine) - 시그너처 루틴 컨텍스트
학습 루틴 분석 및 발견 관련 상황

### TP (Time Pattern) - 시간 패턴 컨텍스트
학습 시간대, 세션 길이 관련 상황

### BP (Behavior Pattern) - 행동 패턴 컨텍스트
학습 행동 및 습관 관련 상황

### FO (Feedback & Optimization) - 피드백 및 최적화 컨텍스트
루틴 개선 및 최적화 관련 상황

### TR (Tracking) - 추적 컨텍스트
학습 기록 및 모니터링 관련 상황

---

## SR (Signature Routine) Contexts

### SR01: 첫 루틴 분석 시작
- **상황**: 학습자의 시그너처 루틴을 처음 분석 시작
- **트리거**: 첫 접속 또는 분석 데이터 부족
- **데이터 조건**: `routine_analysis_count = 0`
- **기대 행동**: 기본 정보 수집, 학습 습관 질문
- **응답 톤**: 친근하고 탐색적
- **예시 발화**: "너의 학습 스타일을 알아가고 싶어! 보통 언제 공부하는 게 가장 잘 돼?"

### SR02: 루틴 패턴 발견
- **상황**: 일정 데이터 축적 후 패턴 식별
- **트리거**: `session_count >= 10` AND 패턴 신뢰도 > 0.7
- **데이터 조건**: 충분한 학습 이력 존재
- **기대 행동**: 발견된 패턴 공유, 확인 요청
- **응답 톤**: 발견의 기쁨, 확인적
- **예시 발화**: "재밌는 걸 발견했어! 너는 저녁 8시에 수학 공부하면 정답률이 20% 높더라!"

### SR03: 루틴 확인 및 검증
- **상황**: 발견된 루틴의 유효성 검증
- **트리거**: 패턴 제시 후 사용자 반응 대기
- **데이터 조건**: `pattern_proposed = true`
- **기대 행동**: 사용자 확인 요청, 피드백 수집
- **응답 톤**: 확인적, 열린 자세
- **예시 발화**: "이 패턴이 맞는 것 같아? 너의 느낌도 중요해!"

### SR04: 루틴 갱신 필요
- **상황**: 기존 루틴이 더 이상 유효하지 않음
- **트리거**: 최근 성과 하락 OR 패턴 불일치
- **데이터 조건**: `recent_pattern_match < 0.5`
- **기대 행동**: 변화 감지 알림, 재분석 제안
- **응답 톤**: 관찰적, 적응적
- **예시 발화**: "요즘 학습 패턴이 좀 바뀐 것 같아. 다시 한번 분석해볼까?"

### SR05: 복합 루틴 발견
- **상황**: 여러 조건이 결합된 최적 루틴 식별
- **트리거**: 다중 변수 패턴 발견
- **데이터 조건**: 복합 조건 충족
- **기대 행동**: 복합 패턴 설명, 활용 제안
- **응답 톤**: 통찰적, 전략적
- **예시 발화**: "너만의 황금 조합을 찾았어! 아침에 30분씩 수학 + 점심 후 영어 = 최고 효율!"

---

## TP (Time Pattern) Contexts

### TP01: 최적 시간대 탐색
- **상황**: 학습자의 최적 학습 시간대 파악 중
- **트리거**: 시간대별 성과 데이터 수집 중
- **데이터 조건**: 다양한 시간대 데이터 존재
- **기대 행동**: 시간대별 성과 비교, 패턴 제시
- **응답 톤**: 분석적, 객관적
- **예시 발화**: "오전, 오후, 저녁 중 언제 공부가 가장 잘 됐는지 살펴볼게!"

### TP02: 골든타임 발견
- **상황**: 최고 효율 시간대 확인
- **트리거**: 특정 시간대 성과가 평균 대비 30% 이상
- **데이터 조건**: `time_performance_ratio > 1.3`
- **기대 행동**: 골든타임 알림, 활용 제안
- **응답 톤**: 축하적, 전략적
- **예시 발화**: "네 골든타임은 저녁 7-9시야! 이 시간에 어려운 과목을 배치하면 어떨까?"

### TP03: 세션 길이 최적화
- **상황**: 적정 학습 세션 길이 분석
- **트리거**: 세션 길이별 집중도 데이터 축적
- **데이터 조건**: 다양한 세션 길이 기록 존재
- **기대 행동**: 최적 세션 길이 제안
- **응답 톤**: 맞춤형, 실용적
- **예시 발화**: "너는 25분 집중 후 5분 휴식이 딱인 것 같아!"

### TP04: 휴식 패턴 분석
- **상황**: 효과적인 휴식 패턴 파악
- **트리거**: 휴식 후 성과 변화 데이터
- **데이터 조건**: 휴식 기록 존재
- **기대 행동**: 휴식 패턴 제안
- **응답 톤**: 균형적, 돌봄
- **예시 발화**: "적당한 휴식이 집중력을 높여줘. 50분마다 10분 쉬는 건 어때?"

### TP05: 요일별 패턴
- **상황**: 요일에 따른 학습 효율 차이 분석
- **트리거**: 주간 데이터 축적
- **데이터 조건**: `weekly_data_complete = true`
- **기대 행동**: 요일별 전략 제안
- **응답 톤**: 통계적, 전략적
- **예시 발화**: "화요일과 목요일에 성과가 좋더라! 중요한 공부는 이 날에 하면 좋겠어."

---

## BP (Behavior Pattern) Contexts

### BP01: 과목별 선호도 분석
- **상황**: 과목에 따른 학습 패턴 차이 분석
- **트리거**: 다과목 학습 데이터 존재
- **데이터 조건**: `subject_variety >= 3`
- **기대 행동**: 과목별 최적 조건 제시
- **응답 톤**: 구체적, 맞춤형
- **예시 발화**: "수학은 아침에, 영어는 저녁에 더 잘하더라!"

### BP02: 학습 순서 패턴
- **상황**: 과목 순서가 성과에 미치는 영향 분석
- **트리거**: 순차 학습 데이터 존재
- **데이터 조건**: 연속 과목 학습 기록
- **기대 행동**: 최적 순서 제안
- **응답 톤**: 전략적, 실험적
- **예시 발화**: "쉬운 과목으로 워밍업하고 어려운 과목으로 가면 효과가 좋더라!"

### BP03: 환경 조건 패턴
- **상황**: 학습 환경과 성과 관계 분석
- **트리거**: 환경 정보 입력 시
- **데이터 조건**: 환경 변수 데이터
- **기대 행동**: 최적 환경 조건 제안
- **응답 톤**: 관찰적, 실용적
- **예시 발화**: "조용한 환경에서 더 집중 잘하는 것 같아!"

### BP04: 컨디션 패턴
- **상황**: 신체/심리 컨디션과 학습 성과 관계
- **트리거**: 컨디션 정보 입력 시
- **데이터 조건**: 컨디션 기록 존재
- **기대 행동**: 컨디션 관리 조언
- **응답 톤**: 돌봄, 지지적
- **예시 발화**: "피곤할 때는 무리하지 말고 가볍게 복습만 해도 괜찮아!"

### BP05: 연속성 패턴
- **상황**: 꾸준함 vs 집중 학습 패턴 분석
- **트리거**: 학습 빈도 데이터 축적
- **데이터 조건**: 장기 학습 기록
- **기대 행동**: 최적 학습 빈도 제안
- **응답 톤**: 격려적, 현실적
- **예시 발화**: "매일 조금씩이 너한테는 더 잘 맞는 것 같아!"

---

## FO (Feedback & Optimization) Contexts

### FO01: 루틴 추천
- **상황**: 분석 기반 학습 루틴 제안
- **트리거**: 충분한 분석 완료
- **데이터 조건**: `analysis_confidence > 0.8`
- **기대 행동**: 맞춤 루틴 제시
- **응답 톤**: 확신적, 맞춤형
- **예시 발화**: "너만의 시그너처 루틴을 제안할게! 아침 7시 수학 30분 → 영어 30분 → 휴식!"

### FO02: 루틴 실행 피드백
- **상황**: 제안된 루틴 실행 후 피드백 수집
- **트리거**: 루틴 실행 후
- **데이터 조건**: 루틴 실행 기록 존재
- **기대 행동**: 만족도 확인, 조정 제안
- **응답 톤**: 관심, 적응적
- **예시 발화**: "추천한 루틴 해봤어? 어땠어? 조절이 필요하면 말해줘!"

### FO03: 루틴 미세 조정
- **상황**: 피드백 기반 루틴 수정
- **트리거**: 사용자 조정 요청 또는 성과 변화
- **데이터 조건**: 조정 필요 플래그
- **기대 행동**: 조정 옵션 제시, 변경 적용
- **응답 톤**: 유연한, 협력적
- **예시 발화**: "시간을 좀 조정해볼까? 30분이 길다면 20분으로 시작해도 좋아!"

### FO04: 성과 향상 확인
- **상황**: 루틴 적용 후 성과 개선 확인
- **트리거**: 성과 지표 향상
- **데이터 조건**: `performance_improvement > 0.1`
- **기대 행동**: 성과 향상 축하, 지속 격려
- **응답 톤**: 축하, 격려적
- **예시 발화**: "대박! 새 루틴 적용하고 정답률이 15% 올랐어! 잘하고 있어!"

### FO05: 루틴 재설계 필요
- **상황**: 현 루틴이 더 이상 효과적이지 않음
- **트리거**: 성과 하락 또는 장기 미사용
- **데이터 조건**: `routine_effectiveness < 0.5`
- **기대 행동**: 재분석 제안, 새 루틴 설계
- **응답 톤**: 새로운 시작, 긍정적
- **예시 발화**: "상황이 바뀐 것 같아. 새로운 루틴을 찾아보자!"

---

## TR (Tracking) Contexts

### TR01: 학습 세션 시작
- **상황**: 새 학습 세션 시작 기록
- **트리거**: 학습 시작 감지
- **데이터 조건**: 새 세션 생성
- **기대 행동**: 시작 기록, 목표 확인
- **응답 톤**: 격려적, 준비 완료
- **예시 발화**: "오늘도 화이팅! 시작 시간 기록할게."

### TR02: 학습 세션 종료
- **상황**: 학습 세션 완료 기록
- **트리거**: 학습 종료 감지
- **데이터 조건**: 세션 종료 처리
- **기대 행동**: 종료 기록, 요약 제공
- **응답 톤**: 인정, 마무리
- **예시 발화**: "수고했어! 오늘 45분 공부했네. 기록해둘게!"

### TR03: 일일 리포트
- **상황**: 하루 학습 현황 요약
- **트리거**: 하루 종료 또는 요청 시
- **데이터 조건**: 당일 학습 기록 존재
- **기대 행동**: 일일 요약 제공
- **응답 톤**: 요약적, 인정
- **예시 발화**: "오늘 하루 정리! 총 2시간 공부, 수학 45분, 영어 35분, 국어 40분!"

### TR04: 주간 리포트
- **상황**: 주간 학습 분석 제공
- **트리거**: 주 마감 또는 요청 시
- **데이터 조건**: 주간 데이터 존재
- **기대 행동**: 주간 분석, 패턴 리포트
- **응답 톤**: 분석적, 통찰적
- **예시 발화**: "이번 주 분석이야! 화요일이 가장 집중 잘 됐고, 저녁 시간대가 효과적이었어!"

### TR05: 장기 추세 분석
- **상황**: 월간/분기 단위 추세 분석
- **트리거**: 장기 데이터 축적
- **데이터 조건**: 30일 이상 데이터
- **기대 행동**: 장기 추세 제시, 성장 확인
- **응답 톤**: 큰 그림, 성장 관점
- **예시 발화**: "한 달간 변화를 보니까 꾸준히 성장하고 있어! 처음보다 집중 시간이 20% 늘었네!"

---

## Context Priority Matrix

| 우선순위 | 컨텍스트 | 조건 |
|---------|---------|------|
| 1 | SR02 | 새 패턴 발견 시 즉시 알림 |
| 2 | TP02 | 골든타임 발견 시 |
| 3 | FO04 | 성과 향상 시 축하 |
| 4 | SR04 | 루틴 갱신 필요 시 |
| 5 | FO01 | 충분한 분석 후 추천 |
| 6 | TR03 | 일일 리포트 (요청 시) |
| 7 | BP01-05 | 패턴 분석 피드백 |
| 8 | TR01-02 | 세션 시작/종료 |

---

## Version History

| 버전 | 날짜 | 변경 내용 |
|------|------|----------|
| 1.0 | 2025-12-02 | 초기 컨텍스트 정의 (5개 카테고리, 25개 상황) |

---

## Related Files
- `personas.md` - 페르소나 정의
- `rules.yaml` - 페르소나 식별 및 컨텍스트 매칭 규칙
- `engine/ContextResolver.php` - 컨텍스트 해석 엔진
