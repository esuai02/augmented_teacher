<?php
/**
 * Agent09 Persona Response Templates
 *
 * í˜ë¥´ì†Œë‚˜ë³„ ì‘ë‹µ í…œí”Œë¦¿ ì •ì˜
 * URL: https://mathking.kr/moodle/local/augmented_teacher/alt42/orchestration/agents/agent09_learning_management/persona_system/templates/response_templates.php
 *
 * @package AugmentedTeacher\Agent09\PersonaSystem\Templates
 * @version 1.0
 */

/**
 * í†¤ë³„ ê¸°ë³¸ ìŠ¤íƒ€ì¼ ì •ì˜
 */
$toneStyles = [
    'Gentle' => [
        'style' => 'ë¶€ë“œëŸ½ê³  ë”°ëœ»í•œ',
        'emoji_level' => 'minimal',
        'formality' => 'formal',
        'pace' => 'slow',
        'characteristics' => ['ê³µê°ì ', 'ì¸ë‚´ì‹¬ìˆëŠ”', 'ê²©ë ¤í•˜ëŠ”']
    ],
    'Warm' => [
        'style' => 'ë”°ëœ»í•˜ê³  ì§€ì§€ì ì¸',
        'emoji_level' => 'moderate',
        'formality' => 'semi-formal',
        'pace' => 'moderate',
        'characteristics' => ['ì§€ì§€í•˜ëŠ”', 'ê´€ì‹¬ì–´ë¦°', 'ë™ê¸°ë¶€ì—¬í•˜ëŠ”']
    ],
    'Steady' => [
        'style' => 'ì•ˆì •ì ì´ê³  ì¼ê´€ëœ',
        'emoji_level' => 'minimal',
        'formality' => 'formal',
        'pace' => 'steady',
        'characteristics' => ['ì‹ ë¢°ê°ìˆëŠ”', 'ì²´ê³„ì ì¸', 'ëª…í™•í•œ']
    ],
    'Cheerful' => [
        'style' => 'ë°ê³  ì—ë„ˆì§€ ë„˜ì¹˜ëŠ”',
        'emoji_level' => 'high',
        'formality' => 'casual',
        'pace' => 'fast',
        'characteristics' => ['í™œê¸°ì°¬', 'ê¸ì •ì ì¸', 'ì¶•í•˜í•˜ëŠ”']
    ],
    'Focused' => [
        'style' => 'ì§‘ì¤‘ì ì´ê³  ëª©í‘œì§€í–¥ì ',
        'emoji_level' => 'minimal',
        'formality' => 'formal',
        'pace' => 'moderate',
        'characteristics' => ['íš¨ìœ¨ì ì¸', 'ë¶„ì„ì ì¸', 'ì§ì ‘ì ì¸']
    ],
    'Supportive' => [
        'style' => 'ì§€ì§€ì ì´ê³  í•¨ê»˜í•˜ëŠ”',
        'emoji_level' => 'moderate',
        'formality' => 'semi-formal',
        'pace' => 'slow',
        'characteristics' => ['ë™ë°˜ìì ', 'ì´í•´í•˜ëŠ”', 'ê²©ë ¤í•˜ëŠ”']
    ]
];

/**
 * í˜ë¥´ì†Œë‚˜ë³„ ì‘ë‹µ í…œí”Œë¦¿
 * {name}: í•™ìƒ ì´ë¦„
 * {progress}: ì§„í–‰ë¥ 
 * {goal}: ëª©í‘œ
 * {streak}: ì—°ì† ì¼ìˆ˜
 * {score}: ì ìˆ˜
 * {improvement}: í–¥ìƒë„
 */
$personaTemplates = [

    // ===================================================
    // P ì‹œë¦¬ì¦ˆ: íŒ¨í„´ ê¸°ë°˜ í˜ë¥´ì†Œë‚˜
    // ===================================================
    'P-SPARSE' => [
        'tone' => 'Gentle',
        'greeting' => [
            'ì•ˆë…•í•˜ì„¸ìš” {name}ë‹˜, ì˜¤ëœë§Œì´ì—ìš”.',
            '{name}ë‹˜, ì˜ ì§€ë‚´ì…¨ë‚˜ìš”?',
            'ë°˜ê°€ì›Œìš” {name}ë‹˜, ì˜¤ëŠ˜ í•¨ê»˜í•´ì„œ ì¢‹ì•„ìš”.'
        ],
        'encouragement' => [
            'ì¡°ê¸ˆì”©, ì²œì²œíˆ ì‹œì‘í•´ë´ìš”. ì‘ì€ ì‹œì‘ì´ í° ë³€í™”ë¥¼ ë§Œë“¤ì–´ìš”.',
            'ì˜¤ëŠ˜ 5ë¶„ë§Œ íˆ¬ìí•´ë³¼ê¹Œìš”? ì‘ì€ ìŠµê´€ì´ ëª¨ì—¬ í° ì„±ê³¼ê°€ ë¼ìš”.',
            'ë‹¤ì‹œ ì‹œì‘í•˜ëŠ” ê²ƒë„ ìš©ê¸°ì˜ˆìš”. í•¨ê»˜ í•´ë´ìš”.'
        ],
        'action_prompt' => [
            'ì˜¤ëŠ˜ í¬ëª¨ë„ë¡œ 1ì„¸ì…˜ ë„ì „í•´ë³¼ê¹Œìš”?',
            'ê°„ë‹¨í•œ ëª©í‘œ í•˜ë‚˜ ì„¸ì›Œë³¼ê¹Œìš”?',
            'ì˜¤ëŠ˜ì˜ ì‘ì€ ëª©í‘œë¥¼ ì •í•´ë´ìš”.'
        ],
        'follow_up' => [
            'ì–´ë– ì…¨ì–´ìš”? ì¡°ê¸ˆì”© ìµìˆ™í•´ì§ˆ ê±°ì˜ˆìš”.',
            'ì²« ê±¸ìŒì„ ë—ë„¤ìš”! ëŒ€ë‹¨í•´ìš”.',
            'ì˜¤ëŠ˜ í•˜ë£¨ë„ ìˆ˜ê³ í•˜ì…¨ì–´ìš”.'
        ]
    ],

    'P-ACTIVE' => [
        'tone' => 'Cheerful',
        'greeting' => [
            '{name}ë‹˜! ì˜¤ëŠ˜ë„ í™œë°œí•˜ì‹œë„¤ìš”! ğŸ‰',
            'ì™€, {name}ë‹˜ ì˜¤ëŠ˜ë„ í™”ì´íŒ…! ğŸ’ª',
            '{name}ë‹˜ì˜ ì—´ì •ì´ ëŠê»´ì ¸ìš”! âœ¨'
        ],
        'encouragement' => [
            'ì •ë§ ëŒ€ë‹¨í•´ìš”! {streak}ì¼ ì—°ì† ì°¸ì—¬ ì¤‘ì´ì‹œë„¤ìš”!',
            '{progress}% ë‹¬ì„±! ì´ í˜ì´ìŠ¤ë¼ë©´ ëª©í‘œ ë‹¬ì„± í™•ì‹¤í•´ìš”!',
            'ê¾¸ì¤€í•¨ì´ ë¹›ë‚˜ìš”! ê³„ì† ì´ëŒ€ë¡œ ê°€ë´ìš”!'
        ],
        'action_prompt' => [
            'ì˜¤ëŠ˜ì˜ ë„ì „ ëª©í‘œëŠ” ë­”ê°€ìš”?',
            'ë” ë†’ì€ ëª©í‘œì— ë„ì „í•´ë³¼ê¹Œìš”?',
            'ì˜¤ëŠ˜ì€ ì–´ë–¤ ê¸°ë¡ì„ ì„¸ì›Œë³¼ê¹Œìš”?'
        ],
        'follow_up' => [
            'ì—­ì‹œ {name}ë‹˜! ì˜¤ëŠ˜ë„ ë©‹ì¡Œì–´ìš”! ğŸŒŸ',
            'ë˜ í•œ ë‹¨ê³„ ì„±ì¥í–ˆë„¤ìš”! ì¶•í•˜í•´ìš”!',
            'ì´ëŸ° í˜ì´ìŠ¤ë©´ ë­ë“  í•  ìˆ˜ ìˆì–´ìš”!'
        ]
    ],

    // ===================================================
    // D ì‹œë¦¬ì¦ˆ: ì´íƒˆ ìœ„í—˜ ê¸°ë°˜ í˜ë¥´ì†Œë‚˜
    // ===================================================
    'D-ALERT' => [
        'tone' => 'Warm',
        'greeting' => [
            '{name}ë‹˜, ìš”ì¦˜ ì¢€ í˜ë“œì…¨ë‚˜ìš”?',
            'ì˜¤ëœë§Œì´ì—ìš” {name}ë‹˜, ì˜ ì§€ë‚´ì…¨ì–´ìš”?',
            '{name}ë‹˜, ê±±ì •ëì–´ìš”. ì–´ë– ì„¸ìš”?'
        ],
        'encouragement' => [
            'ì ì‹œ ì‰¬ì–´ê°€ë„ ê´œì°®ì•„ìš”. ì¤‘ìš”í•œ ê±´ í¬ê¸°í•˜ì§€ ì•ŠëŠ” ê±°ì˜ˆìš”.',
            'ëª¨ë‘ê°€ ì–´ë ¤ìš´ ì‹œê¸°ê°€ ìˆì–´ìš”. í•¨ê»˜ í—¤ì³ë‚˜ê°€ë´ìš”.',
            'ì§€ê¸ˆ ëŠë¼ëŠ” ì–´ë ¤ì›€, ì¶©ë¶„íˆ ì´í•´í•´ìš”. ê°™ì´ í•´ê²°í•´ë´ìš”.'
        ],
        'action_prompt' => [
            'ë¶€ë‹´ì—†ì´ 5ë¶„ë§Œ í•¨ê»˜í•´ë³¼ê¹Œìš”?',
            'ì˜¤ëŠ˜ì€ ì•„ì£¼ ì‘ì€ ê²ƒ í•˜ë‚˜ë§Œ í•´ë´ìš”.',
            'ë¬´ì—‡ì´ ê°€ì¥ í˜ë“œì…¨ì–´ìš”? ì–˜ê¸°í•´ì£¼ì„¸ìš”.'
        ],
        'follow_up' => [
            'ì˜¤ëŠ˜ í•¨ê»˜í•´ì¤˜ì„œ ê³ ë§ˆì›Œìš”.',
            'ì¡°ê¸ˆì”© ë‚˜ì•„ì§€ê³  ìˆì–´ìš”. ì˜í•˜ê³  ìˆì–´ìš”.',
            'ì–¸ì œë“  ì–˜ê¸°í•´ì£¼ì„¸ìš”. ì—¬ê¸° ìˆì„ê²Œìš”.'
        ]
    ],

    'D-CRITICAL' => [
        'tone' => 'Supportive',
        'greeting' => [
            '{name}ë‹˜, ì˜¤ëŠ˜ ì ê¹ ì–˜ê¸°í•  ìˆ˜ ìˆì„ê¹Œìš”?',
            '{name}ë‹˜, ë§ì´ ê±±ì •ë˜ì—ˆì–´ìš”.',
            'ì•ˆë…•í•˜ì„¸ìš” {name}ë‹˜, í•¨ê»˜ ì´ì•¼ê¸° ë‚˜ëˆ ë´ìš”.'
        ],
        'encouragement' => [
            'ì–´ë–¤ ìƒí™©ì´ë“  í•¨ê»˜ í•´ê²°í•  ìˆ˜ ìˆì–´ìš”.',
            'í¬ê¸°í•˜ì§€ ë§ì•„ìš”. ë°©ë²•ì„ ê°™ì´ ì°¾ì•„ë´ìš”.',
            'ì§€ê¸ˆ ë‹¹ì¥ì€ í˜ë“¤ì–´ë„, ê¸¸ì€ ìˆì–´ìš”.'
        ],
        'action_prompt' => [
            'ë¬´ì—‡ì´ ê°€ì¥ í° ì–´ë ¤ì›€ì¸ê°€ìš”?',
            'ì–´ë–¤ ë„ì›€ì´ í•„ìš”í•˜ì„¸ìš”?',
            'ë‹´ì„ì„ ìƒë‹˜ê³¼ë„ ìƒë‹´í•´ë³¼ê¹Œìš”?'
        ],
        'follow_up' => [
            'ì˜¤ëŠ˜ ëŒ€í™”í•´ì„œ ë‹¤í–‰ì´ì—ìš”.',
            'ì–¸ì œë“  ì—°ë½ì£¼ì„¸ìš”. ì‘ì›í• ê²Œìš”.',
            'í•¨ê»˜ë¼ë©´ í•´ë‚¼ ìˆ˜ ìˆì–´ìš”.'
        ],
        'escalation_needed' => true
    ],

    // ===================================================
    // A ì‹œë¦¬ì¦ˆ: ì¶œê²° ê¸°ë°˜ í˜ë¥´ì†Œë‚˜
    // ===================================================
    'A-CONSISTENT' => [
        'tone' => 'Steady',
        'greeting' => [
            '{name}ë‹˜, ì˜¤ëŠ˜ë„ ê·œì¹™ì ìœ¼ë¡œ ì˜¤ì…¨ë„¤ìš”.',
            'ì–´ê¹€ì—†ì´ ì˜¤ì‹  {name}ë‹˜, ë°˜ê°‘ìŠµë‹ˆë‹¤.',
            '{name}ë‹˜ì˜ ê¾¸ì¤€í•¨ì´ ì¸ìƒì ì´ì—ìš”.'
        ],
        'encouragement' => [
            '{streak}ì¼ ì—°ì† ì¶œì„! ëŒ€ë‹¨í•œ ìŠµê´€ì´ì—ìš”.',
            'ê·œì¹™ì ì¸ í•™ìŠµ ìŠµê´€ì´ ì˜ ìë¦¬ì¡ì•˜ë„¤ìš”.',
            'ì´ëŸ° ê¾¸ì¤€í•¨ì´ ì„±ê³¼ë¡œ ì´ì–´ì§ˆ ê±°ì˜ˆìš”.'
        ],
        'action_prompt' => [
            'ì˜¤ëŠ˜ì˜ í•™ìŠµ ê³„íšì€ ì–´ë–»ê²Œ ë˜ì„¸ìš”?',
            'ë£¨í‹´ëŒ€ë¡œ ì§„í–‰í•´ë³¼ê¹Œìš”?',
            'í‰ì†Œì²˜ëŸ¼ ì‹œì‘í•´ë´ìš”.'
        ],
        'follow_up' => [
            'ì˜¤ëŠ˜ë„ ê³„íšëŒ€ë¡œ ì˜ ë§ˆë¬´ë¦¬í–ˆë„¤ìš”.',
            'í•œê²°ê°™ì€ {name}ë‹˜, ìˆ˜ê³ í•˜ì…¨ì–´ìš”.',
            'ë‚´ì¼ë„ ê°™ì€ ì‹œê°„ì— ë§Œë‚˜ìš”.'
        ]
    ],

    'A-IRREGULAR' => [
        'tone' => 'Warm',
        'greeting' => [
            '{name}ë‹˜, ì˜¤ëŠ˜ ì™€ì£¼ì…”ì„œ ë°˜ê°€ì›Œìš”!',
            'ë‹¤ì‹œ ë§Œë‚˜ì„œ ì¢‹ì•„ìš”, {name}ë‹˜.',
            '{name}ë‹˜! ì˜¤ëŠ˜ í•¨ê»˜í•´ì„œ ê¸°ë»ìš”.'
        ],
        'encouragement' => [
            'ë¶ˆê·œì¹™í•´ë„ ê´œì°®ì•„ìš”. ì˜¬ ë•Œë§ˆë‹¤ ì„±ì¥í•˜ëŠ” ê±°ì˜ˆìš”.',
            'ë°”ìœ ì¼ì • ì†ì—ì„œë„ ì‹œê°„ ë‚´ì£¼ì…¨ë„¤ìš”.',
            'ë§¤ë²ˆ ì™„ë²½í•  í•„ìš” ì—†ì–´ìš”. ì˜¤ëŠ˜ ì˜¨ ê²ƒì´ ì¤‘ìš”í•´ìš”.'
        ],
        'action_prompt' => [
            'ì˜¤ëŠ˜ 20ë¶„ë§Œ ì§‘ì¤‘í•´ë³¼ê¹Œìš”?',
            'í•  ìˆ˜ ìˆëŠ” ë§Œí¼ë§Œ í•´ë´ìš”.',
            'ì‘ì€ ëª©í‘œ í•˜ë‚˜ ë‹¬ì„±í•´ë´ìš”.'
        ],
        'follow_up' => [
            'ì˜¤ëŠ˜ ì™€ì„œ í•¨ê»˜í•´ì¤˜ì„œ ê³ ë§ˆì›Œìš”.',
            'ë‹¤ìŒì— ë˜ ë´ìš”!',
            'ì–¸ì œë“  í¸í•˜ê²Œ ì™€ì£¼ì„¸ìš”.'
        ]
    ],

    // ===================================================
    // G ì‹œë¦¬ì¦ˆ: ëª©í‘œ ê¸°ë°˜ í˜ë¥´ì†Œë‚˜
    // ===================================================
    'G-ACHIEVER' => [
        'tone' => 'Cheerful',
        'greeting' => [
            '{name}ë‹˜! ëª©í‘œ ë‹¬ì„±ì˜ ë‹¬ì¸! ğŸ†',
            'ì™€, {name}ë‹˜ ë˜ ëª©í‘œ ë‹¬ì„±í•˜ì…¨ì–´ìš”?',
            '{name}ë‹˜ì˜ ì„±ì·¨ë ¥ ì •ë§ ëŒ€ë‹¨í•´ìš”! â­'
        ],
        'encouragement' => [
            '{progress}% ë‹¬ì„±ë¥ ! ì •ë§ ë†€ë¼ì›Œìš”!',
            'ì´ë²ˆ ì£¼ë§Œ {goal}ê°œ ëª©í‘œ ì™„ë£Œ! ìµœê³ ì˜ˆìš”!',
            'ëª©í‘œ ì„¤ì •ë¶€í„° ë‹¬ì„±ê¹Œì§€, ì™„ë²½í•´ìš”!'
        ],
        'action_prompt' => [
            'ë‹¤ìŒ ë„ì „ ëª©í‘œëŠ” ë­”ê°€ìš”?',
            'ë” ë†’ì€ ëª©í‘œì— ë„ì „í•´ë³¼ê¹Œìš”?',
            'ìƒˆë¡œìš´ ë¶„ì•¼ì—ë„ ëª©í‘œ ì„¸ì›Œë³¼ê¹Œìš”?'
        ],
        'follow_up' => [
            'ì—­ì‹œ! ë˜ í•´ëƒˆë„¤ìš”! ğŸŠ',
            'ì•ìœ¼ë¡œê°€ ë” ê¸°ëŒ€ë¼ìš”!',
            'ì´ ì„±ì·¨ê°ì„ ê¸°ì–µí•´ë‘ì„¸ìš”!'
        ]
    ],

    'G-STRUGGLING' => [
        'tone' => 'Gentle',
        'greeting' => [
            '{name}ë‹˜, ëª©í‘œê°€ ì¡°ê¸ˆ ë¶€ë‹´ë˜ì…¨ë‚˜ìš”?',
            'ì•ˆë…•í•˜ì„¸ìš” {name}ë‹˜, ì–´ë– ì„¸ìš”?',
            '{name}ë‹˜, ì˜¤ëŠ˜ì€ ì¢€ ë‹¤ë¥´ê²Œ í•´ë³¼ê¹Œìš”?'
        ],
        'encouragement' => [
            'ëª©í‘œëŠ” ìˆ˜ì •í•´ë„ ê´œì°®ì•„ìš”. ë‚˜ì—ê²Œ ë§ëŠ” ê²Œ ìµœê³ ì˜ˆìš”.',
            'ë„ˆë¬´ í° ëª©í‘œë³´ë‹¤ ì‘ì€ ì„±ê³µì´ ì¤‘ìš”í•´ìš”.',
            'ì™„ë²½í•˜ì§€ ì•Šì•„ë„ ë¼ìš”. ê³¼ì •ì´ ì¤‘ìš”í•´ìš”.'
        ],
        'action_prompt' => [
            'ëª©í‘œë¥¼ ì¢€ ë” ì‘ê²Œ ë‚˜ëˆ ë³¼ê¹Œìš”?',
            'ë‹¬ì„± ê°€ëŠ¥í•œ ëª©í‘œë¡œ ì¬ì„¤ì •í•´ë´ìš”.',
            'ì˜¤ëŠ˜ì€ í•˜ë‚˜ë§Œ ì§‘ì¤‘í•´ë´ìš”.'
        ],
        'follow_up' => [
            'ì´ ì‘ì€ ì„±ê³µì´ í° ìì‹ ê°ì´ ë  ê±°ì˜ˆìš”.',
            'í•œ ê±¸ìŒì”©, ì˜í•˜ê³  ìˆì–´ìš”.',
            'ëª©í‘œ ì¡°ì •ë„ í›Œë¥­í•œ ê²°ì •ì´ì—ìš”.'
        ]
    ],

    // ===================================================
    // F ì‹œë¦¬ì¦ˆ: í¬ëª¨ë„ë¡œ ê¸°ë°˜ í˜ë¥´ì†Œë‚˜
    // ===================================================
    'F-MASTER' => [
        'tone' => 'Focused',
        'greeting' => [
            '{name}ë‹˜, í¬ëª¨ë„ë¡œ ë§ˆìŠ¤í„°ì‹œë„¤ìš”.',
            'ì˜¤ëŠ˜ë„ ì§‘ì¤‘ ëª¨ë“œ ì‹œì‘í• ê¹Œìš”, {name}ë‹˜?',
            '{name}ë‹˜, íš¨ìœ¨ì ì¸ í•™ìŠµ ì¤€ë¹„ë˜ì…¨ë‚˜ìš”?'
        ],
        'encouragement' => [
            'í‰ê·  {score}ì„¸ì…˜/ì¼! ëŒ€ë‹¨í•œ ì§‘ì¤‘ë ¥ì´ì—ìš”.',
            'ì™„ë£Œìœ¨ {progress}%! ìµœìƒì˜ íš¨ìœ¨ì´ì—ìš”.',
            'í¬ëª¨ë„ë¡œ í™œìš©, ì •ë§ ì˜í•˜ê³  ê³„ì„¸ìš”.'
        ],
        'action_prompt' => [
            'ì˜¤ëŠ˜ ëª©í‘œ ì„¸ì…˜ ìˆ˜ëŠ”ìš”?',
            'ì§‘ì¤‘ ì‹œê°„ ëŠ˜ë ¤ë³¼ê¹Œìš”?',
            'ì–´ë–¤ ì£¼ì œë¡œ í¬ëª¨ë„ë¡œ í• ê¹Œìš”?'
        ],
        'follow_up' => [
            'ì˜¤ëŠ˜ë„ íš¨ìœ¨ì ì¸ í•™ìŠµì´ì—ˆì–´ìš”.',
            'ì§‘ì¤‘ë ¥ ìœ ì§€ ë¹„ê²°ì´ ë­”ê°€ìš”?',
            'ê¾¸ì¤€í•œ í¬ëª¨ë„ë¡œê°€ ì‹¤ë ¥ì´ ë˜ê³  ìˆì–´ìš”.'
        ]
    ],

    'F-BEGINNER' => [
        'tone' => 'Supportive',
        'greeting' => [
            '{name}ë‹˜, í¬ëª¨ë„ë¡œ ë„ì „ ì¤‘ì´ì‹œì£ ?',
            'ì§‘ì¤‘ í•™ìŠµ, í•¨ê»˜ ì—°ìŠµí•´ë´ìš” {name}ë‹˜.',
            '{name}ë‹˜, í¬ëª¨ë„ë¡œ ê¸°ë²• ì•Œë ¤ë“œë¦´ê¹Œìš”?'
        ],
        'encouragement' => [
            '25ë¶„ ì§‘ì¤‘, ì²˜ìŒì—” ì–´ë ¤ì›Œìš”. 15ë¶„ë¶€í„° ì‹œì‘í•´ë´ìš”.',
            'ì™„ë£Œ ëª»í•´ë„ ê´œì°®ì•„ìš”. ì‹œë„í•œ ê²ƒì´ ì¤‘ìš”í•´ìš”.',
            'ì¡°ê¸ˆì”© ì§‘ì¤‘ ì‹œê°„ì´ ëŠ˜ì–´ë‚  ê±°ì˜ˆìš”.'
        ],
        'action_prompt' => [
            '15ë¶„ ë¯¸ë‹ˆ í¬ëª¨ë„ë¡œ í•´ë³¼ê¹Œìš”?',
            'ì‰¬ìš´ ì£¼ì œë¡œ í•œ ì„¸ì…˜ ì‹œì‘í•´ë´ìš”.',
            'íƒ€ì´ë¨¸ ì—†ì´ ì—°ìŠµí•´ë³¼ê¹Œìš”?'
        ],
        'follow_up' => [
            'ì²« ì„¸ì…˜ ì™„ë£Œ! ì˜í–ˆì–´ìš”!',
            'ì§‘ì¤‘í•˜ëŠ” ëŠë‚Œì´ ì–´ë– ì…¨ì–´ìš”?',
            'ë‹¤ìŒì—” ë” ìˆ˜ì›”í•´ì§ˆ ê±°ì˜ˆìš”.'
        ]
    ],

    // ===================================================
    // R ì‹œë¦¬ì¦ˆ: ì˜¤ë‹µë…¸íŠ¸ ê¸°ë°˜ í˜ë¥´ì†Œë‚˜
    // ===================================================
    'R-REVIEWER' => [
        'tone' => 'Steady',
        'greeting' => [
            '{name}ë‹˜, ë³µìŠµì˜ ë‹¬ì¸ì´ì‹œë„¤ìš”.',
            'ì˜¤ë‹µë…¸íŠ¸ ê´€ë¦¬ ì •ë§ ì˜í•˜ì‹œë„¤ìš”, {name}ë‹˜.',
            '{name}ë‹˜ì˜ ê¼¼ê¼¼í•¨ì´ ë‹ë³´ì—¬ìš”.'
        ],
        'encouragement' => [
            'ì˜¤ë‹µ {score}ê°œ ì™„ë²½ ë³µìŠµ! ì‹¤ë ¥ í–¥ìƒ ì¤‘ì´ì—ìš”.',
            'ë³µìŠµë¥  {progress}%! ì´í•´ë„ê°€ ë†’ì•„ì§€ê³  ìˆì–´ìš”.',
            'í‹€ë¦° ë¬¸ì œë¥¼ ë‚´ ê²ƒìœ¼ë¡œ ë§Œë“œëŠ” ì¤‘ì´ì—ìš”.'
        ],
        'action_prompt' => [
            'ì˜¤ëŠ˜ ë³µìŠµí•  ì˜¤ë‹µì€ ëª‡ ê°œì¸ê°€ìš”?',
            'ì¼ì£¼ì¼ ëœ ì˜¤ë‹µ ë‹¤ì‹œ í’€ì–´ë³¼ê¹Œìš”?',
            'ë§ˆìŠ¤í„°ë¦¬ í…ŒìŠ¤íŠ¸ ë„ì „í•´ë³¼ê¹Œìš”?'
        ],
        'follow_up' => [
            'ë³µìŠµ ì™„ë£Œ! ë‹¤ìŒì—” ë” ì‰¬ìš¸ ê±°ì˜ˆìš”.',
            'ì´í•´ê°€ ê¹Šì–´ì§€ê³  ìˆì–´ìš”.',
            'ì˜¤ë‹µì´ ì ì  ì¤„ì–´ë“¤ ê±°ì˜ˆìš”.'
        ]
    ],

    'R-COLLECTOR' => [
        'tone' => 'Gentle',
        'greeting' => [
            '{name}ë‹˜, ì˜¤ë‹µë…¸íŠ¸ ìŒ“ì—¬ìˆì£ ?',
            'ë³µìŠµ ì¢€ ë°€ë ¸ë„¤ìš”, {name}ë‹˜.',
            '{name}ë‹˜, ì˜¤ë‹µ ì •ë¦¬ ê°™ì´ í•´ë´ìš”.'
        ],
        'encouragement' => [
            'ëª¨ì•„ë‘” ì˜¤ë‹µ, ì¡°ê¸ˆì”© í•´ê²°í•´ë´ìš”.',
            'í•œêº¼ë²ˆì— ì•ˆ í•´ë„ ë¼ìš”. í•˜ë£¨ 3ê°œì”©ë§Œ!',
            'ë°€ë¦° ë³µìŠµ, ë¶€ë‹´ê°–ì§€ ë§ì•„ìš”.'
        ],
        'action_prompt' => [
            'ì˜¤ëŠ˜ ë”± 3ê°œë§Œ ë³µìŠµí•´ë³¼ê¹Œìš”?',
            'ê°€ì¥ ì‰¬ìš´ ê²ƒë¶€í„° ì‹œì‘í•´ë´ìš”.',
            'ì˜¤ë˜ëœ ì˜¤ë‹µë¶€í„° ì •ë¦¬í• ê¹Œìš”?'
        ],
        'follow_up' => [
            '3ê°œ ì™„ë£Œ! ë‚´ì¼ë„ 3ê°œì”© í•´ë´ìš”.',
            'ì¡°ê¸ˆì”© ì¤„ì–´ë“¤ê³  ìˆì–´ìš”.',
            'ê¾¸ì¤€íˆ í•˜ë©´ ê¸ˆë°© ì •ë¦¬ë  ê±°ì˜ˆìš”.'
        ]
    ],

    // ===================================================
    // T ì‹œë¦¬ì¦ˆ: ì‹œí—˜ ê¸°ë°˜ í˜ë¥´ì†Œë‚˜
    // ===================================================
    'T-RISING' => [
        'tone' => 'Cheerful',
        'greeting' => [
            '{name}ë‹˜! ì„±ì  ìƒìŠ¹ ì¤‘! ğŸ“ˆ',
            'ì™€, {name}ë‹˜ ì ìˆ˜ê°€ ì‘¥ì‘¥!',
            '{name}ë‹˜ì˜ ë…¸ë ¥ì´ ê²°ì‹¤ì„ ë§ºê³  ìˆì–´ìš”!'
        ],
        'encouragement' => [
            '{improvement}ì  ìƒìŠ¹! ì •ë§ ëŒ€ë‹¨í•´ìš”!',
            'ê¾¸ì¤€í•œ ë…¸ë ¥ì´ ì„±ì ìœ¼ë¡œ ë³´ì´ë„¤ìš”!',
            'ìƒìœ„ {score}%! ê³„ì† ì˜¬ë¼ê°€ê³  ìˆì–´ìš”!'
        ],
        'action_prompt' => [
            'ë‹¤ìŒ ì‹œí—˜ ëª©í‘œëŠ” ëª‡ ì ?',
            'ë” ë„ì „ì ì¸ ë¬¸ì œ í’€ì–´ë³¼ê¹Œìš”?',
            'ê°•ì  ê³¼ëª© ë” ê°•í™”í•´ë³¼ê¹Œìš”?'
        ],
        'follow_up' => [
            'ì´ ìƒìŠ¹ì„¸ ìœ ì§€í•´ë´ìš”!',
            'ë‹¤ìŒ ì‹œí—˜ì´ ê¸°ëŒ€ë¼ìš”!',
            'ì˜í•˜ê³  ìˆì–´ìš”, ê³„ì† ê°€ë´ìš”!'
        ]
    ],

    'T-PLATEAU' => [
        'tone' => 'Focused',
        'greeting' => [
            '{name}ë‹˜, ì„±ì  ì •ì²´ê¸° ëŠê»´ì§€ì‹œë‚˜ìš”?',
            'ìµœê·¼ ì„±ì  ë³€í™”ê°€ ì ë„¤ìš”, {name}ë‹˜.',
            '{name}ë‹˜, í•¨ê»˜ ë¶„ì„í•´ë³¼ê¹Œìš”?'
        ],
        'encouragement' => [
            'ì •ì²´ê¸°ëŠ” ë„ì•½ ì „ ë‹¨ê³„ì˜ˆìš”.',
            'ë°©ë²•ì„ ë°”ê¾¸ë©´ ê²°ê³¼ë„ ë°”ë€” ìˆ˜ ìˆì–´ìš”.',
            'ì•½ì  ê³¼ëª© ì§‘ì¤‘ ê³µëµí•´ë´ìš”.'
        ],
        'action_prompt' => [
            'ì–´ë–¤ ê³¼ëª©ì´ ê°€ì¥ ì–´ë ¤ì›Œìš”?',
            'í•™ìŠµ ë°©ë²• ì ê²€í•´ë³¼ê¹Œìš”?',
            'ìƒˆë¡œìš´ ì „ëµ ì„¸ì›Œë³¼ê¹Œìš”?'
        ],
        'follow_up' => [
            'ìƒˆ ì „ëµìœ¼ë¡œ ë‹¤ìŒ ì‹œí—˜ ì¤€ë¹„í•´ë´ìš”.',
            'ë³€í™”ê°€ ëŠê»´ì§ˆ ê±°ì˜ˆìš”.',
            'í¬ê¸°í•˜ì§€ ì•Šìœ¼ë©´ ë°˜ë“œì‹œ ì˜¬ë¼ê°€ìš”.'
        ]
    ],

    // ===================================================
    // E ì‹œë¦¬ì¦ˆ: ê°ì • ê¸°ë°˜ í˜ë¥´ì†Œë‚˜
    // ===================================================
    'E-MOTIVATED' => [
        'tone' => 'Cheerful',
        'greeting' => [
            '{name}ë‹˜! ì˜¤ëŠ˜ë„ ì˜ìš• ì¶©ë§Œ! ğŸ”¥',
            'ì—ë„ˆì§€ ë„˜ì¹˜ëŠ” {name}ë‹˜!',
            '{name}ë‹˜ì˜ ì—´ì •ì´ ì „í•´ì ¸ìš”!'
        ],
        'encouragement' => [
            'ì´ ë™ê¸°ë¥¼ ì˜ í™œìš©í•´ë´ìš”!',
            'ì˜ìš• ë„˜ì¹˜ëŠ” ì§€ê¸ˆì´ ìµœì ì˜ íƒ€ì´ë°!',
            'ì´ ì—ë„ˆì§€ë¡œ ë­ë“  í•  ìˆ˜ ìˆì–´ìš”!'
        ],
        'action_prompt' => [
            'ì˜¤ëŠ˜ í° ëª©í‘œ ë„ì „í•´ë³¼ê¹Œìš”?',
            'í‰ì†Œ ëª»í–ˆë˜ ê²ƒ ì‹œë„í•´ë´ìš”!',
            'ë„ì „ì ì¸ ë¬¸ì œ í’€ì–´ë³¼ê¹Œìš”?'
        ],
        'follow_up' => [
            'ì—­ì‹œ ëŒ€ë‹¨í•´ìš”!',
            'ì´ ê¸°ë¶„ ê¸°ì–µí•´ë‘ì„¸ìš”!',
            'ë‚´ì¼ë„ ì´ ì—ë„ˆì§€ë¡œ!'
        ]
    ],

    'E-ANXIOUS' => [
        'tone' => 'Gentle',
        'greeting' => [
            '{name}ë‹˜, ì¢€ ë¶ˆì•ˆí•˜ì‹ ê°€ìš”?',
            'ê¸´ì¥ë˜ëŠ” ë§ˆìŒ, ì´í•´í•´ìš” {name}ë‹˜.',
            '{name}ë‹˜, ê´œì°®ì•„ìš”. ì—¬ê¸° ìˆì–´ìš”.'
        ],
        'encouragement' => [
            'ë¶ˆì•ˆì€ ìì—°ìŠ¤ëŸ¬ìš´ ê°ì •ì´ì—ìš”.',
            'ì™„ë²½í•˜ì§€ ì•Šì•„ë„ ê´œì°®ì•„ìš”.',
            'í•œ ë²ˆì— ë‹¤ í•˜ë ¤ê³  í•˜ì§€ ì•Šì•„ë„ ë¼ìš”.'
        ],
        'action_prompt' => [
            'ì‹¬í˜¸í¡ í•œ ë²ˆ í•˜ê³  ì‹œì‘í•´ë³¼ê¹Œìš”?',
            'ì‰¬ìš´ ê²ƒë¶€í„° ì²œì²œíˆ í•´ë´ìš”.',
            'ì ì‹œ ì‰¬ì–´ê°€ë„ ê´œì°®ì•„ìš”.'
        ],
        'follow_up' => [
            'ì˜ í•´ëƒˆì–´ìš”. ëŒ€ë‹¨í•´ìš”.',
            'ê±±ì •í–ˆë˜ ê²ƒë³´ë‹¤ ì˜í–ˆì£ ?',
            'ë‹¤ìŒì—” ì¡°ê¸ˆ ëœ ë¶ˆì•ˆí•  ê±°ì˜ˆìš”.'
        ]
    ],

    'E-BURNT_OUT' => [
        'tone' => 'Supportive',
        'greeting' => [
            '{name}ë‹˜, ë§ì´ ì§€ì¹˜ì…¨ì£ ?',
            'í˜ë“  ì‹œê°„ì´ì—ˆì£ , {name}ë‹˜.',
            '{name}ë‹˜, ì‰¬ì–´ê°€ë„ ë¼ìš”.'
        ],
        'encouragement' => [
            'ë²ˆì•„ì›ƒì€ ì—´ì‹¬íˆ í•œ ì¦ê±°ì˜ˆìš”.',
            'ì ì‹œ ë©ˆì¶°ë„ ê´œì°®ì•„ìš”.',
            'íšŒë³µë„ í•™ìŠµì˜ ì¼ë¶€ì˜ˆìš”.'
        ],
        'action_prompt' => [
            'ì˜¤ëŠ˜ì€ ê°€ë³ê²Œ 10ë¶„ë§Œ í•´ë³¼ê¹Œìš”?',
            'ë¶€ë‹´ì—†ëŠ” ë³µìŠµë§Œ í• ê¹Œìš”?',
            'ì‰¬ë©´ì„œ í•  ìˆ˜ ìˆëŠ” ê²ƒë§Œ í•´ë´ìš”.'
        ],
        'follow_up' => [
            'ì˜¤ëŠ˜ì€ ì—¬ê¸°ê¹Œì§€ë§Œ í•´ë„ ì¶©ë¶„í•´ìš”.',
            'ë‚´ì¼ì€ ë” ë‚˜ì•„ì§ˆ ê±°ì˜ˆìš”.',
            'ì¶©ë¶„íˆ ì‰¬ê³ , ì¬ì¶©ì „í•´ìš”.'
        ],
        'escalation_needed' => false
    ]
];

/**
 * í…œí”Œë¦¿ì—ì„œ ëœë¤ ë©”ì‹œì§€ ì„ íƒ
 */
function getRandomMessage(string $personaCode, string $messageType): string {
    global $personaTemplates;

    if (!isset($personaTemplates[$personaCode][$messageType])) {
        return '';
    }

    $messages = $personaTemplates[$personaCode][$messageType];
    return $messages[array_rand($messages)];
}

/**
 * ë³€ìˆ˜ ì¹˜í™˜í•˜ì—¬ ìµœì¢… ë©”ì‹œì§€ ìƒì„±
 */
function generateMessage(string $personaCode, string $messageType, array $variables = []): string {
    $message = getRandomMessage($personaCode, $messageType);

    foreach ($variables as $key => $value) {
        $message = str_replace('{' . $key . '}', $value, $message);
    }

    return $message;
}

/**
 * í˜ë¥´ì†Œë‚˜ì˜ í†¤ ìŠ¤íƒ€ì¼ ì¡°íšŒ
 */
function getToneStyle(string $personaCode): array {
    global $personaTemplates, $toneStyles;

    $tone = $personaTemplates[$personaCode]['tone'] ?? 'Steady';
    return $toneStyles[$tone] ?? $toneStyles['Steady'];
}

/**
 * ì „ì²´ ì‘ë‹µ ì„¸íŠ¸ ìƒì„±
 */
function generateFullResponse(string $personaCode, array $variables = []): array {
    $response = [
        'persona_code' => $personaCode,
        'tone' => getToneStyle($personaCode),
        'greeting' => generateMessage($personaCode, 'greeting', $variables),
        'encouragement' => generateMessage($personaCode, 'encouragement', $variables),
        'action_prompt' => generateMessage($personaCode, 'action_prompt', $variables),
        'follow_up' => generateMessage($personaCode, 'follow_up', $variables)
    ];

    return $response;
}

/*
 * ì‚¬ìš© ì˜ˆì‹œ:
 *
 * require_once 'response_templates.php';
 *
 * // ë‹¨ì¼ ë©”ì‹œì§€ ìƒì„±
 * $greeting = generateMessage('D-ALERT', 'greeting', ['name' => 'ê¹€ì² ìˆ˜']);
 * echo $greeting; // "ê¹€ì² ìˆ˜ë‹˜, ìš”ì¦˜ ì¢€ í˜ë“œì…¨ë‚˜ìš”?"
 *
 * // ì „ì²´ ì‘ë‹µ ì„¸íŠ¸ ìƒì„±
 * $response = generateFullResponse('G-ACHIEVER', [
 *     'name' => 'ê¹€ì² ìˆ˜',
 *     'progress' => 85,
 *     'goal' => 5
 * ]);
 * print_r($response);
 *
 * // í†¤ ìŠ¤íƒ€ì¼ ì¡°íšŒ
 * $tone = getToneStyle('P-ACTIVE');
 * echo $tone['style']; // "ë°ê³  ì—ë„ˆì§€ ë„˜ì¹˜ëŠ”"
 */

/*
 * ê´€ë ¨ DB í…Œì´ë¸”:
 * - mdl_at_agent_persona_state: í˜„ì¬ í˜ë¥´ì†Œë‚˜ ìƒíƒœ
 * - mdl_at_intervention_log: ê°œì… ê¸°ë¡ (ë©”ì‹œì§€ ì €ì¥)
 *
 * ê´€ë ¨ íŒŒì¼:
 * - PersonaDataRepository.php: ë°ì´í„° ì €ì¥/ì¡°íšŒ
 * - Agent09PersonaEngine.php: í˜ë¥´ì†Œë‚˜ íŒì •
 */
