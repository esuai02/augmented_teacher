# Agent 09 - Learning Management Strategy Step 1
## 데이터 수집 및 패턴 진단 전략

**목적**: 학습관리 분석을 위한 데이터 수집 및 패턴 유형 진단

---

## 1. 데이터 수집 전략

### 1.1 필수 데이터 수집 (5가지 핵심 지표)

#### 출결 데이터 (Attendance Data)
- **수집 항목**:
  - 일별 출석 여부
  - 요일별 출석률
  - 시간대별 출석률 (오전/오후/저녁)
  - 연속 결석 일수
  - 늦음/결석 빈도
- **수집 방법**:
  - `mdl_logstore_standard_log` 테이블 활용
  - 최근 30일 데이터 수집
- **분석 지표**:
  - 전체 출석률: `attendance_rate = (attended_days / total_days) * 100`
  - 요일별 가중치: 금요일 오후 가중치 낮음 (일반적 패턴)
  - 시간대별 가중치: 오전 > 오후 > 저녁

#### 목표 데이터 (Goal Data)
- **수집 항목**:
  - 총 목표 수
  - 완료 목표 수
  - 진행 중 목표 수
  - 포기한 목표 수
  - 목표별 기간
  - 목표 카테고리 분포
- **수집 방법**:
  - `mdl_alt42g_goal_analysis` 테이블 활용
- **분석 지표**:
  - 목표 달성률: `completion_rate = (completed_goals / total_goals) * 100`
  - 평균 목표 기간: `avg_duration = sum(goal_durations) / count(goals)`
  - 목표 품질 점수: 완료도, 난이도 적정성, 기간 현실성 종합

#### 포모도로 데이터 (Pomodoro Data)
- **수집 항목**:
  - 총 세션 수
  - 완료 세션 수
  - 미완료 세션 수
  - 세션별 학습 시간
  - 세션별 휴식 시간
  - 시간대별 세션 분포
  - 요일별 세션 분포
- **수집 방법**:
  - `mdl_alt42g_pomodoro_sessions` 테이블 활용
- **분석 지표**:
  - 완성률: `completion_rate = (completed_sessions / total_sessions) * 100`
  - 총 학습 시간: `total_study_time = sum(session_durations)`
  - 최적 집중 시간대: 세션 완성률이 가장 높은 시간대

#### 오답노트 데이터 (Wrong Note Data)
- **수집 항목**:
  - 총 오답노트 수
  - 해결책 포함 노트 수
  - 복습한 노트 수
  - 마스터한 노트 수
  - 과목별 분포
  - 오류 유형별 분포 (개념 오해/실수/계산 오류/부족한 연습)
  - 복습 주기 패턴
- **수집 방법**:
  - `mdl_abessi_messages` 테이블 (contentstype=2) 활용
- **분석 지표**:
  - 마스터링 속도: `mastery_speed = (mastered_notes / total_notes) / avg_review_count`
  - 오류 유형 비율: 각 오류 유형의 비율
  - 복습 효율성: 복습 주기와 마스터링 속도의 상관관계

#### 시험 데이터 (Test Data)
- **수집 항목**:
  - 총 시험 수
  - 완료 시험 수
  - 평균 점수
  - 최고/최저 점수
  - 과목별 성적
  - 난이도별 성적
  - 시간대별 성적
  - 문제 풀이 패턴 (순차적/난이도 기반/혼합)
- **수집 방법**:
  - `mdl_quiz_attempts`, `mdl_quiz_grades` 테이블 활용
- **분석 지표**:
  - 평균 점수: `avg_score = sum(scores) / count(tests)`
  - 점수 추세: 시계열 분석 기반 향상/하락 추세
  - 시간 관리 점수: 제한 시간 대비 실제 소요 시간

### 1.2 데이터 부족 시 대응 전략

#### 학생 설문 자동 생성
**상황**: DB 데이터 밀도가 50% 미만인 경우
**대응**:
1. **학습 습관 설문**:
   - "하루 평균 학습 시간은 얼마나 되나요?"
   - "가장 집중이 잘 되는 시간대는 언제인가요?"
   - "학습 시 가장 어려운 점은 무엇인가요?"
2. **어려움 설문**:
   - "최근 학습에서 가장 어려웠던 부분은 무엇인가요?"
   - "학습을 방해하는 요인은 무엇인가요?"
3. **목표 및 동기 설문**:
   - "현재 가장 중요한 학습 목표는 무엇인가요?"
   - "학습 동기를 유지하는 방법은 무엇인가요?"
4. **만족도 설문**:
   - "현재 학습 방식에 만족하시나요?"
   - "개선하고 싶은 부분은 무엇인가요?"

#### 선생님 체크리스트 입력
**상황**: 선생님이 직접 관찰한 내용을 입력하는 경우
**대응**:
1. **학생 상태 체크리스트**:
   - [ ] 학습 의욕: 높음/보통/낮음
   - [ ] 집중도: 높음/보통/낮음
   - [ ] 이해도: 높음/보통/낮음
   - [ ] 참여도: 높음/보통/낮음
2. **학습 태도 체크리스트**:
   - [ ] 숙제 완성도: 높음/보통/낮음
   - [ ] 질문 빈도: 많음/보통/적음
   - [ ] 복습 습관: 좋음/보통/나쁨
3. **어려움 및 강점 체크리스트**:
   - 어려움: [입력란]
   - 강점: [입력란]

#### 텍스트 입력 분석
**상황**: 자유 형식 텍스트로 학생 상태를 입력하는 경우
**대응**:
1. **자연어 처리**:
   - 키워드 추출: 학습, 어려움, 목표, 동기 등
   - 감정 분석: 긍정/부정/중립
   - 주제 분석: 학습 내용, 학습 방법, 학습 환경 등
2. **패턴 도출**:
   - 빈도 높은 키워드 기반 패턴 추출
   - 감정 변화 추세 분석
   - 주제별 우선순위 도출

### 1.3 데이터 신뢰도 평가

#### 데이터 밀도 점수
```
data_density = (recorded_days / analysis_period_days) * 100
- A등급: 80% 이상
- B등급: 60-79%
- C등급: 40-59%
- D등급: 40% 미만
```

#### 데이터 일관성 점수
```
consistency_score = 1 - (standard_deviation / mean)
- 패턴의 변동성이 낮을수록 높은 점수
```

#### 데이터 효과성 점수
```
effectiveness_score = correlation(학습 데이터, 성과 지표)
- 학습 데이터와 시험 점수/목표 달성의 상관관계
```

---

## 2. 패턴 유형 진단 전략

### 2.1 6가지 패턴 유형 분류 기준

#### ① 활동데이터 희박형
**특징**:
- 최근 2주간 데이터 밀도 30% 이하
- 학습 로그 단절
- 학습 의욕 저하 징후
- 심리적 거리감 발생

**진단 기준**:
```
IF data_density < 0.3 AND consecutive_gaps > 3 THEN
  pattern_type = "활동데이터 희박형"
  risk_level = "경고"
```

**대응 전략**:
- 학습 의욕 회복 중심
- 쉬운 목표부터 시작
- 성취 경험 제공
- 동기 재활성화

#### ② 데이터 불균형형
**특징**:
- 활동은 많으나 일부 데이터 지속 누락
- 학습 루틴의 편향
- 자기점검 부재

**진단 기준**:
```
IF activity_count > threshold BUT 
   (concept_notes_ratio < 0.2 OR review_ratio < 0.3) THEN
  pattern_type = "데이터 불균형형"
  risk_level = "주의"
```

**대응 전략**:
- 균형 회복 중심
- 누락 항목 보완 권장
- 자기점검 루틴 추가

#### ③ 패턴불안정형
**특징**:
- 주별 변동폭이 큼
- 감정기복 영향
- 외부요인 영향

**진단 기준**:
```
IF pattern_stability_score < 0.6 AND 
   weekly_variance > 0.3 THEN
  pattern_type = "패턴불안정형"
  risk_level = "주의"
```

**대응 전략**:
- 패턴 안정화 중심
- 감정 관리 지원
- 외부 요인 파악 및 대응

#### ④ 자동화 저항형
**특징**:
- 시스템 피드백 실행률 50% 이하
- 학습시스템 신뢰도 낮음
- 자기조절력 약화

**진단 기준**:
```
IF feedback_execution_rate < 0.5 AND
   system_trust_score < 0.5 THEN
  pattern_type = "자동화 저항형"
  risk_level = "경고"
```

**대응 전략**:
- 내적 동기 재활성화
- 맞춤형 피드백 문구
- 신뢰도 회복

#### ⑤ 퇴원·중단위험형
**특징**:
- 장기 결석 (1개월 이상)
- 로그 공백 누적
- 포모도르 미작성 누적
- 학습관리 의존도 약화

**진단 기준**:
```
IF consecutive_absence > 14 AND
   log_gaps > 7 AND
   pomodoro_completion < 0.2 THEN
  pattern_type = "퇴원·중단위험형"
  risk_level = "긴급"
```

**대응 전략**:
- 긴급 개입 필요
- 재진입 경로 설계
- 쉬운 목표부터 시작
- 성취 경험 제공

#### ⑥ 고성취 지속형
**특징**:
- 데이터 일관성 높음
- 학습 밀도 높음
- 지속적 성취

**진단 기준**:
```
IF data_density > 0.8 AND
   pattern_stability > 0.8 AND
   achievement_score > 0.8 THEN
  pattern_type = "고성취 지속형"
  risk_level = "낮음"
```

**대응 전략**:
- 모범 패턴 분석
- 다른 학생에게 전파
- 지속성 유지 지원

### 2.2 위험도 등급 산정

#### 위험도 점수 계산
```
risk_score = (
  dropout_indicators * 0.4 +
  data_sparsity * 0.3 +
  pattern_instability * 0.2 +
  execution_failure * 0.1
)

위험도 등급:
- 주의 (1단계): 0.3 <= risk_score < 0.5
- 경고 (2단계): 0.5 <= risk_score < 0.7
- 긴급 (3단계): risk_score >= 0.7
```

---

## 3. 데이터 상관관계 분석 전략

### 3.1 핵심 상관관계 분석

#### 출결 ↔ 포모도로 상관관계
```
correlation(attendance_rate, pomodoro_completion_rate)
- 높은 상관관계: 학습 습관이 일관적
- 낮은 상관관계: 심리적 의존도 저하 가능성
```

#### 목표 ↔ 시험점수 상관관계
```
correlation(goal_completion_rate, test_average_score)
- 높은 상관관계: 목표 설정이 효과적
- 낮은 상관관계: 목표 설정 전략 재검토 필요
```

#### 오답노트 ↔ 학습시간 상관관계
```
correlation(wrong_note_count, pomodoro_total_time)
- 높은 상관관계: 학습 시간 증가 시 오답 분석도 증가
- 낮은 상관관계: 학습 시간 낭비 또는 오답 분석 미흡
```

#### 포모도로 ↔ 시험성과 상관관계
```
correlation(pomodoro_completion_rate, test_performance)
- 높은 상관관계: 포모도로 활용이 효과적
- 낮은 상관관계: 포모도로 활용 방식 재검토 필요
```

### 3.2 전체 일관성 점수

```
overall_consistency = (
  attendance_pomodoro_correlation * 0.3 +
  goal_test_correlation * 0.3 +
  wrong_note_study_time_correlation * 0.2 +
  pomodoro_test_correlation * 0.2
)
```

---

## 4. 데이터 수집 및 분석 실행 순서

1. **기본 데이터 수집** (S0_R1)
   - 5가지 핵심 지표 수집
   - 데이터 밀도 확인

2. **데이터 부족 시 보완** (S0_R5, S0_R6, S0_R7)
   - 학생 설문 생성
   - 선생님 체크리스트 수집
   - 텍스트 입력 분석

3. **데이터 신뢰도 평가** (S0_R4)
   - 밀도/일관성/효과성 점수 계산
   - 신뢰도 등급 산정

4. **패턴 유형 분류** (S0_R2)
   - 6가지 유형 중 분류
   - 위험도 등급 산정

5. **상관관계 분석** (S0_R3)
   - 핵심 상관관계 분석
   - 전체 일관성 점수 계산

6. **다중 소스 통합** (S0_R8)
   - 모든 데이터 소스 통합
   - 종합 패턴 보고서 생성

---

**작성일**: 2025-01-27  
**목표**: 현직 수학선생님 수준의 90% 달성

