# ğŸ§  í™€ë¡  ì‹ ê²½ë§ ì‹œìŠ¤í…œ (Holon Neural Network)

**Context Window ë¬¸ì œë¥¼ í•´ê²°í•˜ëŠ” êµ¬ì¡°í™”ëœ ì¢Œí‘œ ê¸°ë°˜ í™œì„±í™” ì‹œìŠ¤í…œ**

## í•µì‹¬ ê°œë…

```
ê¸°ì¡´ ë°©ì‹: ì „ì²´ í™€ë¡  ë¡œë“œ â†’ Context í­ë°œ ğŸ’¥
ì‹ ê²½ë§ ë°©ì‹: W ìŠ¤ìº” â†’ ì—°ê´€ì„± íŒì • â†’ í•„ìš”í•œ ì¢Œí‘œë§Œ í™œì„±í™” âœ…
```

## ğŸ“ êµ¬ì¡°

```
2 Neural/
â”œâ”€â”€ index/
â”‚   â”œâ”€â”€ holon_index.json      # í™€ë¡  ì¸ë±ìŠ¤ (W_summary, keywords)
â”‚   â”œâ”€â”€ connection_graph.json # í™€ë¡  ê°„ ì—°ê²° ê·¸ë˜í”„
â”‚   â””â”€â”€ build_index.php       # ì¸ë±ìŠ¤ ë¹Œë”
â”‚
â”œâ”€â”€ resolver/
â”‚   â”œâ”€â”€ coordinate_parser.php # ì¢Œí‘œ íŒŒì‹±
â”‚   â””â”€â”€ partial_reader.php    # ë¶€ë¶„ íŒŒì¼ ì½ê¸°
â”‚
â”œâ”€â”€ activation/
â”‚   â”œâ”€â”€ relevance_scorer.php  # ì—°ê´€ì„± ì ìˆ˜ ê³„ì‚°
â”‚   â””â”€â”€ activation_controller.php # í™œì„±í™” ì œì–´
â”‚
â””â”€â”€ api/
    â””â”€â”€ query.php             # REST API ì—”ë“œí¬ì¸íŠ¸
```

## ğŸš€ ì‚¬ìš©ë²•

### 1. ì¸ë±ìŠ¤ ë¹Œë“œ (ìµœì´ˆ 1íšŒ)

```
https://mathking.kr/moodle/local/augmented_teacher/alt42/orchestration/Holarchy/2%20Neural/index/build_index.php
```

### 2. ì¿¼ë¦¬ API

#### ê¸°ë³¸ ì¿¼ë¦¬
```
GET /api/query.php?action=query&q=TTS ì¤‘ë³µ ì¬ìƒ ì˜¤ë¥˜
```

#### íŠ¹ì • ì¢Œí‘œ ë“œë¦´ë‹¤ìš´
```
GET /api/query.php?action=drill&coord=meeting-2025-007.X.issues[1]
```

#### ì—°ê²°ëœ í™€ë¡  ì „íŒŒ
```
GET /api/query.php?action=propagate&holon_id=meeting-2025-007
```

#### ì¸ë±ìŠ¤ ìƒíƒœ í™•ì¸
```
GET /api/query.php?action=index_status
```

### 3. ì¢Œí‘œ ë¬¸ë²•

```
{holon_id}.{section}.{subsection}[{index}].{field}

ì˜ˆì‹œ:
  meeting-2025-007                    # ì „ì²´ í™€ë¡ 
  meeting-2025-007.W                  # W ì„¹ì…˜ ì „ì²´
  meeting-2025-007.W.goal.ultimate    # ìµœì¢… ëª©í‘œ
  meeting-2025-007.X.issues[0]        # ì²« ë²ˆì§¸ ì´ìŠˆ
  meeting-2025-007.E.execution_plan[2].eta  # ì„¸ ë²ˆì§¸ ì‹¤í–‰ê³„íšì˜ ETA
```

## ğŸ“Š ì‘ë™ ì›ë¦¬

### Phase 1: W ìŠ¤ìº” (ë¹ ë¥¸ ì—°ê´€ì„± íŒì •)
- ëª¨ë“  í™€ë¡ ì˜ `W_summary`ë§Œ ë¡œë“œ (~100 tokens)
- ì¿¼ë¦¬ì™€ ìœ ì‚¬ë„ ê³„ì‚°
- ì„ê³„ê°’ ì´ìƒì¸ í™€ë¡ ë§Œ ì„ íƒ

### Phase 2: ì˜ë„ ê¸°ë°˜ ì„¹ì…˜ ë¡œë“œ
- ì¿¼ë¦¬ ì˜ë„ ë¶„ë¥˜ (error, howto, feature, status, explain)
- ì˜ë„ì— ë”°ë¼ ìš°ì„  íƒìƒ‰ ì„¹ì…˜ ê²°ì •
- í† í° ë²„ì§“ ë‚´ì—ì„œ ì„¹ì…˜ ë¡œë“œ

### Phase 3: ì‹ ê²½ë§ ì „íŒŒ
- í™œì„±í™”ëœ í™€ë¡ ì˜ ì—°ê²° íƒìƒ‰
- ê´€ë ¨ í™€ë¡ ìœ¼ë¡œ ì‹ í˜¸ ì „íŒŒ
- ê¹Šì´ ì œí•œìœ¼ë¡œ ë¬´í•œ ì „íŒŒ ë°©ì§€

## ğŸ’¾ Context Window ì ˆì•½ íš¨ê³¼

| ì‹œë‚˜ë¦¬ì˜¤ | ê¸°ì¡´ ë°©ì‹ | ì‹ ê²½ë§ ë°©ì‹ | ì ˆì•½ë¥  |
|---------|----------|------------|--------|
| ë‹¨ì¼ ì´ìŠˆ ì¡°íšŒ | ~15,000 tokens | ~300 tokens | **98%** |
| ê´€ë ¨ í™€ë¡  íƒìƒ‰ | ~50,000 tokens | ~1,500 tokens | **97%** |
| ì „ì²´ ì‹œìŠ¤í…œ ê°œìš” | ë¶ˆê°€ëŠ¥ | ~3,000 tokens | âˆ |

## ğŸ”§ ì„¤ì •

### í™œì„±í™” ì˜µì…˜

| ì˜µì…˜ | ê¸°ë³¸ê°’ | ì„¤ëª… |
|------|--------|------|
| threshold | 0.1 | ìµœì†Œ ì—°ê´€ì„± ì ìˆ˜ |
| topK | 5 | í™œì„±í™”í•  ìµœëŒ€ í™€ë¡  ìˆ˜ |
| expandSections | true | ì„¹ì…˜ ìë™ í™•ì¥ |
| maxDepth | 2 | ìµœëŒ€ ì „íŒŒ ê¹Šì´ |

---

**Version**: 1.0  
**Created**: 2025-12-07  
**Author**: HTE AI System

