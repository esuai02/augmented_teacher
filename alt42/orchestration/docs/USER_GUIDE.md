# Agent Problem Targeting System - User Guide

## üìã Overview

The Agent Problem Targeting System allows you to identify and analyze specific problems handled by each of the 21 AI agents in the ALT42 system. Each agent specializes in a particular aspect of student learning, and this system helps you target interventions more precisely.

**Version**: 1.0
**Last Updated**: 2025-01-21
**Author**: ALT42 Development Team

---

## üéØ What is Agent Problem Targeting?

Each of the 21 agents in ALT42 monitors specific aspects of student learning and can identify common problems in their domain. The Problem Targeting System:

1. **Displays Agent-Specific Problems**: Shows 5-7 typical problems each agent can address
2. **Generates AI-Powered Analysis**: Uses GPT-4 to create customized analysis reports
3. **Provides Actionable Insights**: Offers structured recommendations with expected outcomes

---

## üöÄ Getting Started

### Accessing the System

1. Navigate to: `https://mathking.kr/moodle/local/augmented_teacher/alt42/orchestration/`
2. Log in with your Moodle credentials
3. You'll see the main dashboard with 21 agent cards

### Understanding the Interface

**Main Dashboard Layout**:
- **Left Sidebar**: 21 agent cards displayed vertically
- **Right Panel**: Analysis reports and detailed information
- **Agent Cards**: Each card shows:
  - Agent number (01-21)
  - Agent name in Korean
  - Agent icon
  - **üéØ Î¨∏Ï†ú ÌÉÄÍ≤åÌåÖ** button at the bottom

---

## üìñ Step-by-Step Usage

### Step 1: Select an Agent

1. Review the 21 agent cards in the left sidebar
2. Each agent has a specific focus area (see Agent List section below)
3. Click the **üéØ Î¨∏Ï†ú ÌÉÄÍ≤åÌåÖ** button on any agent card

**Example**: Click on Agent 01 (Ïã§ÏãúÍ∞Ñ Ïò®Î≥¥Îî©) to see onboarding-related problems

### Step 2: Review Problem List

A popup window will appear showing:
- **Agent Header**: Agent number, name, icon, and description
- **Info Box**: Explanation of what the problem list represents
- **Problem List**: 5-7 clickable problem items
- **Close Button**: ‚úï in the top-right corner

**Keyboard Navigation**:
- Press `Tab` to navigate through problem items
- Press `Enter` or `Space` to select a problem
- Press `Escape` to close the popup

### Step 3: Select a Problem

1. Review the list of problems
2. Click on the problem that matches your situation
3. The popup will close and analysis will begin

**Example Problems** (Agent 01):
- "ÌïôÏÉù Ï†ïÎ≥¥Í∞Ä Î∂àÏôÑÏ†ÑÌïòÏó¨ Ï†ïÌôïÌïú ÏßÑÎã®Ïù¥ Ïñ¥Î†µÎã§"
- "Ï¥àÍ∏∞ ÌïôÏäµ ÏÉÅÌÉú ÌååÏïÖÏóê ÏãúÍ∞ÑÏù¥ Ïò§Îûò Í±∏Î¶∞Îã§"
- "ÌïôÏÉùÏùò MBTI ÌïôÏäµ ÏÑ±Ìñ• Îç∞Ïù¥ÌÑ∞Í∞Ä ÎàÑÎùΩÎêòÏñ¥ ÏûàÎã§"

### Step 4: Review Analysis Report

The right panel will open with:
- **Loading State**: Animated agent icon while analysis generates (5-20 seconds)
- **Analysis Report**: Four structured sections
  - üìã **Î¨∏Ï†ú ÏÉÅÌô©**: Current situation description
  - üîç **ÏõêÏù∏ Î∂ÑÏÑù**: Root cause analysis
  - üí° **Í∞úÏÑ† Î∞©Ïïà**: Step-by-step improvement plan
  - üìä **ÏòàÏÉÅ Ìö®Í≥º**: Expected outcomes with metrics

**Analysis Generation Time**:
- **With GPT-4**: 10-20 seconds (higher quality)
- **Placeholder Mode**: 1-2 seconds (when GPT not configured)

### Step 5: Use the Insights

1. Read through all four sections of the analysis
2. Note the specific improvement steps
3. Review expected outcomes and metrics
4. Close the panel when done (‚úï button)

---

## üë• Complete Agent List

| Number | Name | Focus Area |
|--------|------|------------|
| 01 | Ïã§ÏãúÍ∞Ñ Ïò®Î≥¥Îî© | Student profile and initial onboarding |
| 02 | ÏãúÌóò ÏùºÏ†ï Í¥ÄÎ¶¨ | Exam schedule and D-day urgency |
| 03 | Î™©Ìëú Î∂ÑÏÑù | Goal achievement and strategy optimization |
| 04 | Î¨∏Ï†ú ÌôúÎèô ÏµúÏ†ÅÌôî | Problem-solving activity optimization |
| 05 | ÌïôÏäµ Í∞êÏ†ï Í¥ÄÎ¶¨ | Learning emotion and motivation |
| 06 | ÍµêÏÇ¨ ÌîºÎìúÎ∞± Î∞òÏòÅ | Teacher feedback integration |
| 07 | ÏÉÅÌò∏ÏûëÏö© ÌÉÄÍ≤åÌåÖ | Interaction targeting selection |
| 08 | Ïπ®Ï∞©ÎèÑ Í¥ÄÎ¶¨ | Calmness and focus management |
| 09 | ÌïôÏäµÍ¥ÄÎ¶¨ Ï¢ÖÌï© | Comprehensive learning management |
| 10 | Í∞úÎÖêÎÖ∏Ìä∏ Î∂ÑÏÑù | Concept note analysis |
| 11 | Ïò§ÎãµÎÖ∏Ìä∏ Î∂ÑÏÑù | Error note pattern analysis |
| 12 | Ìú¥Ïãù Î£®Ìã¥ ÏµúÏ†ÅÌôî | Rest routine optimization |
| 13 | ÌïôÏäµ Ïù¥ÌÉà Î∞©ÏßÄ | Learning dropout prevention |
| 14 | ÌòÑÏû¨ ÏúÑÏπò ÌååÏïÖ | Current position tracking |
| 15 | Î¨∏Ï†ú Ïû¨Ï†ïÏùò | Problem redefinition |
| 16 | ÏÉÅÌò∏ÏûëÏö© Ï§ÄÎπÑ | Interaction preparation |
| 17 | ÏûîÏó¨ ÌôúÎèô Ï°∞Ï†ï | Remaining activity adjustment |
| 18 | ÏãúÍ∑∏ÎÑàÏ≤ò Î£®Ìã¥ | Signature routine optimization |
| 19 | ÏÉÅÌò∏ÏûëÏö© Ïª®ÌÖêÏ∏† | Interaction content generation |
| 20 | Í∞úÏûÖ Ï§ÄÎπÑ | Intervention preparation |
| 21 | Í∞úÏûÖ Ïã§Ìñâ | Intervention execution |

---

## ‚ö†Ô∏è Troubleshooting

### Problem Popup Not Opening

**Symptoms**: Clicking üéØ button does nothing

**Solutions**:
1. Check browser console for JavaScript errors (F12)
2. Refresh the page (Ctrl+F5 or Cmd+Shift+R)
3. Clear browser cache and reload
4. Ensure JavaScript is enabled in browser settings

### Analysis Takes Too Long

**Symptoms**: Loading spinner runs for >60 seconds

**What Happens**:
- System automatically times out after 60 seconds
- You'll see a timeout warning with retry button
- You can retry up to 3 times

**Solutions**:
1. Click the **üîÑ Ïû¨ÏãúÎèÑ** button to retry
2. If all retries fail, try:
   - Selecting a different problem
   - Refreshing the page
   - Checking GPT API status (for administrators)

### Analysis Panel Won't Close

**Symptoms**: ‚úï button not responding

**Solutions**:
1. Try clicking outside the panel
2. Press `Escape` key
3. Refresh the page
4. Check browser console for errors

### GPT Analysis Not Working

**Symptoms**: Only seeing placeholder analysis, not AI-generated content

**For Administrators**:
1. Check `/api/gpt_config.php` for valid API key
2. Verify OpenAI API key is not expired
3. Check server error logs: `/var/log/apache2/error.log`
4. See `GPT_SETUP.md` for configuration guide

---

## ‚ôø Accessibility Features

The system is designed for accessibility:

### Keyboard Navigation
- **Tab**: Navigate between elements
- **Enter/Space**: Activate buttons and select problems
- **Escape**: Close popups and panels
- **Focus Indicators**: Visible outline on focused elements

### Screen Reader Support
- **ARIA Labels**: All interactive elements labeled
- **Role Attributes**: Proper semantic roles (dialog, button)
- **Live Regions**: Status updates announced to screen readers

### Visual Accessibility
- **High Contrast Mode**: Automatic adaptation for high contrast settings
- **Reduced Motion**: Respects `prefers-reduced-motion` user preference
- **Color Contrast**: WCAG 2.1 AA compliant color ratios
- **Font Sizes**: Large, readable text throughout

### Mobile Support
- **Responsive Design**: Adapts to mobile screens
- **Touch Targets**: Minimum 44√ó44px touch areas
- **Mobile Optimization**: Optimized layouts for small screens

---

## üí° Best Practices

### For Teachers

1. **Review Multiple Agents**: Different agents may identify related problems
2. **Track Patterns**: Note recurring problems across students
3. **Use Analysis Insights**: Apply improvement plans systematically
4. **Monitor Outcomes**: Track whether expected effects materialize

### For Administrators

1. **Configure GPT API**: Set up OpenAI API key for best results (see `GPT_SETUP.md`)
2. **Monitor Performance**: Track analysis generation times
3. **Review Logs**: Check error logs periodically
4. **Update Regularly**: Keep agent problem definitions current

### For Students

1. **Be Specific**: Select problems that most closely match your situation
2. **Read Thoroughly**: Review all four sections of analysis
3. **Take Action**: Follow the improvement plan steps
4. **Track Progress**: Note improvements over time

---

## üìä Understanding Analysis Reports

### Section 1: Î¨∏Ï†ú ÏÉÅÌô© (Problem Situation)
- **Purpose**: Describes current state
- **Length**: 2-3 sentences
- **Content**: Specific details about what's happening
- **Use**: Confirm the analysis understands your situation

### Section 2: ÏõêÏù∏ Î∂ÑÏÑù (Root Cause Analysis)
- **Purpose**: Identifies underlying causes
- **Length**: 3-5 causes listed
- **Content**: Educational theory and practical factors
- **Use**: Understand why the problem exists

### Section 3: Í∞úÏÑ† Î∞©Ïïà (Improvement Plan)
- **Purpose**: Provides actionable steps
- **Length**: 3-5 step plan
- **Content**: Specific, executable actions with timeline
- **Use**: Follow these steps to improve

### Section 4: ÏòàÏÉÅ Ìö®Í≥º (Expected Outcomes)
- **Purpose**: Predicts results of improvement
- **Length**: 2-3 outcomes with metrics
- **Content**: Quantitative improvements and timeframes
- **Use**: Set expectations and measure progress

---

## üîÑ System Updates

### Version History

**v1.0 (2025-01-21)**:
- Initial release with 21 agents
- 126 total problems across all agents
- GPT-4 API integration
- Accessibility features
- Timeout handling and retry mechanism
- Responsive design

### Planned Features

**v1.1 (Future)**:
- Analysis history tracking
- Problem frequency statistics
- Multi-student comparison
- Export analysis reports to PDF
- Teacher annotations and notes

---

## üìû Support

For technical support or questions:

1. **Check Documentation**: Review this guide and `DEVELOPER.md`
2. **Check Logs**: Server error logs at `/var/log/apache2/error.log`
3. **Report Issues**: Contact system administrator
4. **Feature Requests**: Submit through Moodle support system

---

## üìö Related Documentation

- **Developer Guide**: `/docs/DEVELOPER.md` - Technical implementation details
- **GPT Setup**: `/api/GPT_SETUP.md` - OpenAI API configuration
- **Reference**: `/docs/reference-popup-mechanism.md` - Popup system architecture
- **Implementation Plan**: `/docs/plans/2025-01-21-agent-interaction-targeting-popup.md`

---

**Need Help?** Contact your system administrator or refer to the developer documentation for technical details.
