<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>21개 에이전트 포괄형 질문 모니터링</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Malgun Gothic', '맑은 고딕', sans-serif;
            background: #fafafa;
            padding: 0;
            line-height: 1.7;
            color: #333;
        }
        
        .nav-dropdown {
            position: fixed;
            top: 0;
            left: 0;
            z-index: 1000;
            display: flex;
            gap: 2px;
            align-items: flex-start;
        }
        
        .nav-dropdown > *:first-child {
            border-radius: 0 0 0 8px;
        }
        
        .nav-dropdown > *:last-child {
            border-radius: 0 0 8px 0;
        }
        
        .nav-dropdown select {
            padding: 10px 15px;
            border: 2px solid rgba(0,0,0,0.1);
            border-top: none;
            border-left: none;
            border-right: none;
            background: rgba(255,255,255,0.95);
            color: #333;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            min-width: 200px;
            height: 42px;
            line-height: 1.5;
            box-sizing: border-box;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            transition: all 0.2s;
        }
        
        .nav-dropdown select:hover {
            border-color: rgba(0,0,0,0.2);
            box-shadow: 0 2px 12px rgba(0,0,0,0.15);
        }
        
        .nav-dropdown select:focus {
            outline: none;
            border-color: #333;
        }

        /* 좌측 상단 분석 리포트 버튼 */
        .nav-report-btn {
            padding: 10px 15px;
            border: 2px solid rgba(0,0,0,0.1);
            border-top: none;
            border-right: none;
            background: rgba(255,255,255,0.95);
            color: #333;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            white-space: nowrap;
            height: 42px;
            line-height: 1.5;
            box-sizing: border-box;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            transition: all 0.2s;
        }
        
        .nav-report-btn:hover {
            border-color: rgba(0,0,0,0.2);
            box-shadow: 0 2px 12px rgba(0,0,0,0.15);
            transform: translateY(2px);
        }
        
        .nav-report-btn:active {
            transform: translateY(0);
        }
        
        /* 우측 상단 에이전트 선택 */
        .agent-selector {
            position: fixed;
            top: 0;
            right: 0;
            z-index: 1000;
        }
        
        .agent-selector select {
            padding: 10px 15px;
            border-radius: 0 0 0 8px;
            border: 2px solid rgba(0,0,0,0.1);
            border-top: none;
            border-right: none;
            background: rgba(255,255,255,0.95);
            color: #333;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            min-width: 200px;
            height: 42px;
            line-height: 1.5;
            box-sizing: border-box;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            transition: all 0.2s;
        }
        
        .agent-selector select:hover {
            border-color: rgba(0,0,0,0.2);
            box-shadow: 0 2px 12px rgba(0,0,0,0.15);
        }
        
        .agent-selector select:focus {
            outline: none;
            border-color: rgba(0,0,0,0.3);
        }
        
        /* 좌측 상단 동적 버튼 */
        #dynamicButtons {
            display: flex;
            gap: 0;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 4px;
            padding: 30px;
            padding-top: 60px; /* 네비게이션 메뉴 공간 확보 */
            padding-right: 220px; /* 우측 에이전트 선택 메뉴 공간 확보 */
        }
        
        .header-section {
            text-align: center;
            margin-bottom: 30px;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 10px;
        }
        
        .header-title-row {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
            flex-wrap: wrap;
        }
        
        h1 {
            color: #222;
            margin: 0;
            font-size: 28px;
            font-weight: 600;
        }
        
        .subtitle {
            display: inline-block;
            background: rgba(0,0,0,0.05);
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 0.85em;
            border: 1px solid rgba(0,0,0,0.1);
            color: #666;
            transition: all 0.3s;
            white-space: nowrap;
        }
        
        .subtitle:hover {
            background: rgba(0,0,0,0.08);
            transform: translateY(-2px);
        }
        
        .search-bar {
            margin-bottom: 30px;
            background: white;
            padding: 15px;
            border-radius: 4px;
            border: 1px solid #e5e5e5;
        }
        
        .search-bar input {
            width: 100%;
            padding: 12px 20px;
            font-size: 16px;
            border: 1px solid #ddd;
            border-radius: 4px;
            transition: border-color 0.2s;
            background: #fafafa;
        }
        
        .search-bar input:focus {
            outline: none;
            border-color: #999;
            background: white;
        }
        
        .filter-buttons {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-top: 15px;
        }
        
        .filter-btn {
            padding: 6px 14px;
            background: #f5f5f5;
            border: 1px solid #ddd;
            border-radius: 4px;
            cursor: pointer;
            font-size: 13px;
            transition: all 0.2s;
            color: #555;
        }
        
        .filter-btn:hover {
            background: #ebebeb;
            border-color: #ccc;
        }
        
        .filter-btn.active {
            background: #333;
            color: white;
            border-color: #333;
        }
        
        .agent-section {
            margin-bottom: 30px;
            border: 1px solid #e5e5e5;
            border-radius: 4px;
            overflow: hidden;
            background: white;
        }
        
        .agent-header {
            background: #f8f8f8;
            color: #222;
            padding: 18px 20px;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid #e5e5e5;
            transition: background 0.2s;
        }
        
        .agent-header:hover {
            background: #f0f0f0;
        }
        
        .agent-header h2 {
            font-size: 18px;
            font-weight: 500;
            color: #222;
        }
        
        .agent-id {
            background: #e8e8e8;
            color: #555;
            padding: 4px 10px;
            border-radius: 3px;
            font-size: 11px;
            font-weight: 500;
        }
        
        .agent-content {
            padding: 25px;
            display: block;
            background: white;
        }
        
        .agent-content.hidden {
            display: none;
        }
        
        .question-item {
            padding: 20px 0;
            margin-bottom: 30px;
            border-bottom: 1px solid #e5e5e5;
        }
        
        .question-item:last-child {
            margin-bottom: 0;
            border-bottom: none;
        }
        
        .question-number {
            display: inline-block;
            color: #666;
            font-size: 11px;
            font-weight: 500;
            margin-bottom: 8px;
        }
        
        .question-text {
            font-size: 15px;
            color: #222;
            margin-bottom: 12px;
            font-weight: 600;
            line-height: 1.8;
        }
        
        .question-detail {
            font-size: 14px;
            color: #555;
            margin-top: 8px;
            line-height: 1.7;
        }
        
        .data-based-question-btn {
            display: inline-block;
            margin-top: 12px;
            padding: 6px 14px;
            background: #4a90e2;
            color: white;
            border: none;
            border-radius: 4px;
            font-size: 12px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .data-based-question-btn:hover {
            background: #357abd;
            transform: translateY(-1px);
            box-shadow: 0 2px 6px rgba(74, 144, 226, 0.3);
        }
        
        .data-based-question-btn:active {
            transform: translateY(0);
        }
        
        /* 모달 스타일 */
        .modal-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.6);
            z-index: 2000;
            overflow-y: auto;
        }
        
        .modal-overlay.active {
            display: flex;
            align-items: flex-start;
            justify-content: center;
            padding: 40px 20px;
        }
        
        .modal-content {
            background: white;
            border-radius: 8px;
            max-width: 900px;
            width: 100%;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2);
            position: relative;
            margin-top: 20px;
        }
        
        .modal-header {
            padding: 20px 25px;
            border-bottom: 1px solid #e5e5e5;
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: sticky;
            top: 0;
            background: white;
            z-index: 10;
        }
        
        .modal-header h3 {
            margin: 0;
            font-size: 20px;
            color: #222;
            font-weight: 600;
        }
        
        .modal-close {
            background: none;
            border: none;
            font-size: 24px;
            color: #999;
            cursor: pointer;
            padding: 0;
            width: 30px;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 4px;
            transition: all 0.2s;
        }
        
        .modal-close:hover {
            background: #f5f5f5;
            color: #333;
        }
        
        .modal-body {
            padding: 25px;
        }
        
        .question-set-section {
            margin-bottom: 30px;
        }
        
        .question-set-title {
            font-size: 16px;
            font-weight: 600;
            color: #333;
            margin-bottom: 15px;
            padding-bottom: 8px;
            border-bottom: 2px solid #4a90e2;
        }
        
        .detailed-question-item {
            background: #f9f9f9;
            border-left: 3px solid #4a90e2;
            padding: 15px;
            margin-bottom: 12px;
            border-radius: 4px;
        }
        
        .detailed-question-item .question-label {
            font-size: 13px;
            color: #666;
            font-weight: 500;
            margin-bottom: 6px;
        }
        
        .detailed-question-item .question-text {
            font-size: 14px;
            color: #222;
            line-height: 1.6;
            margin-bottom: 8px;
        }
        
        .detailed-question-item .data-sources {
            font-size: 12px;
            color: #888;
            margin-top: 8px;
            padding-top: 8px;
            border-top: 1px solid #e5e5e5;
        }
        
        .detailed-question-item .data-sources strong {
            color: #666;
        }
        
        .ontology-section {
            background: #f0f7ff;
            border: 1px solid #cce5ff;
            border-radius: 6px;
            padding: 20px;
            margin-top: 30px;
        }
        
        .ontology-section h4 {
            margin: 0 0 15px 0;
            font-size: 16px;
            color: #1e5a8e;
            font-weight: 600;
        }
        
        .ontology-item {
            background: white;
            padding: 12px;
            margin-bottom: 10px;
            border-radius: 4px;
            border-left: 3px solid #1e5a8e;
        }
        
        .ontology-item .ontology-name {
            font-weight: 600;
            color: #333;
            margin-bottom: 5px;
        }
        
        .ontology-item .ontology-description {
            font-size: 13px;
            color: #666;
            line-height: 1.5;
        }
        
        .analysis-section {
            background: #fff9e6;
            border: 1px solid #ffd700;
            border-radius: 6px;
            padding: 20px;
            margin-top: 30px;
        }
        
        .analysis-section h4 {
            margin: 0 0 15px 0;
            font-size: 16px;
            color: #8b6914;
            font-weight: 600;
        }
        
        .analysis-item {
            margin-bottom: 15px;
        }
        
        .analysis-item .analysis-title {
            font-weight: 600;
            color: #333;
            margin-bottom: 8px;
        }
        
        .analysis-item .analysis-content {
            font-size: 14px;
            color: #555;
            line-height: 1.6;
        }
        
        .toggle-icon {
            transition: transform 0.2s;
            color: #666;
            font-size: 12px;
        }
        
        .agent-section.collapsed .toggle-icon {
            transform: rotate(-90deg);
        }
        
        .highlight {
            background: #fff9c4;
            padding: 2px 4px;
            border-radius: 2px;
        }
        
        @media (max-width: 768px) {
            .container {
                padding: 15px;
                padding-top: 60px; /* 네비게이션 메뉴 공간 확보 */
            }
            
            .nav-dropdown {
                flex-wrap: wrap;
            }
            
            .nav-dropdown select {
                font-size: 12px;
                padding: 8px 12px;
                min-width: 150px;
                height: 36px;
            }
            
            .nav-report-btn {
                font-size: 12px;
                padding: 8px 12px;
                height: 36px;
            }
            
            .agent-selector select {
                font-size: 12px;
                padding: 8px 12px;
                min-width: 150px;
                height: 36px;
            }
            
            .container {
                padding-right: 20px;
            }
            
            h1 {
                font-size: 22px;
            }
            
            .agent-header h2 {
                font-size: 16px;
            }
            
            .question-text {
                font-size: 14px;
            }
        }
    </style>
</head>
<body>
    <div class="nav-dropdown">
        <select id="pageSelector" onchange="navigateToPage()">
            <option value="agentmission.html">1. 에이전트 미션</option>
            <option value="questions.html" selected>2. 주요 요청들</option>
            <option value="dataindex.php">3. 데이터 통합</option>
            <option value="rules_viewer.html">4. 에이전트 룰들</option>
            <option value="../../index.php">5. Mathking AI 조교</option>
            <option value="heartbeat_dashboard.html">6. Heartbeat Dashboard</option>
            <option value="../agent22_module_improvement/ui/index.php">7. 에이전트 가드닝</option>
        </select>
        <div id="dynamicButtons"></div>
    </div>
    
    <!-- 우측 상단 에이전트 선택 메뉴 -->
    <div class="agent-selector">
        <select id="agentSelector" onchange="handleAgentSelect()">
            <option value="">전체</option>
            <option value="agent01">Agent 01 - Onboarding</option>
            <option value="agent02">Agent 02 - Exam Schedule</option>
            <option value="agent03">Agent 03 - Goals Analysis</option>
            <option value="agent04">Agent 04 - Inspect Weakpoints</option>
            <option value="agent05">Agent 05 - Learning Emotion</option>
            <option value="agent06">Agent 06 - Teacher Feedback</option>
            <option value="agent07">Agent 07 - Interaction Targeting</option>
            <option value="agent08">Agent 08 - Calmness</option>
            <option value="agent09">Agent 09 - Learning Management</option>
            <option value="agent10">Agent 10 - Concept Notes</option>
            <option value="agent11">Agent 11 - Problem Notes</option>
            <option value="agent12">Agent 12 - Rest Routine</option>
            <option value="agent13">Agent 13 - Learning Dropout</option>
            <option value="agent14">Agent 14 - Current Position</option>
            <option value="agent15">Agent 15 - Problem Redefinition</option>
            <option value="agent16">Agent 16 - Interaction Preparation</option>
            <option value="agent17">Agent 17 - Remaining Activities</option>
            <option value="agent18">Agent 18 - Signature Routine</option>
            <option value="agent19">Agent 19 - Interaction Content</option>
            <option value="agent20">Agent 20 - Intervention Preparation</option>
            <option value="agent21">Agent 21 - Intervention Execution</option>
            <option value="agent22">Agent 22 - Module Improvement</option>
        </select>
    </div>
    
    <div class="container">
        <div class="header-section">
            <div class="header-title-row">
                <h1>🤖 21개 에이전트 포괄형 질문 모니터링</h1>
                <span class="subtitle">각 에이전트에게 요청할 수 있는 포괄형 질문들을 모니터링하고 검색할 수 있습니다.</span>
            </div>
        </div>
        
        <div class="search-bar">
            <input type="text" id="searchInput" placeholder="🔍 질문 내용, 에이전트명, 키워드로 검색...">
            <div class="filter-buttons" style="display: none;">
                <button class="filter-btn active" data-filter="all">전체</button>
                <button class="filter-btn" data-filter="agent01">1 온보딩</button>
                <button class="filter-btn" data-filter="agent02">2 시험일정</button>
                <button class="filter-btn" data-filter="agent03">3 목표분석</button>
                <button class="filter-btn" data-filter="agent04">4 취약점검사</button>
                <button class="filter-btn" data-filter="agent05">5 학습감정</button>
                <button class="filter-btn" data-filter="agent06">6 교사피드백</button>
                <button class="filter-btn" data-filter="agent07">7 상호작용타게팅</button>
                <button class="filter-btn" data-filter="agent08">8 침착도</button>
                <button class="filter-btn" data-filter="agent09">9 학습관리</button>
                <button class="filter-btn" data-filter="agent10">10 개념노트</button>
                <button class="filter-btn" data-filter="agent11">11 문제노트</button>
                <button class="filter-btn" data-filter="agent12">12 휴식루틴</button>
                <button class="filter-btn" data-filter="agent13">13 학습이탈</button>
                <button class="filter-btn" data-filter="agent14">14 현재위치</button>
                <button class="filter-btn" data-filter="agent15">15 문제재정의</button>
                <button class="filter-btn" data-filter="agent16">16 상호작용준비</button>
                <button class="filter-btn" data-filter="agent17">17 잔여활동</button>
                <button class="filter-btn" data-filter="agent18">18 시그너처루틴</button>
                <button class="filter-btn" data-filter="agent19">19 상호작용컨텐츠</button>
                <button class="filter-btn" data-filter="agent20">20 개입준비</button>
                <button class="filter-btn" data-filter="agent21">21 개입실행</button>
                <button class="filter-btn" data-filter="agent22">22 모듈개선</button>
            </div>
        </div>
        
        <div id="agentsContainer">
            <!-- Agent 01 -->
            <div class="agent-section" data-agent="agent01">
                <div class="agent-header" onclick="toggleSection(this)">
                    <div>
                        <h2>Agent 01: 온보딩 (Onboarding)</h2>
                    </div>
                    <div style="display: flex; align-items: center; gap: 15px;">
                        <span class="agent-id">Agent 01</span>
                        <span class="toggle-icon">▼</span>
                    </div>
                </div>
                <div class="agent-content">
                    <div class="question-item">
                        <span class="question-number">포괄형 질문 1</span>
                        <div class="question-text">"이 학생의 현재 수학 학습 맥락을 종합해서, 첫 수업에서 무엇을 어떻게 시작해야 할지 알려줘."</div>
                        <div class="question-detail">→ 온보딩 정보, 개념/심화 진도, 학습 스타일, 시험 대비 성향, 자신감 수준 등을 반영해서 수업 도입 루틴, 설명 전략, 자료 유형 등을 포함한 총체적 개입 전략 도출</div>
                        <button class="data-based-question-btn" onclick="showDataBasedQuestions('agent01', 1)">(데이터 기반 질문)</button>
                    </div>
                    <div class="question-item">
                        <span class="question-number">포괄형 질문 2</span>
                        <div class="question-text">"이 학생의 성향과 목표를 기반으로, 커리큘럼과 루틴을 어떤 방향으로 최적화해야 할까?"</div>
                        <div class="question-detail">→ 목표(단기/중기/장기), 학습 성향, 스트레스/자신감, 부모 개입도 등을 고려하여 진도별 우선순위, 학습 흐름, 문제 유형 비중 조절 등 커스터마이징 설계 도출</div>
                        <button class="data-based-question-btn" onclick="showDataBasedQuestions('agent01', 2)">(데이터 기반 질문)</button>
                    </div>
                    <div class="question-item">
                        <span class="question-number">포괄형 질문 3</span>
                        <div class="question-text">"이 학생이 중장기적으로 성장하기 위해 지금부터 어떤 부분을 특히 신경 써야 할까?"</div>
                        <div class="question-detail">→ 경시 준비, 진학 목표, 수학 자존감 성장, 피로 누적 방지, 루틴 유지 여부 등을 포괄적으로 분석하여 조기 리스크 예측 및 트래킹 우선요소 추천</div>
                        <button class="data-based-question-btn" onclick="showDataBasedQuestions('agent01', 3)">(데이터 기반 질문)</button>
                    </div>
                </div>
            </div>
            
            <!-- Agent 02 -->
            <div class="agent-section" data-agent="agent02">
                <div class="agent-header" onclick="toggleSection(this)">
                    <div>
                        <h2>Agent 02: 시험일정 (Exam Schedule)</h2>
                    </div>
                    <div style="display: flex; align-items: center; gap: 15px;">
                        <span class="agent-id">Agent 02</span>
                        <span class="toggle-icon">▼</span>
                    </div>
                </div>
                <div class="agent-content">
                    <div class="question-item">
                        <span class="question-number">포괄형 질문 1</span>
                        <div class="question-text">"지금 이 학생의 시험 대비 흐름을 보면, 학원·학교·집 학습이 어떻게 엇갈리고 있는지, 어디부터 정렬시켜야 할까?"</div>
                        <div class="question-detail">→ 학원 진도, 학교 시험 범위, 집 공부 루틴을 동시에 매칭해서 진도 격차(학원 vs 학교), 과제 소요 시간과 피로도, 시험 D-day 별 시간 자원, 과제/교재 중복 구간을 분석하고, "학원-학교-집 3축 정렬 플랜"과 시간 배분 리셋 루틴을 제시하도록 함.</div>
                    </div>
                    <div class="question-item">
                        <span class="question-number">포괄형 질문 2</span>
                        <div class="question-text">"시험 8주 루프 안에서 이 학생의 점수 상승 잠재력을 극대화하려면, 어떤 단원과 학습 전략 비율을 조정해야 할까?"</div>
                        <div class="question-detail">→ 목표 점수, 단원별 정답률, 교재별 진도율, 학원 피드백 데이터를 종합해 개념 : 유형 : 심화 : 기출 비율 재조정, 단원 우선순위 (시간 대비 효율 가중치), 학원 교재별 활용 전략 (쎈/RPM/블랙라벨 등), 단기 vs 중기 루틴 배치를 계산적으로 제시함.</div>
                    </div>
                    <div class="question-item">
                        <span class="question-number">포괄형 질문 3</span>
                        <div class="question-text">"시험이 끝난 지금, 학원 데이터와 학교 데이터를 종합했을 때 다음 시험 주기에 가장 먼저 개선해야 할 핵심 패턴은 무엇일까?"</div>
                        <div class="question-detail">→ 학원 등수, 학교 성적, 문항 유형별 성공률, 학원 교재 효과 지표를 결합해서 학원 교재 효율 분석 (문제 커버리지 vs 시험 적중률), 반복 실수 패턴 (계산/개념 비율), 학습 루틴 유지율 변동, 학부모·학원 피드백 반영률을 종합 평가하고, 다음 시험 루프 초기화 전략과 보완 단원 리스트를 생성함.</div>
                    </div>
                </div>
            </div>
            
            <!-- Agent 03 -->
            <div class="agent-section" data-agent="agent03">
                <div class="agent-header" onclick="toggleSection(this)">
                    <div>
                        <h2>Agent 03: 목표분석 (Goals Analysis)</h2>
                    </div>
                    <div style="display: flex; align-items: center; gap: 15px;">
                        <span class="agent-id">Agent 03</span>
                        <span class="toggle-icon">▼</span>
                    </div>
                </div>
                <div class="agent-content">
                    <div class="question-item">
                        <span class="question-number">포괄형 질문 1</span>
                        <div class="question-text">"이 학생의 목표와 계획이 실제 학습 리듬 속에서 얼마나 유기적으로 작동하고 있나요?"</div>
                        <div class="question-detail">→ 분기·주간·오늘 목표 간 연결성, 계획의 현실성, 일정 변동 대응력, 회복탄력성 지표를 함께 분석해 실제 루틴이 궤도 안에서 작동 중인지 진단하고, 필요 시 구조적 재설계를 제안.</div>
                    </div>
                    <div class="question-item">
                        <span class="question-number">포괄형 질문 2</span>
                        <div class="question-text">"현재 학생의 학습 궤도가 장기 커리큘럼과 목표 궤적 위에 안정적으로 놓여 있나요?"</div>
                        <div class="question-detail">→ 분기목표와 장기 커리큘럼의 정합성, 시험일정 반영률, 진학 목표와의 궤도 일치 정도를 통합 분석해 "이탈·지연·과속" 여부를 판단하고, 커리큘럼·루틴·시간배분을 어떻게 조정해야 궤도 재진입이 가능한지 제시.</div>
                    </div>
                    <div class="question-item">
                        <span class="question-number">포괄형 질문 3</span>
                        <div class="question-text">"이 학생의 목표 설계 구조는 변동 상황에서도 회복 가능하고, 선생님의 노하우가 반영된 형태인가요?"</div>
                        <div class="question-detail">→ 목표 설계의 단계성·탄력성, 일정 변화 대응 전략, 감정 기반 회복 패턴, 교사 피드백 반영률을 분석해 목표 시스템이 '무너지지 않고 다시 일어서는 구조'로 되어 있는지를 평가하고, 교사 노하우와 연계된 회복 전략 자동생성 로직을 제안.</div>
                    </div>
                </div>
            </div>
            
            <!-- Agent 04 -->
            <div class="agent-section" data-agent="agent04">
                <div class="agent-header" onclick="toggleSection(this)">
                    <div>
                        <h2>Agent 04: 취약점검사 (Inspect Weakpoints)</h2>
                    </div>
                    <div style="display: flex; align-items: center; gap: 15px;">
                        <span class="agent-id">Agent 04</span>
                        <span class="toggle-icon">▼</span>
                    </div>
                </div>
                <div class="agent-content">
                    <div class="question-item">
                        <span class="question-number">① 개념이해</span>
                        <div class="question-text">"이 학생의 개념이해 과정에서 가장 취약한 구간은 어디인가요?"</div>
                        <div class="question-detail">"현재 개념공부 방식이 학생의 인지스타일과 잘 맞고 있나요?" / "이 학생이 개념공부에 몰입하기 위해 지금 어떤 활동 조합(TTS, 필기, 예제)이 효과적일까요?"</div>
                        <button class="data-based-question-btn" onclick="showDataBasedQuestions('agent04', 1)">(데이터 기반 질문)</button>
                    </div>
                    <div class="question-item">
                        <span class="question-number">② 유형학습</span>
                        <div class="question-text">"이 학생이 지금 어떤 유형학습 루틴(순서, 방법, 간격)을 적용하면 효율이 높을까요?"</div>
                        <div class="question-detail">"최근 정답률과 페르소나를 기반으로, 오늘 어떤 유형으로 연습을 시작해야 할까요?" / "유형학습 과정에서 이 학생이 지루하거나 과부하를 느끼는 지점은 어디인가요?"</div>
                        <button class="data-based-question-btn" onclick="showDataBasedQuestions('agent04', 2)">(데이터 기반 질문)</button>
                    </div>
                    <div class="question-item">
                        <span class="question-number">③ 문제풀이</span>
                        <div class="question-text">"이 학생의 풀이 과정에서 가장 많이 나타나는 사고 패턴은 무엇인가요?"</div>
                        <div class="question-detail">"문제풀이 단계 중(해석-과정-마무리) 어느 구간에서 인지부하가 가장 큰가요?" / "이 학생이 문제풀이에 몰입하도록 유도하려면 어떤 피드백이나 리듬 조절이 필요할까요?"</div>
                        <button class="data-based-question-btn" onclick="showDataBasedQuestions('agent04', 3)">(데이터 기반 질문)</button>
                    </div>
                    <div class="question-item">
                        <span class="question-number">④ 오답노트</span>
                        <div class="question-text">"이 학생의 오답 패턴은 어떤 사고 습관과 연결되어 있나요?"</div>
                        <div class="question-detail">"오답노트 작성 과정을 통해 인지적 회복이 일어나는 시점은 언제인가요?" / "이 학생의 오답노트 피드백을 강화하기 위해 어떤 형태의 코칭이 적절할까요?"</div>
                        <button class="data-based-question-btn" onclick="showDataBasedQuestions('agent04', 4)">(데이터 기반 질문)</button>
                    </div>
                    <div class="question-item">
                        <span class="question-number">⑤ 질의응답</span>
                        <div class="question-text">"이 학생은 어떤 시점에서 질문을 가장 효과적으로 활용하나요?"</div>
                        <div class="question-detail">"질문을 회피하거나 지연시키는 행동이 있다면, 그 원인은 무엇인가요?" / "질의응답 루프를 통해 이 학생의 사고 확장을 촉진하려면 어떤 피드백 구조가 필요할까요?"</div>
                        <button class="data-based-question-btn" onclick="showDataBasedQuestions('agent04', 5)">(데이터 기반 질문)</button>
                    </div>
                    <div class="question-item">
                        <span class="question-number">⑥ 복습활동</span>
                        <div class="question-text">"이 학생에게 가장 효율적인 복습 타이밍과 분량은 어느 정도인가요?"</div>
                        <div class="question-detail">"복습 시 저항감이나 지루함을 줄이기 위한 개입 포인트는 어디인가요?" / "복습활동 중 학생이 스스로 몰입감을 느끼도록 유도하는 방법은 무엇인가요?"</div>
                        <button class="data-based-question-btn" onclick="showDataBasedQuestions('agent04', 6)">(데이터 기반 질문)</button>
                    </div>
                    <div class="question-item">
                        <span class="question-number">⑦ 포모도르 수학일기</span>
                        <div class="question-text">"이 학생의 집중 리듬에 맞는 포모도르 세션 구성은 어떻게 해야 할까요?"</div>
                        <div class="question-detail">"세션별 성찰 기록을 통해 어떤 학습적 통찰이 드러나고 있나요?" / "이 학생이 자기 성찰 일기에서 몰입감과 감정표현을 동시에 유지하려면 어떤 구조가 필요할까요?"</div>
                        <button class="data-based-question-btn" onclick="showDataBasedQuestions('agent04', 7)">(데이터 기반 질문)</button>
                    </div>
                    <div class="question-item">
                        <span class="question-number">⑧ 귀가검사</span>
                        <div class="question-text">"귀가검사 단계에서 학생의 하루 학습을 어떻게 정리·해석해주는 게 효과적일까요?"</div>
                        <div class="question-detail">"이 학생이 피드백을 수용하고 다음 루틴으로 연결되는 데 걸림돌은 무엇인가요?" / "귀가검사 결과를 다음날 학습 설계에 어떻게 반영해야 시그너처루틴이 강화될까요?"</div>
                        <button class="data-based-question-btn" onclick="showDataBasedQuestions('agent04', 8)">(데이터 기반 질문)</button>
                    </div>
                </div>
            </div>
            
            <!-- Agent 05 -->
            <div class="agent-section" data-agent="agent05">
                <div class="agent-header" onclick="toggleSection(this)">
                    <div>
                        <h2>Agent 05: 학습감정 (Learning Emotion)</h2>
                    </div>
                    <div style="display: flex; align-items: center; gap: 15px;">
                        <span class="agent-id">Agent 05</span>
                        <span class="toggle-icon">▼</span>
                    </div>
                </div>
                <div class="agent-content">
                    <div class="question-item">
                        <span class="question-number">포괄형 질문 1</span>
                        <div class="question-text">"이 학생의 학습활동 전반에서 감정의 흐름은 어떤 패턴으로 움직이고 있을까?"</div>
                        <div class="question-detail">→ 개념 이해부터 문제풀이, 복습, 귀가검사까지의 감정 곡선을 분석해 집중-피로-회복-몰입의 순환 패턴이 안정적인지 진단하고, 학생이 몰입에 진입하거나 빠져나오는 '감정 전환 구간'을 시각적으로 도출. 이를 기반으로 시그너처루틴 레벨 감정패턴을 모델링하고, 현재 감정 루틴의 안정도 점수를 계산해 다른 에이전트에 전달.</div>
                    </div>
                    <div class="question-item">
                        <span class="question-number">포괄형 질문 2</span>
                        <div class="question-text">"이 학생의 감정 페르소나를 기반으로, 어떤 방식의 피드백과 상호작용이 학습 효율을 극대화할까?"</div>
                        <div class="question-detail">→ 학생의 감정형 페르소나(예: 불안-보완형, 도전-몰입형, 회피-저항형)를 식별한 뒤 TTS 톤, 인터페이스 타이밍, 과제 순서, 휴식 삽입 시점 등 감정 반응에 맞는 피드백 구조를 최적화함. 특히, 감정형 페르소나별 피드백 수용률·회복속도 데이터를 기반으로 선생님/AI의 개입 방식(논리형·격려형·리듬형)을 맞춤 제안.</div>
                    </div>
                    <div class="question-item">
                        <span class="question-number">포괄형 질문 3</span>
                        <div class="question-text">"이 학생이 장기적으로 학습 감정의 자기조절 능력을 키우기 위해 지금부터 어떤 루틴이 필요할까?"</div>
                        <div class="question-detail">→ 감정 회복속도, 피로 누적 패턴, 메타인지적 감정 인식도를 종합 분석해 정서적 회복 루틴과 자기통제 루틴(예: 감정 명시 → 행동 전환 → 성취 인식)을 설계. 이를 통해 학습감정의 자가 피드백 시스템을 형성하고, 장기적으로 감정의 파동이 학습 효율에 미치는 영향을 예측·조정하도록 "감정 기반 자기조절 성장 로드맵"을 생성.</div>
                    </div>
                </div>
            </div>
            
            <!-- Agent 06 -->
            <div class="agent-section" data-agent="agent06">
                <div class="agent-header" onclick="toggleSection(this)">
                    <div>
                        <h2>Agent 06: 교사피드백 (Teacher Feedback)</h2>
                    </div>
                    <div style="display: flex; align-items: center; gap: 15px;">
                        <span class="agent-id">Agent 06</span>
                        <span class="toggle-icon">▼</span>
                    </div>
                </div>
                <div class="agent-content">
                    <div class="question-item">
                        <span class="question-number">포괄형 질문 A</span>
                        <div class="question-text">"최근 상호작용(메모/녹취/귀가검사)을 바탕으로, 내가 이 학생에게 일관되게 전하고 싶은 '핵심 의도'는 무엇이고(성장/도전/안정/회복), 그 의도를 가장 자연스럽게 전달하는 나의 페르소나 톤·언어 패턴은 무엇인지 요약해줘."</div>
                        <div class="question-detail">→ 출력: 핵심 의도 요약, 페르소나 톤 가이드(문장형 예시 포함), 위험 신호 체크리스트, 즉시 사용 가능한 대체 스크립트.</div>
                    </div>
                    <div class="question-item">
                        <span class="question-number">포괄형 질문 B</span>
                        <div class="question-text">"학생의 최근 변화 신호(집중/감정/진도)와 다가오는 문맥(시험·모의·진학 상담 등)을 종합해서, 3단계 개입 시나리오(오프닝 → 코칭 → 클로징)를 만들어줘."</div>
                        <div class="question-detail">→ 출력: 3단계 대화 스크립트, 톤 스위치 규칙, 과제·리마인드 카드, 보호자 안내 문구(1문장).</div>
                    </div>
                    <div class="question-item">
                        <span class="question-number">포괄형 질문 C</span>
                        <div class="question-text">"상호작용을 최적화하는 데 비어있는 핵심 정보(목표, 시험 일정, 톤 선호, 최근 감정 패턴 등)를 식별하고, 이를 자동 수집 절차(알림→질문 폼→검증)로 채워줘."</div>
                        <div class="question-detail">→ 출력: 누락정보 리스트+우선순위, 수집 메시지 템플릿, 자동 업데이트 규칙, 전/후 비교 리포트(한눈표).</div>
                    </div>
                </div>
            </div>
            
            <!-- Agent 07 -->
            <div class="agent-section" data-agent="agent07">
                <div class="agent-header" onclick="toggleSection(this)">
                    <div>
                        <h2>Agent 07: 상호작용타게팅 (Interaction Targeting)</h2>
                    </div>
                    <div style="display: flex; align-items: center; gap: 15px;">
                        <span class="agent-id">Agent 07</span>
                        <span class="toggle-icon">▼</span>
                    </div>
                </div>
                <div class="agent-content">
                    <div class="question-item">
                        <span class="question-number">포괄형 질문 1</span>
                        <div class="question-text">"지금 이 학생에게 어떤 '타이밍'의 상호작용이 가장 의미 있을까?"</div>
                        <div class="question-detail">→ 현재 학습 상태(집중도, 감정 곡선, 학습 시간대, 피로도), 루틴 위치(수업 중/휴식 중/귀가 전), 직전 상호작용 효과 등을 분석해, 지금 개입할지 / 기다릴지 / 유도형으로 바꿀지를 결정.</div>
                        <button class="data-based-question-btn" onclick="showDataBasedQuestions('agent07', 1)">(데이터 기반 질문)</button>
                    </div>
                    <div class="question-item">
                        <span class="question-number">포괄형 질문 2</span>
                        <div class="question-text">"이 학생에게 지금 어떤 '형태의 상호작용'이 가장 효과적일까?"</div>
                        <div class="question-detail">→ 감정 톤(활동적·차분·공감형), 채널(음성·텍스트·시각), 메시지 길이(짧게·길게), 표현 강도(격려/조정/리마인드) 등을 종합 판단하여 상호작용 형식과 스타일을 최적화.</div>
                        <button class="data-based-question-btn" onclick="showDataBasedQuestions('agent07', 2)">(데이터 기반 질문)</button>
                    </div>
                    <div class="question-item">
                        <span class="question-number">포괄형 질문 3</span>
                        <div class="question-text">"지금 이 순간의 상호작용이 학생의 '장기 루틴과 정서 루프' 안에서 어떤 의미를 가져야 할까?"</div>
                        <div class="question-detail">→ 이번 개입이 단순한 반응(즉시 위로/격려)이 될지, 혹은 루틴 강화(습관 유지), 정서 회복, 자기인식 촉진(메타인지 대화) 중 어떤 목표를 가질지 결정.</div>
                        <button class="data-based-question-btn" onclick="showDataBasedQuestions('agent07', 3)">(데이터 기반 질문)</button>
                    </div>
                </div>
            </div>
            
            <!-- Agent 08 -->
            <div class="agent-section" data-agent="agent08">
                <div class="agent-header" onclick="toggleSection(this)">
                    <div>
                        <h2>Agent 08: 침착도 (Calmness)</h2>
                    </div>
                    <div style="display: flex; align-items: center; gap: 15px;">
                        <span class="agent-id">Agent 08</span>
                        <span class="toggle-icon">▼</span>
                    </div>
                </div>
                <div class="agent-content">
                    <div class="question-item">
                        <span class="question-number">포괄형 질문 1</span>
                        <div class="question-text">"이 학생의 사고 속도와 판단의 균형을 종합적으로 분석해서, 어떤 사고 루틴으로 조정해줘야 할까?"</div>
                        <div class="question-detail">→ 풀이 시간, 답 선택 패턴, 정답률, 감정 안정도, 피로도 데이터를 기반으로 사고의 빠름·느림 불균형을 탐지하고, 침착도를 높이는 사고 루틴(예: '검증→선택→점검') 및 멈춤 전략(5초 점검, 근거 확언 등)을 제시하도록 한다.</div>
                    </div>
                    <div class="question-item">
                        <span class="question-number">포괄형 질문 2</span>
                        <div class="question-text">"이 학생의 침착도 데이터를 기반으로, 학습 과정에서 어떤 사고 패턴을 강화하거나 교정해야 할까?"</div>
                        <div class="question-detail">→ 최근 오답 패턴, 확신 신호, 무리한 시도 비율, 사고 생략률 등을 종합하여 '직감형 판단', '불확신형 회피', '생략형 사고' 중 어떤 패턴이 주요 리스크인지 식별하고, 각 패턴에 대응하는 피드백 전략(자기검증 질문, 근거 명시 훈련, 시간 관리 루틴 등)을 설계한다.</div>
                    </div>
                    <div class="question-item">
                        <span class="question-number">포괄형 질문 3</span>
                        <div class="question-text">"이 학생의 침착도 변화 추이를 보면, 중장기적으로 어떤 사고 습관 개선이 필요할까?"</div>
                        <div class="question-detail">→ 최근 1개월간의 침착도·확신도·정답률 추이를 비교 분석해 사고의 안정성 성장곡선을 도출하고, 감정·피로·집중도 데이터와 교차하여 장기적인 사고 습관 개선 방향(예: 과속형 → 점검형, 회피형 → 근거형)을 추천한다.</div>
                    </div>
                </div>
            </div>
            
            <!-- Agent 09 -->
            <div class="agent-section" data-agent="agent09">
                <div class="agent-header" onclick="toggleSection(this)">
                    <div>
                        <h2>Agent 09: 학습관리 (Learning Management)</h2>
                    </div>
                    <div style="display: flex; align-items: center; gap: 15px;">
                        <span class="agent-id">Agent 09</span>
                        <span class="toggle-icon">▼</span>
                    </div>
                </div>
                <div class="agent-content">
                    <div class="question-item">
                        <span class="question-number">포괄형 질문 1</span>
                        <div class="question-text">"이 학생의 학습관리 데이터 전체를 종합했을 때, 지금 가장 취약하거나 불안정한 부분은 어디이며 어떤 원인 패턴이 작동하고 있는지 분석해줘."</div>
                        <div class="question-detail">→ 데이터 생성 빈도, 루틴 유지율, 포모도르 누락률, 감정기복, 시스템 신뢰도 등을 함께 고려하여 '학습 관리력 저하의 근본 원인'을 구조적으로 진단하고 등급화된 리스크 요약 리포트 도출</div>
                    </div>
                    <div class="question-item">
                        <span class="question-number">포괄형 질문 2</span>
                        <div class="question-text">"이 학생의 학습관리 데이터를 기반으로, 어떤 피드백 루프를 우선적으로 재설계해야 지속적 성장을 만들 수 있을까?"</div>
                        <div class="question-detail">→ 데이터 불균형(개념/문제/복습 간), 루틴 붕괴 주기, 자동화 저항 패턴 등을 분석하여 우선순위 높은 피드백 영역(계획-실행-검증 중 어디인지)과 그에 맞는 행동전략/알림 방식 제시</div>
                    </div>
                    <div class="question-item">
                        <span class="question-number">포괄형 질문 3</span>
                        <div class="question-text">"이 학생이 학습관리 안정성을 높이기 위해 지금부터 어떤 루틴적 습관과 시스템 연동 방식을 강화해야 할까?"</div>
                        <div class="question-detail">→ 최근 4주간의 데이터 일관성, 루틴 유지 성공률, 피드백 반영률, 시스템 의존도, 회복속도 등을 종합하여 '관리 안정성 향상 시나리오(습관화 루틴 + 자동화 개입 포인트)'를 단계별로 제안</div>
                    </div>
                </div>
            </div>
            
            <!-- Agent 10 -->
            <div class="agent-section" data-agent="agent10">
                <div class="agent-header" onclick="toggleSection(this)">
                    <div>
                        <h2>Agent 10: 개념노트 (Concept Notes)</h2>
                    </div>
                    <div style="display: flex; align-items: center; gap: 15px;">
                        <span class="agent-id">Agent 10</span>
                        <span class="toggle-icon">▼</span>
                    </div>
                </div>
                <div class="agent-content">
                    <div class="question-item">
                        <span class="question-number">포괄형 질문 1</span>
                        <div class="question-text">"이 학생의 개념 공부 패턴을 종합해서, 첫 개념 수업에서는 무엇을 어떻게 다뤄야 할까?"</div>
                        <div class="question-detail">→ 필기량, 체류시간, TTS 활용, 재방문 패턴, 단계별 이해도 등을 종합하여 학생의 개념 이해 방식(시각형/청각형/요약형 등)을 판별하고, 첫 개념 수업에서의 설명 방식, 교재 구성, 필기 유도 전략을 포함한 맞춤형 도입 루틴을 제안하도록 함.</div>
                    </div>
                    <div class="question-item">
                        <span class="question-number">포괄형 질문 2</span>
                        <div class="question-text">"이 학생의 개념 학습 데이터를 기반으로, 어떤 루틴이 가장 효율적일까?"</div>
                        <div class="question-detail">→ 개념요약–이해–체크–예제–대표유형–테스트 간의 전이 효율, TTS·필기·체류 로그 간 상관관계, 오답 발생 구간 등을 분석하여 학생 개인에게 가장 적합한 개념학습 루틴 시퀀스(순서·시간·형태)와 집중 블록 구조(포모도르/세션단위)를 설계하도록 요청.</div>
                    </div>
                    <div class="question-item">
                        <span class="question-number">포괄형 질문 3</span>
                        <div class="question-text">"이 학생이 중장기적으로 개념 학습 효율을 높이기 위해 지금부터 어떤 부분을 보완해야 할까?"</div>
                        <div class="question-detail">→ 오답 원인(이해 부족/주의력 저하/필기누락), 루틴 유지율, 단계별 이해도 편차, 재방문 이유 분석을 통합하여 개념이해 안정성 지표, 청각/시각 입력 의존도, 루틴 지속 리스크 요인을 추출하고, 향후 개념학습 지속성 향상 전략(습관·도구·피드백 루프)을 제안하도록 함.</div>
                    </div>
                </div>
            </div>
            
            <!-- Agent 11 -->
            <div class="agent-section" data-agent="agent11">
                <div class="agent-header" onclick="toggleSection(this)">
                    <div>
                        <h2>Agent 11: 문제노트 (Problem Notes)</h2>
                    </div>
                    <div style="display: flex; align-items: center; gap: 15px;">
                        <span class="agent-id">Agent 11</span>
                        <span class="toggle-icon">▼</span>
                    </div>
                </div>
                <div class="agent-content">
                    <div class="question-item">
                        <span class="question-number">포괄형 질문 1</span>
                        <div class="question-text">"이 학생의 오답노트 데이터를 종합해서, 지금 어떤 사고습관과 성찰패턴을 가지고 있는지 분석해줘."</div>
                        <div class="question-detail">→ 오답노트 작성 방식, 필기량·시간·성찰문·오답원인 기록 등을 분석하여 학생이 '왜 틀리는지'에 대한 자기이해 수준, 즉 성찰형 / 반복형 / 회피형 / 실전형 중 어떤 사고습관을 보이는지 분류하고, 각 유형에 맞는 첫 개입 루틴(오답정리 방식, 피드백 톤, 복습주기)을 제안하도록 요청.</div>
                        <button class="data-based-question-btn" onclick="showDataBasedQuestions('agent11', 1)">(데이터 기반 질문)</button>
                    </div>
                    <div class="question-item">
                        <span class="question-number">포괄형 질문 2</span>
                        <div class="question-text">"이 학생의 오답노트 패턴을 기반으로, 복습 루틴과 교사 개입 방향을 어떻게 최적화해야 할까?"</div>
                        <div class="question-detail">→ 최근 3~5회 노트의 reflection_score, completeness_score, 오답유형, 복습효과 등을 종합해 학생의 루틴 안정도·지속력·개선도를 추정하고, '복습주기 조정', '교사 피드백 강도', 'AI 자동 피드백 빈도' 등 학습 루프 설계 요소를 최적화하도록 요청.</div>
                        <button class="data-based-question-btn" onclick="showDataBasedQuestions('agent11', 2)">(데이터 기반 질문)</button>
                    </div>
                    <div class="question-item">
                        <span class="question-number">포괄형 질문 3</span>
                        <div class="question-text">"이 학생이 중장기적으로 성장하기 위해, 오답노트 기반으로 어떤 습관과 루틴을 형성해야 할까?"</div>
                        <div class="question-detail">→ 오답노트 축적 데이터에서 오류유형 분포, 성찰깊이 변화, 복습효과 지속기간을 분석해 지속적인 성장 루프(성찰–복습–재도전)를 형성할 수 있도록 학생의 시그너처 루틴 진화단계(Level 1~5)를 제시하고, 다음 단계로 넘어가기 위한 구체적 루틴 행동 가이드(예: 서술평가 빈도, 오답요약 방식, 재시도 간격 등)를 함께 도출하도록 요청.</div>
                        <button class="data-based-question-btn" onclick="showDataBasedQuestions('agent11', 3)">(데이터 기반 질문)</button>
                    </div>
                </div>
            </div>
            
            <!-- Agent 12 -->
            <div class="agent-section" data-agent="agent12">
                <div class="agent-header" onclick="toggleSection(this)">
                    <div>
                        <h2>Agent 12: 휴식루틴 (Rest Routine)</h2>
                    </div>
                    <div style="display: flex; align-items: center; gap: 15px;">
                        <span class="agent-id">Agent 12</span>
                        <span class="toggle-icon">▼</span>
                    </div>
                </div>
                <div class="agent-content">
                    <div class="question-item">
                        <span class="question-number">포괄형 질문 1</span>
                        <div class="question-text">"이 학생의 휴식 패턴과 회복 리듬을 종합해서, 현재 학습 지속력에 어떤 영향을 주고 있는지 분석해줘."</div>
                        <div class="question-detail">→ 휴식 버튼 사용 주기, 휴식 전후 집중도 변화, 피로 누적 지수, 감정 안정도 데이터를 종합해 회복 루틴의 질적 수준(즉흥적·계획적·보상형)을 진단하고, 수업 중 휴식과 학습 전환이 자연스럽게 이어지도록 리듬형 개입 전략을 도출.</div>
                        <button class="data-based-question-btn" onclick="showDataBasedQuestions('agent12', 1)">(데이터 기반 질문)</button>
                    </div>
                    <div class="question-item">
                        <span class="question-number">포괄형 질문 2</span>
                        <div class="question-text">"이 학생의 휴식 습관과 정서 반응을 기반으로, 피로 누적을 최소화하고 몰입을 회복시키는 루틴은 어떻게 최적화해야 할까?"</div>
                        <div class="question-detail">→ 주간 피로 상승 패턴, 감정 회복 속도, 외부 일정 영향, 휴식 중 감정 톤 변화를 반영해 개인별 회복 루틴(짧은 휴식/감각 전환/정서 안정 중심)을 맞춤 설계하고, 학습-휴식 전환을 원활하게 만드는 리듬 재조정 알고리즘을 제안.</div>
                        <button class="data-based-question-btn" onclick="showDataBasedQuestions('agent12', 2)">(데이터 기반 질문)</button>
                    </div>
                    <div class="question-item">
                        <span class="question-number">포괄형 질문 3</span>
                        <div class="question-text">"이 학생이 장기적으로 안정적인 학습 리듬을 유지하기 위해, 지금부터 어떤 휴식 관리가 가장 중요할까?"</div>
                        <div class="question-detail">→ 장기 데이터에서 피로 누적 지수, 회복탄력성 추세, 감정루틴 일관성, 슬럼프 예측 신호를 분석해 지속적 성장을 위한 정서 회복력 강화 루틴과 '보편적 피로 구간(예: 시험기간)'에 대비한 예방형 휴식전략을 추천.</div>
                        <button class="data-based-question-btn" onclick="showDataBasedQuestions('agent12', 3)">(데이터 기반 질문)</button>
                    </div>
                </div>
            </div>
            
            <!-- Agent 13 -->
            <div class="agent-section" data-agent="agent13">
                <div class="agent-header" onclick="toggleSection(this)">
                    <div>
                        <h2>Agent 13: 학습이탈 (Learning Dropout)</h2>
                    </div>
                    <div style="display: flex; align-items: center; gap: 15px;">
                        <span class="agent-id">Agent 13</span>
                        <span class="toggle-icon">▼</span>
                    </div>
                </div>
                <div class="agent-content">
                    <div class="question-item">
                        <span class="question-number">포괄형 질문 1</span>
                        <div class="question-text">"이 학생의 학습 몰입 흐름이 어느 시점에서 끊기고 있는지, 그 원인을 어떻게 조기 탐지·예방해야 할까?"</div>
                        <div class="question-detail">→ 최근 포모도르 패턴, 감정 변화율, 필기량 추세, 목표 입력 지연, 루틴 붕괴 시점 등을 통합 분석하여 이탈 전조(지연, 피로, 권태, 산만 등)를 예측하고 즉각적 개입 타이밍·메시지·행동 루틴을 제안.</div>
                    </div>
                    <div class="question-item">
                        <span class="question-number">포괄형 질문 2</span>
                        <div class="question-text">"이 학생의 집중 회복력을 높이기 위해 어떤 루틴과 환경 변수를 조정해야 할까?"</div>
                        <div class="question-detail">→ 복귀 성공률, 이탈 후 복귀 지연시간, 감정 회복속도, 피로도 누적지수, 루틴 유지 안정도를 종합 분석하여 '복귀 루프(이탈→개입→복귀→유지)' 성공 확률을 높이는 맞춤형 루틴 보정 전략(시간·강도·보상형)을 설계.</div>
                    </div>
                    <div class="question-item">
                        <span class="question-number">포괄형 질문 3</span>
                        <div class="question-text">"이 학생이 장기적으로 이탈이 줄고, 자기조절 루틴이 자리잡도록 하기 위해 지금 어떤 피드백 체계를 구축해야 할까?"</div>
                        <div class="question-detail">→ 주간 이탈 트렌드, 감정·휴식 데이터, 교사 개입 효과, 피드백 내성도, 복귀 루프 완결률 등을 기반으로 단기 개입(즉시 리포커스)과 중장기 개입(자기조절 루틴·정서 회복 루틴)의 병행 설계를 제안.</div>
                    </div>
                </div>
            </div>
            
            <!-- Agent 14 -->
            <div class="agent-section" data-agent="agent14">
                <div class="agent-header" onclick="toggleSection(this)">
                    <div>
                        <h2>Agent 14: 현재위치 (Current Position)</h2>
                    </div>
                    <div style="display: flex; align-items: center; gap: 15px;">
                        <span class="agent-id">Agent 14</span>
                        <span class="toggle-icon">▼</span>
                    </div>
                </div>
                <div class="agent-content">
                    <div class="question-item">
                        <span class="question-number">포괄형 질문 1</span>
                        <div class="question-text">"이 학생의 현재 수학 학습 진행 상태를 정밀하게 진단해줘."</div>
                        <div class="question-detail">→ 수학일기 기록, 진도율, 지연 패턴, 감정곡선, 포모도르 리듬 등을 종합 분석해 지금 '이 학생이 어디까지 와 있고, 어느 지점에서 속도나 이해가 끊겼는지'를 현직 수학 선생님 수준으로 설명해줘.</div>
                    </div>
                    <div class="question-item">
                        <span class="question-number">포괄형 질문 2</span>
                        <div class="question-text">"이 학생의 학습 단계별 강약점을 구조적으로 정리해줘."</div>
                        <div class="question-detail">→ 단원별/난이도별/단계별(개념–유형–심화–기출) 데이터를 토대로 각 단계에서의 이해도·진도율·소요시간·오류유형을 분석해 '어디서 병목이 발생하는지', '어떤 구간이 원활한지'를 시각적으로 구분해줘.</div>
                    </div>
                    <div class="question-item">
                        <span class="question-number">포괄형 질문 3</span>
                        <div class="question-text">"지금 이 학생의 학습 위치를 기준으로, 다음 수업과 개입 방향을 어떻게 설계해야 할까?"</div>
                        <div class="question-detail">→ 진행률, 감정 곡선, 리듬 점수, 위험도 지수를 종합하여 현재 시점에서 '심화로 갈지, 복습으로 돌아갈지, 휴식 리듬을 조정할지'를 교사 수준으로 의사결정 로직을 제시해줘.</div>
                    </div>
                </div>
            </div>
            
            <!-- Agent 15 -->
            <div class="agent-section" data-agent="agent15">
                <div class="agent-header" onclick="toggleSection(this)">
                    <div>
                        <h2>Agent 15: 문제재정의 (Problem Redefinition)</h2>
                    </div>
                    <div style="display: flex; align-items: center; gap: 15px;">
                        <span class="agent-id">Agent 15</span>
                        <span class="toggle-icon">▼</span>
                    </div>
                </div>
                <div class="agent-content">
                    <div class="question-item">
                        <span class="question-number">포괄형 질문 1</span>
                        <div class="question-text">"학생의 최근 학습 데이터에서 반복적으로 감지되는 패턴(오답, 진도 지연, 감정 변동 등)을 근거로, 겉으로 드러난 문제를 재정의하고 근본 원인(인지·정서·습관·환경 요인)을 구분해줘."</div>
                        <div class="question-detail">→ 그 후 표준 진단코드로 매핑하고, 우선순위 3개와 각각의 실행 가능한 개선 시나리오를 제안해줘.</div>
                        <button class="data-based-question-btn" onclick="showDataBasedQuestions('agent15', 1)">(데이터 기반 질문)</button>
                    </div>
                    <div class="question-item">
                        <span class="question-number">포괄형 질문 2</span>
                        <div class="question-text">"학생의 학습 루틴, 포모도로, 집중 패턴 데이터를 기반으로 현재 루틴이 어떤 이유로 붕괴되었는지를 진단하고, 표준코드 체계에 따라 전략 불일치/시간관리/정서 리듬 문제 중 어디에 속하는지 판별해줘."</div>
                        <div class="question-detail">→ 각 분류별로 루틴 회복 또는 전략 재설계 방안을 제안하고, 필요한 상호작용 톤과 개입 시점을 포함해줘.</div>
                        <button class="data-based-question-btn" onclick="showDataBasedQuestions('agent15', 2)">(데이터 기반 질문)</button>
                    </div>
                    <div class="question-item">
                        <span class="question-number">포괄형 질문 3</span>
                        <div class="question-text">"최근 2주간 학습성과(점수, 진도, 감정안정도)가 하락세일 때, 단기적인 피드백만으로는 해결되지 않는 구조적 문제를 재정의하고, AI·교사·학생이 협력하여 해결해야 할 핵심 진단코드 3개를 제시해줘."</div>
                        <div class="question-detail">→ 각 코드별로 예상 리스크·개입효과·모니터링 변수를 함께 정리해줘.</div>
                        <button class="data-based-question-btn" onclick="showDataBasedQuestions('agent15', 3)">(데이터 기반 질문)</button>
                    </div>
                </div>
            </div>
            
            <!-- Agent 16 -->
            <div class="agent-section" data-agent="agent16">
                <div class="agent-header" onclick="toggleSection(this)">
                    <div>
                        <h2>Agent 16: 상호작용준비 (Interaction Preparation)</h2>
                    </div>
                    <div style="display: flex; align-items: center; gap: 15px;">
                        <span class="agent-id">Agent 16</span>
                        <span class="toggle-icon">▼</span>
                    </div>
                </div>
                <div class="agent-content">
                    <div class="question-item">
                        <span class="question-number">포괄형 질문 1</span>
                        <div class="question-text">"이 학생의 학습 상태와 최근 감정 흐름을 바탕으로, 어떤 세계관에서 이야기를 시작해야 가장 자연스러울까?"</div>
                        <div class="question-detail">→ 감정 안정도, 루틴 유지율, 목표 모드, 피로도, 몰입도 등의 데이터를 종합하여 학생이 '이야기 속으로 들어가기에 가장 안전하고 몰입도 높은 세계관'을 추천. 결과: 추천 세계관 코드 + 스토리 톤(격려형/코치형/공감형 등) + 첫 대화 방향 제안</div>
                        <button class="data-based-question-btn" onclick="showDataBasedQuestions('agent16', 1)">(데이터 기반 질문)</button>
                    </div>
                    <div class="question-item">
                        <span class="question-number">포괄형 질문 2</span>
                        <div class="question-text">"이 학생에게 전달할 피드백 내용을, 어떤 스토리 테마와 내러티브 구조로 표현해야 가장 효과적일까?"</div>
                        <div class="question-detail">→ 문제 개선 아이디어(Agent 15), 페르소나, 감정톤, 세계관 데이터를 반영하여 단기 집중형 / 성찰형 / 도전형 / 휴식형 등의 스토리 틀을 자동 선택. 결과: 테마 유형 + 서사 구조(도입–전개–결말) + 감정 흐름 설계</div>
                        <button class="data-based-question-btn" onclick="showDataBasedQuestions('agent16', 2)">(데이터 기반 질문)</button>
                    </div>
                    <div class="question-item">
                        <span class="question-number">포괄형 질문 3</span>
                        <div class="question-text">"이전 상호작용의 맥락을 이어서, 이번 피드백이 마치 '연속된 이야기'처럼 느껴지게 하려면 무엇을 어떻게 연결해야 할까?"</div>
                        <div class="question-detail">→ 이전 상호작용의 세계관, 감정 톤, 대화 흐름, 캐릭터 역할을 추적하여 자연스러운 연속성('익숙한 사람과의 대화' 같은 톤)을 생성. 결과: 연결 문장, 캐릭터 유지 여부, 대화 톤 매칭 전략</div>
                        <button class="data-based-question-btn" onclick="showDataBasedQuestions('agent16', 3)">(데이터 기반 질문)</button>
                    </div>
                </div>
            </div>
            
            <!-- Agent 17 -->
            <div class="agent-section" data-agent="agent17">
                <div class="agent-header" onclick="toggleSection(this)">
                    <div>
                        <h2>Agent 17: 잔여활동 (Remaining Activities)</h2>
                    </div>
                    <div style="display: flex; align-items: center; gap: 15px;">
                        <span class="agent-id">Agent 17</span>
                        <span class="toggle-icon">▼</span>
                    </div>
                </div>
                <div class="agent-content">
                    <div class="question-item">
                        <span class="question-number">포괄형 질문 1</span>
                        <div class="question-text">"이 학생의 현재 학습 흐름이 왜 멈췄는지, 어떤 리듬 회복 전략으로 다시 이어가야 할까?"</div>
                        <div class="question-detail">→ 잔여시간, 피로도, 감정 상태, 집중 흐름, 병목 원인 등을 종합 분석해서 리듬 붕괴의 원인 진단 + 단기 회복 루틴(예열–핵심–정리) + 정서 안정 장치를 포함한 조정 전략 도출</div>
                    </div>
                    <div class="question-item">
                        <span class="question-number">포괄형 질문 2</span>
                        <div class="question-text">"현재 남은 학습 시간과 에너지 수준을 고려할 때, 어떤 활동 재배치가 가장 현실적이고 지속 가능한가?"</div>
                        <div class="question-detail">→ 가용 시간, 인지 부하, 활동 난이도, 우선순위를 함께 고려하여 핵심 20% 활동 선별 + 시간 슬롯 단위 재배치 + 피로 누적 방지형 루틴 구성</div>
                    </div>
                    <div class="question-item">
                        <span class="question-number">포괄형 질문 3</span>
                        <div class="question-text">"지금 이 학생이 장기적으로 학습 리듬을 유지하기 위해, 오늘 어떤 회복 패턴을 만들어야 할까?"</div>
                        <div class="question-detail">→ 최근 리듬 패턴, 정서 루프, 집중 유지 시간, 루틴 붕괴 이력 등을 기반으로 단기 → 중기 → 장기 리듬 안정화를 위한 패턴 제안 및 루틴 복귀 지속성 예측</div>
                    </div>
                </div>
            </div>
            
            <!-- Agent 18 -->
            <div class="agent-section" data-agent="agent18">
                <div class="agent-header" onclick="toggleSection(this)">
                    <div>
                        <h2>Agent 18: 시그너처루틴 (Signature Routine)</h2>
                    </div>
                    <div style="display: flex; align-items: center; gap: 15px;">
                        <span class="agent-id">Agent 18</span>
                        <span class="toggle-icon">▼</span>
                    </div>
                </div>
                <div class="agent-content">
                    <div class="question-item">
                        <span class="question-number">포괄형 질문 1</span>
                        <div class="question-text">"이 학생의 몰입 패턴과 감정 리듬을 종합해서, 지금 시점에서 가장 자연스럽게 몰입이 일어나는 조건을 찾아줘."</div>
                        <div class="question-detail">→ 온보딩 데이터와 최신 선호동 정보를 결합하여, 학생이 몰입에 진입하는 심리 트리거(감정·환경·행동요소)를 분석하고, 시작 루틴–집중 루틴–회복 루틴 구조로 정리된 시그너처 루틴 초안을 제시</div>
                        <button class="data-based-question-btn" onclick="showDataBasedQuestions('agent18', 1)">(데이터 기반 질문)</button>
                    </div>
                    <div class="question-item">
                        <span class="question-number">포괄형 질문 2</span>
                        <div class="question-text">"이 학생의 시그너처 루틴을 안정적으로 유지·강화하기 위해 어떤 감정적 강화 요소와 상호작용 방식을 적용해야 할까?"</div>
                        <div class="question-detail">→ 학습 중 감정곡선, 몰입 지속시간, 강화 피드백 반응 패턴을 기반으로 루틴 유지 요인(강화 자극·시간대·감정톤)을 탐색하고, 루틴이 무너질 때 빠르게 회복할 수 있는 보상 루프 설계 및 피드백 전략을 도출</div>
                        <button class="data-based-question-btn" onclick="showDataBasedQuestions('agent18', 2)">(데이터 기반 질문)</button>
                    </div>
                    <div class="question-item">
                        <span class="question-number">포괄형 질문 3</span>
                        <div class="question-text">"이 학생이 장기적으로 몰입을 지속하며 성장하기 위해, 시그너처 루틴을 어떤 방향으로 진화시켜야 할까?"</div>
                        <div class="question-detail">→ 루틴 반복 안정성, 감정 진폭, 인지 부하 패턴을 종합 분석하여 성취형→탐구형→의미형 루틴으로 이어지는 루틴 진화 경로를 제시하고, 각 단계에서 필요한 정서·인지적 보정 포인트를 함께 제공</div>
                        <button class="data-based-question-btn" onclick="showDataBasedQuestions('agent18', 3)">(데이터 기반 질문)</button>
                    </div>
                </div>
            </div>
            
            <!-- Agent 19 -->
            <div class="agent-section" data-agent="agent19">
                <div class="agent-header" onclick="toggleSection(this)">
                    <div>
                        <h2>Agent 19: 상호작용컨텐츠 (Interaction Content)</h2>
                    </div>
                    <div style="display: flex; align-items: center; gap: 15px;">
                        <span class="agent-id">Agent 19</span>
                        <span class="toggle-icon">▼</span>
                    </div>
                </div>
                <div class="agent-content">
                    <div class="question-item">
                        <span class="question-number">포괄형 질문 1</span>
                        <div class="question-text">"현재 감지된 학습 상황(S1~S7)을 종합해, 어떤 상호작용 유형과 템플릿으로 대응하는 게 최적일까?"</div>
                        <div class="question-detail">→ 학습 이탈, 지연, 오답 반복, 침착도 저하 등 다중 신호를 분석해 가장 적합한 상호작용 유형(텍스트 전달 / 루틴 개선 / 비선형 등)을 알고리즘으로 자동 선택하고, 이에 맞는 템플릿과 룰 링크 매핑까지 포함한 상호작용 유형 선택 전략 도출.</div>
                    </div>
                    <div class="question-item">
                        <span class="question-number">포괄형 질문 2</span>
                        <div class="question-text">"선택된 상호작용 유형을 기반으로, 개인 특성(MBTI·학습 스타일·정서 상태)에 맞게 템플릿을 어떻게 패키징해야 할까?"</div>
                        <div class="question-detail">→ MBTI, 집중 시간대, 학습 스타일, 정서 로그를 활용해 기존 템플릿 라이브러리 재사용 가능성 평가 → 맞춤형 UI / 톤 / 링크 구성 → HTML·CSS·JS 코드 수준의 패키징 전략 제시.</div>
                    </div>
                    <div class="question-item">
                        <span class="question-number">포괄형 질문 3</span>
                        <div class="question-text">"생성된 상호작용 컨텐츠가 실제로 학습 행동 변화에 효과적인지 어떻게 검증하고 추적해야 할까?"</div>
                        <div class="question-detail">→ 상호작용 결과 트래킹 지표(참여율, 클릭률, 재진입 성공률) 기반으로 효과성 분석 → 템플릿 효율 평가 → 룰 보정 및 다음 개입에 반영하는 피드백 루프 설계 제안.</div>
                    </div>
                </div>
            </div>
            
            <!-- Agent 20 -->
            <div class="agent-section" data-agent="agent20">
                <div class="agent-header" onclick="toggleSection(this)">
                    <div>
                        <h2>Agent 20: 개입준비 (Intervention Preparation)</h2>
                    </div>
                    <div style="display: flex; align-items: center; gap: 15px;">
                        <span class="agent-id">Agent 20</span>
                        <span class="toggle-icon">▼</span>
                    </div>
                </div>
                <div class="agent-content">
                    <div class="question-item">
                        <span class="question-number">포괄형 질문 1</span>
                        <div class="question-text">"현재 학생의 학습 흐름과 상태를 종합해서, 어떤 시점과 위치에서 개입을 시작하는 게 가장 효과적일까?"</div>
                        <div class="question-detail">→ 학습 지연·침착도 변화·루틴 진행률·환경 데이터 등을 통합 분석하여 개입 트리거 유형(데이터/인터페이스), 최적 개입 타이밍, 개입 위치 추천까지 포함한 개입 진입 전략 도출</div>
                    </div>
                    <div class="question-item">
                        <span class="question-number">포괄형 질문 2</span>
                        <div class="question-text">"이번 개입에서 어떤 방식(알림·메시지·채팅·호출)과 어떤 메시지 톤으로 접근하는 게 가장 적합할까?"</div>
                        <div class="question-detail">→ 학습자의 감정 안정도, 피로도, 집중도, 목표 중요도, 최근 개입 반응 패턴을 반영하여 개입 방식·어조·길이·시각적 표현을 포함한 개입 전달 전략 도출</div>
                    </div>
                    <div class="question-item">
                        <span class="question-number">포괄형 질문 3</span>
                        <div class="question-text">"이 학생의 중장기 패턴과 개입 이력 전체를 고려할 때, 지금 개입의 핵심 목적과 리스크는 무엇이며 어떤 사전 준비가 필요할까?"</div>
                        <div class="question-detail">→ 장기 패턴 이상, 개입 성공률, 반복 실패 요인, 교사/보호자 협력도 등을 분석하여 개입 목적 설정(정서 회복/루틴 복귀/집중 강화 등), 리스크 예측, 사전 리소스·책임자 배치 계획을 함께 제시하는 종합 개입 설계 질문</div>
                    </div>
                </div>
            </div>
            
            <!-- Agent 21 -->
            <div class="agent-section" data-agent="agent21">
                <div class="agent-header" onclick="toggleSection(this)">
                    <div>
                        <h2>Agent 21: 개입실행 (Intervention Execution)</h2>
                    </div>
                    <div style="display: flex; align-items: center; gap: 15px;">
                        <span class="agent-id">Agent 21</span>
                        <span class="toggle-icon">▼</span>
                    </div>
                </div>
                <div class="agent-content">
                    <div class="question-item">
                        <span class="question-number">포괄형 질문 1</span>
                        <div class="question-text">"지금 이 학생에게 개입을 실행한다면, 어떤 방식·타이밍·강도로 해야 가장 효과적일까?"</div>
                        <div class="question-detail">→ 최근 활동, 감정상태(Agent 05), 집중시간대(Agent 01), 개입계획(Agent 20)을 종합해 실행 우선순위, 최적 실행 시점, 개입 강도(즉시/지연/완화)와 전달 방식(메시지·채팅·알림)을 결정하고 예상 반응 패턴을 예측해줘.</div>
                        <button class="data-based-question-btn" onclick="showDataBasedQuestions('agent21', 1)">(데이터 기반 질문)</button>
                    </div>
                    <div class="question-item">
                        <span class="question-number">포괄형 질문 2</span>
                        <div class="question-text">"현재 대기 중인 개입들을 어떻게 조합·조정하면 과부하 없이 자연스럽게 실행할 수 있을까?"</div>
                        <div class="question-detail">→ 하루 메시지 제한, 연쇄 트리거 여부, 선행·후속 개입 관계를 고려해 병합·연기·우선 실행해야 할 개입을 구분하고 학생의 피로도·집중도 변화를 최소화하는 실행 시퀀스를 설계해줘.</div>
                        <button class="data-based-question-btn" onclick="showDataBasedQuestions('agent21', 2)">(데이터 기반 질문)</button>
                    </div>
                    <div class="question-item">
                        <span class="question-number">포괄형 질문 3</span>
                        <div class="question-text">"최근 실행된 개입들의 반응과 성과를 바탕으로, 다음 개입 실행 전략을 어떻게 조정해야 할까?"</div>
                        <div class="question-detail">→ 실행 기록(읽음률, 응답시간, 효과성 점수), 행동 변화, 감정 회복 속도 등을 분석해 효과성이 높았던 패턴과 낮았던 패턴을 구분하고 다음 개입의 전달 톤, 시간대, 개입 주기를 최적화하는 개선 루프를 제안해줘.</div>
                        <button class="data-based-question-btn" onclick="showDataBasedQuestions('agent21', 3)">(데이터 기반 질문)</button>
                    </div>
                    <div class="question-item">
                        <span class="question-number">① 데이터 트리거 발생 시</span>
                        <div class="question-text">"침착도 하락, 필기 지연, 이탈 위험 등의 실시간 트리거가 감지되었을 때 즉시 실행해야 할 개입을 추천하고 실행 시점을 결정해줘."</div>
                        <div class="question-detail">→ 트리거 유형, 감정 상태(Agent 05), 집중 시간대(Agent 01), 실행 타이밍 결정</div>
                        <button class="data-based-question-btn" onclick="showDataBasedQuestions('agent21', 4)">(데이터 기반 질문)</button>
                    </div>
                    <div class="question-item">
                        <span class="question-number">② 개입 계획 실행</span>
                        <div class="question-text">"Agent 20에서 보낸 개입 계획을 받아 현재 개인 개입 목록에 추가하고, 우선순위를 재조정해서 최적 실행 시점과 실행 방식을 결정해줘."</div>
                        <div class="question-detail">→ 개입 계획 데이터, 기존 대기 목록, 우선순위 재조정 로직, 타이밍 결정</div>
                        <button class="data-based-question-btn" onclick="showDataBasedQuestions('agent21', 5)">(데이터 기반 질문)</button>
                    </div>
                    <div class="question-item">
                        <span class="question-number">③ 메시지 과다 또는 충돌</span>
                        <div class="question-text">"오늘 이미 8개의 개입 메시지가 발송됐어. 대기 중인 개입들을 검토해서 하루 제한 내에서 우선순위를 다시 정하고, 선생님 승인 필요 여부를 판단해줘."</div>
                        <div class="question-detail">→ 메시지 한도 상태, 대기 개입 목록, 선생님 승인 트리거</div>
                        <button class="data-based-question-btn" onclick="showDataBasedQuestions('agent21', 6)">(데이터 기반 질문)</button>
                    </div>
                    <div class="question-item">
                        <span class="question-number">④ 집중 시간대 또는 활동 전환 직전</span>
                        <div class="question-text">"학생이 30분 후 집중 시간대에 들어가. 그 시간대에 가장 효과적인 개입 2가지를 선택하고, 실행 순서와 시간 오프셋을 계산해줘."</div>
                        <div class="question-detail">→ 집중 시간대 데이터, 효과성 예측 모델, 타이밍 오프셋 계산</div>
                        <button class="data-based-question-btn" onclick="showDataBasedQuestions('agent21', 7)">(데이터 기반 질문)</button>
                    </div>
                    <div class="question-item">
                        <span class="question-number">⑤ 선생님 직접 개입 필요 시</span>
                        <div class="question-text">"학생의 감정 상태가 불안정해서 자동 메시지보단 직접 피드백이 필요해. 현재 대기 중인 개입 중 선생님 직접 전달이 더 효과적인 항목을 추천하고, 자동 개입은 보류 표시로 전환해줘."</div>
                        <div class="question-detail">→ 감정 상태 분석, 개입 효과성 기록, 자동 → 수동 전환 로직</div>
                        <button class="data-based-question-btn" onclick="showDataBasedQuestions('agent21', 8)">(데이터 기반 질문)</button>
                    </div>
                    <div class="question-item">
                        <span class="question-number">⑥ 효과성 검증 및 리포트</span>
                        <div class="question-text">"어제 19시 개입(침착도 하락 대응)의 실행 결과를 요약해줘. 학생의 읽음·응답 패턴, 목표 달성도, 행동 변화도를 기반으로 효과성 점수를 계산하고, 다음 개입 개선점을 제안해줘."</div>
                        <div class="question-detail">→ 실행 히스토리, 반응 기록, 효과성 점수 계산식, 개선 피드백</div>
                        <button class="data-based-question-btn" onclick="showDataBasedQuestions('agent21', 9)">(데이터 기반 질문)</button>
                    </div>
                </div>
            </div>
            
            <!-- Agent 22 -->
            <div class="agent-section" data-agent="agent22">
                <div class="agent-header" onclick="toggleSection(this)">
                    <div>
                        <h2>Agent 22: 모듈개선 (Module Improvement)</h2>
                    </div>
                    <div style="display: flex; align-items: center; gap: 15px;">
                        <span class="agent-id">Agent 22</span>
                        <span class="toggle-icon">▼</span>
                    </div>
                </div>
                <div class="agent-content">
                    <div class="question-item">
                        <span class="question-number">포괄형 질문 1</span>
                        <div class="question-text">"전체 에이전트들의 실행 데이터를 종합해서, 현재 시스템이 어디에서 비효율이나 불안정성을 보이는지 진단해줘."</div>
                        <div class="question-detail">→ 에이전트별 실행 로그·룰 작동 빈도·리소스 사용량·실패 패턴을 통합 분석하여 병목 지점, 불균형 동작, 데이터 누락 등 구조적 취약지점을 식별하고, 우선적으로 점검해야 할 모듈과 대응 절차를 제시.</div>
                    </div>
                    <div class="question-item">
                        <span class="question-number">포괄형 질문 2</span>
                        <div class="question-text">"각 에이전트의 룰 구조와 분석 패턴을 비교해, 중복·충돌·누락을 최소화하기 위한 최적의 개선 방향을 제안해줘."</div>
                        <div class="question-detail">→ rules.yaml 간 조건 중복·충돌 가능성·엣지케이스 누락 여부를 기준으로 룰 네트워크 최적화 전략(통합·모듈화·의존성 정리·검증 시퀀스)을 도출하고, 영향도·노력도 기반의 개선 우선순위 맵을 작성.</div>
                    </div>
                    <div class="question-item">
                        <span class="question-number">포괄형 질문 3</span>
                        <div class="question-text">"이 시스템이 장기적으로 안정적이고 자동 진화 가능한 구조로 가려면, 어떤 업그레이드 루프와 검증 체계를 지금부터 설계해야 할까?"</div>
                        <div class="question-detail">→ 자가 업그레이드 루프(데이터 수집 → 취약점 진단 → 3 File 생성 → AI 검토 → 검증 → 배포) 전체를 점검하며, 지속적 성능 향상·오류 자가복구·자동화 검증 파이프라인을 중심으로 중장기 진화 로드맵을 제안.</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- 모달 오버레이 -->
    <div id="dataBasedQuestionModal" class="modal-overlay" onclick="closeModalOnOverlay(event)">
        <div class="modal-content" onclick="event.stopPropagation()">
            <div class="modal-header">
                <h3 id="modalTitle">데이터 기반 질문 세트</h3>
                <button class="modal-close" onclick="closeModal()">&times;</button>
            </div>
            <div class="modal-body" id="modalBody">
                <!-- 동적으로 생성됨 -->
            </div>
        </div>
    </div>
    
    <script>
        // 검색 기능
        const searchInput = document.getElementById('searchInput');
        const filterButtons = document.querySelectorAll('.filter-btn');
        const agentSections = document.querySelectorAll('.agent-section');
        
        function performSearch() {
            const searchTerm = searchInput.value.toLowerCase();
            const activeFilter = document.querySelector('.filter-btn.active').dataset.filter;
            
            agentSections.forEach(section => {
                const agentId = section.dataset.agent;
                const content = section.querySelector('.agent-content');
                const questions = content.querySelectorAll('.question-item');
                let hasMatch = false;
                
                // 필터 체크
                if (activeFilter !== 'all' && agentId !== activeFilter) {
                    section.style.display = 'none';
                    return;
                }
                
                // 검색어가 없으면 모두 표시
                if (!searchTerm) {
                    section.style.display = 'block';
                    questions.forEach(q => {
                        q.style.display = 'block';
                        // 하이라이트 제거
                        const text = q.textContent;
                        q.innerHTML = q.innerHTML.replace(/<span class="highlight">/g, '').replace(/<\/span>/g, '');
                    });
                    return;
                }
                
                // 질문 검색
                questions.forEach(question => {
                    const questionText = question.textContent.toLowerCase();
                    if (questionText.includes(searchTerm)) {
                        hasMatch = true;
                        question.style.display = 'block';
                        // 하이라이트 처리
                        const textContent = question.innerHTML;
                        const regex = new RegExp(`(${searchTerm})`, 'gi');
                        question.innerHTML = textContent.replace(regex, '<span class="highlight">$1</span>');
                    } else {
                        question.style.display = 'none';
                    }
                });
                
                // 에이전트 섹션 표시/숨김
                if (hasMatch || !searchTerm) {
                    section.style.display = 'block';
                    if (hasMatch) {
                        content.classList.remove('hidden');
                        section.classList.remove('collapsed');
                    }
                } else {
                    section.style.display = 'none';
                }
            });
        }
        
        // 필터 버튼 클릭
        filterButtons.forEach(btn => {
            btn.addEventListener('click', () => {
                filterButtons.forEach(b => b.classList.remove('active'));
                btn.classList.add('active');
                performSearch();
            });
        });
        
        // 검색 입력
        searchInput.addEventListener('input', performSearch);
        
        // 섹션 토글
        function toggleSection(header) {
            const section = header.closest('.agent-section');
            const content = section.querySelector('.agent-content');
            const isCollapsed = content.classList.contains('hidden');
            
            if (isCollapsed) {
                content.classList.remove('hidden');
                section.classList.remove('collapsed');
            } else {
                content.classList.add('hidden');
                section.classList.add('collapsed');
            }
        }
        
        // 초기화: 모든 섹션 펼치기 (기본 상태)
        agentSections.forEach(section => {
            const content = section.querySelector('.agent-content');
            content.classList.remove('hidden');
            section.classList.remove('collapsed');
        });
        
        // 버튼 클릭 처리 함수
        function handleButtonClick(action) {
            switch(action) {
                case 'verification':
                    // 검증 리포트로 이동
                    window.open('../../../../.cursor/rules/final-verification-report.md', '_blank');
                    break;
                case 'math_ontology':
                    window.location.href = '../math topics/ontology_visualizer.php';
                    break;
            }
        }
        
        // 에이전트 선택 처리 함수
        function handleAgentSelect() {
            const selector = document.getElementById('agentSelector');
            const selectedAgent = selector.value;
            
            // 동적 버튼 업데이트
            updateDynamicButtons(selectedAgent);
            
            if (!selectedAgent) {
                // 전체 선택 시 모든 섹션 표시
                const agentSections = document.querySelectorAll('.agent-section');
                agentSections.forEach(section => {
                    section.classList.remove('hidden');
                });
                // URL 해시 제거
                window.history.replaceState(null, null, window.location.pathname);
            } else {
                // 특정 에이전트 선택 시 해당 섹션으로 스크롤
                const agentSection = document.querySelector(`[data-agent="${selectedAgent}"]`);
                if (agentSection) {
                    // 다른 섹션 숨김
                    const agentSections = document.querySelectorAll('.agent-section');
                    agentSections.forEach(section => {
                        if (section !== agentSection) {
                            section.classList.add('hidden');
                        } else {
                            section.classList.remove('hidden');
                        }
                    });
                    
                    // 해당 섹션 확장
                    agentSection.classList.remove('collapsed');
                    
                    // 스크롤하여 해당 섹션으로 이동
                    setTimeout(() => {
                        agentSection.scrollIntoView({ behavior: 'smooth', block: 'start' });
                    }, 100);
                    
                    // URL 해시 업데이트
                    window.location.hash = selectedAgent;
                }
            }
        }
        
        // 동적 버튼 업데이트 함수
        function updateDynamicButtons(agentId) {
            const dynamicButtons = document.getElementById('dynamicButtons');
            if (!dynamicButtons) return;
            
            // 기존 동적 버튼 제거
            dynamicButtons.innerHTML = '';
            
            // Agent 03인 경우 Math Ontology 버튼 표시
            if (agentId === 'agent03') {
                const mathBtn = document.createElement('button');
                mathBtn.className = 'nav-report-btn';
                mathBtn.textContent = '📊 Math Ontology';
                mathBtn.onclick = () => handleButtonClick('math_ontology');
                dynamicButtons.appendChild(mathBtn);
            }
        }
        
        // 페이지 네비게이션 함수
        function navigateToPage() {
            const selector = document.getElementById('pageSelector');
            const selectedPage = selector.value;
            if (selectedPage) {
                // 현재 URL의 해시 정보 유지
                const currentHash = window.location.hash;
                let url = selectedPage;
                if (currentHash) {
                    url += currentHash;
                }
                window.location.href = url;
            }
        }
        
        // 현재 페이지에 맞게 dropdown 선택 및 에이전트 영역 표시
        document.addEventListener('DOMContentLoaded', function() {
            const currentPage = window.location.pathname.split('/').pop();
            const pageSelector = document.getElementById('pageSelector');
            if (pageSelector) {
                if (currentPage === 'agentmission.html') {
                    pageSelector.value = 'agentmission.html';
                } else if (currentPage === 'questions.html') {
                    pageSelector.value = 'questions.html';
                } else if (currentPage === 'dataindex.php') {
                    pageSelector.value = 'dataindex.php';
                } else if (currentPage === 'rules_viewer.html') {
                    pageSelector.value = 'rules_viewer.html';
                } else if (currentPage === 'heartbeat_dashboard.html') {
                    pageSelector.value = 'heartbeat_dashboard.html';
                } else if (window.location.pathname.includes('agent22_module_improvement')) {
                    pageSelector.value = '../agent22_module_improvement/ui/index.php';
                } else if (currentPage === 'index.php' || currentPage === '') {
                    pageSelector.value = '../../index.php';
                }
            }
            
            // URL 해시에서 에이전트 정보 확인 및 해당 영역 표시
            const hash = window.location.hash;
            if (hash && hash.startsWith('#agent')) {
                const agentId = hash.substring(1); // # 제거
                // agent06_teacher_feedback -> agent06로 변환
                const agentNum = agentId.match(/agent(\d+)/);
                if (agentNum) {
                    const agentKey = `agent${agentNum[1]}`;
                    const agentSelector = document.getElementById('agentSelector');
                    if (agentSelector) {
                        agentSelector.value = agentKey;
                        handleAgentSelect();
                    }
                }
            } else {
                // 해시가 없으면 전체 표시
                updateDynamicButtons('');
            }
            
            // 모든 질문 항목에 데이터 기반 질문 버튼 자동 추가
            addDataBasedQuestionButtons();
        });
        
        // 모든 질문 항목에 데이터 기반 질문 버튼 추가
        function addDataBasedQuestionButtons() {
            const questionItems = document.querySelectorAll('.question-item');
            questionItems.forEach((item, index) => {
                // 이미 버튼이 있으면 스킵
                if (item.querySelector('.data-based-question-btn')) {
                    return;
                }
                
                // 부모 섹션에서 에이전트 ID 찾기
                const agentSection = item.closest('.agent-section');
                if (!agentSection) return;
                
                const agentId = agentSection.dataset.agent;
                if (!agentId) return;
                
                // 질문 번호 찾기
                const questionNumber = item.querySelector('.question-number');
                let questionNum = 1;
                if (questionNumber) {
                    const numMatch = questionNumber.textContent.match(/(\d+)/);
                    if (numMatch) {
                        questionNum = parseInt(numMatch[1]);
                    } else {
                        // 포괄형 질문이 아닌 경우 (예: ①, ② 등)
                        const text = questionNumber.textContent.trim();
                        if (text.includes('①')) questionNum = 1;
                        else if (text.includes('②')) questionNum = 2;
                        else if (text.includes('③')) questionNum = 3;
                        else if (text.includes('④')) questionNum = 4;
                        else if (text.includes('⑤')) questionNum = 5;
                        else if (text.includes('⑥')) questionNum = 6;
                        else if (text.includes('⑦')) questionNum = 7;
                        else if (text.includes('⑧')) questionNum = 8;
                        else {
                            // 같은 섹션 내에서 순서로 판단
                            const siblings = Array.from(agentSection.querySelectorAll('.question-item'));
                            questionNum = siblings.indexOf(item) + 1;
                        }
                    }
                }
                
                // 버튼 생성
                const btn = document.createElement('button');
                btn.className = 'data-based-question-btn';
                btn.textContent = '(데이터 기반 질문)';
                btn.onclick = function() {
                    showDataBasedQuestions(agentId, questionNum);
                };
                
                // question-detail 다음에 추가
                const questionDetail = item.querySelector('.question-detail');
                if (questionDetail) {
                    questionDetail.parentNode.insertBefore(btn, questionDetail.nextSibling);
                } else {
                    item.appendChild(btn);
                }
            });
        }
        
        // 모달 닫기
        function closeModal() {
            const modal = document.getElementById('dataBasedQuestionModal');
            modal.classList.remove('active');
        }
        
        // 오버레이 클릭 시 모달 닫기
        function closeModalOnOverlay(event) {
            if (event.target.id === 'dataBasedQuestionModal') {
                closeModal();
            }
        }
        
        // ESC 키로 모달 닫기
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') {
                const modal = document.getElementById('dataBasedQuestionModal');
                if (modal.classList.contains('active')) {
                    closeModal();
                }
            }
        });
        
        // 데이터 기반 질문 세트 표시
        function showDataBasedQuestions(agentId, questionNum) {
            const modal = document.getElementById('dataBasedQuestionModal');
            const modalTitle = document.getElementById('modalTitle');
            const modalBody = document.getElementById('modalBody');
            
            // 에이전트 이름 매핑
            const agentNames = {
                'agent01': '온보딩',
                'agent02': '시험일정',
                'agent03': '목표분석',
                'agent04': '취약점검사',
                'agent05': '학습감정',
                'agent06': '교사피드백',
                'agent07': '상호작용타게팅',
                'agent08': '침착도',
                'agent09': '학습관리',
                'agent10': '개념노트',
                'agent11': '문제노트',
                'agent12': '휴식루틴',
                'agent13': '학습이탈',
                'agent14': '현재위치',
                'agent15': '문제재정의',
                'agent16': '상호작용준비',
                'agent17': '잔여활동',
                'agent18': '시그너처루틴',
                'agent19': '상호작용컨텐츠',
                'agent20': '개입준비',
                'agent21': '개입실행',
                'agent22': '모듈개선'
            };
            
            modalTitle.textContent = `${agentNames[agentId] || agentId} - 포괄형 질문 ${questionNum} 데이터 기반 질문 세트`;
            
            // 질문 세트 데이터 가져오기
            const questionSet = getDataBasedQuestionSet(agentId, questionNum);
            
            // 모달 본문 생성
            let html = '';
            
            // 질문 세트 섹션
            if (questionSet.questionSets && questionSet.questionSets.length > 0) {
                questionSet.questionSets.forEach((set, idx) => {
                    html += `<div class="question-set-section">`;
                    html += `<div class="question-set-title">${set.title}</div>`;
                    
                    set.questions.forEach((q, qIdx) => {
                        html += `<div class="detailed-question-item">`;
                        html += `<div class="question-label">질문 ${qIdx + 1}</div>`;
                        html += `<div class="question-text">${q.text}</div>`;
                        if (q.dataSources && q.dataSources.length > 0) {
                            html += `<div class="data-sources">`;
                            html += `<strong>필요 데이터:</strong> ${q.dataSources.join(', ')}`;
                            html += `</div>`;
                        }
                        html += `</div>`;
                    });
                    
                    html += `</div>`;
                });
            }
            
            // 온톨로지 요소 섹션
            if (questionSet.ontology && questionSet.ontology.length > 0) {
                html += `<div class="ontology-section">`;
                html += `<h4>📊 룰기반 연계 온톨로지 요소 추천</h4>`;
                questionSet.ontology.forEach(onto => {
                    html += `<div class="ontology-item">`;
                    html += `<div class="ontology-name">${onto.name}</div>`;
                    html += `<div class="ontology-description">${onto.description}</div>`;
                    html += `</div>`;
                });
                html += `</div>`;
            }
            
            // 분석 및 룰기반 자동 동작 섹션
            if (questionSet.analysis) {
                html += `<div class="analysis-section">`;
                html += `<h4>🔍 질문 분석 및 룰기반 자동 동작 가이드</h4>`;
                
                if (questionSet.analysis.questionAnalysis) {
                    html += `<div class="analysis-item">`;
                    html += `<div class="analysis-title">질문 목록 분석</div>`;
                    html += `<div class="analysis-content">${questionSet.analysis.questionAnalysis}</div>`;
                    html += `</div>`;
                }
                
                if (questionSet.analysis.answerAnalysis) {
                    html += `<div class="analysis-item">`;
                    html += `<div class="analysis-title">답변 분석 방법</div>`;
                    html += `<div class="analysis-content">${questionSet.analysis.answerAnalysis}</div>`;
                    html += `</div>`;
                }
                
                if (questionSet.analysis.ruleBasedActions) {
                    html += `<div class="analysis-item">`;
                    html += `<div class="analysis-title">룰기반 자동 동작 필요 사항</div>`;
                    html += `<div class="analysis-content">${questionSet.analysis.ruleBasedActions}</div>`;
                    html += `</div>`;
                }
                
                html += `</div>`;
            }
            
            modalBody.innerHTML = html;
            modal.classList.add('active');
        }
        
        // 데이터 기반 질문 세트 데이터 (각 에이전트별로 정의)
        function getDataBasedQuestionSet(agentId, questionNum) {
            const questionSets = window.dataBasedQuestionSets || {};
            const agentData = questionSets[agentId];
            if (!agentData) {
                return {
                    questionSets: [],
                    ontology: [],
                    analysis: {
                        questionAnalysis: '데이터 기반 질문 세트가 아직 정의되지 않았습니다.',
                        answerAnalysis: '',
                        ruleBasedActions: ''
                    }
                };
            }
            
            return agentData[questionNum] || {
                questionSets: [],
                ontology: agentData.ontology || [],
                analysis: agentData.analysis || {
                    questionAnalysis: '해당 질문에 대한 데이터 기반 질문 세트가 아직 정의되지 않았습니다.',
                    answerAnalysis: '',
                    ruleBasedActions: ''
                }
            };
        }
        
        // 데이터 기반 질문 세트 정의 (21개 에이전트 전체)
        window.dataBasedQuestionSets = {
            // Agent 01: 온보딩
            agent01: {
                1: {
                    questionSets: [
                        {
                            title: '온보딩 정보 기반 질문',
                            questions: [
                                {
                                    text: '학생의 수학 학습 스타일(계산형/개념형/응용형)은 무엇이며, 이에 맞는 첫 수업 도입 전략은?',
                                    dataSources: ['math_learning_style', 'study_style', 'math_level']
                                },
                                {
                                    text: '학생의 개념 진도와 심화 진도 간 격차는 얼마이며, 첫 수업에서 어떤 진도 수준으로 시작해야 하는가?',
                                    dataSources: ['concept_progress', 'advanced_progress', 'math_unit_mastery']
                                },
                                {
                                    text: '학생의 수학 자신감 수준(1-10)과 시험 대비 성향을 고려한 첫 수업 톤과 접근 방식은?',
                                    dataSources: ['math_confidence', 'exam_style', 'emotion_score']
                                },
                                {
                                    text: '학원 정보(학원명, 반 수준, 진도)와 학교 진도를 매칭하여 첫 수업에서 다뤄야 할 단원 범위는?',
                                    dataSources: ['academy_name', 'academy_class_level', 'academy_progress_unit', 'school_textbook_unit']
                                },
                                {
                                    text: '학생의 MBTI와 학습 성향을 반영한 첫 수업 설명 전략(시각/청각/체감)과 자료 유형은?',
                                    dataSources: ['mbti_type', 'learning_preferences', 'study_style']
                                }
                            ]
                        },
                        {
                            title: '학습 환경 및 맥락 기반 질문',
                            questions: [
                                {
                                    text: '학생의 주간 학습 시간과 학습 장소 패턴을 고려한 첫 수업 후 과제 분량과 난이도는?',
                                    dataSources: ['study_hours_per_week', 'study_location_pattern', 'available_time_hours']
                                },
                                {
                                    text: '부모 개입 스타일과 학생의 자율성 선호도를 고려한 첫 수업 피드백 방식은?',
                                    dataSources: ['parent_style', 'study_style', 'math_confidence']
                                },
                                {
                                    text: '학생이 사용 중인 교재(학교 교과서, 학원 교재, 문제집)를 반영한 첫 수업 자료 구성은?',
                                    dataSources: ['textbooks', 'academy_homework_exists', 'content_materials']
                                }
                            ]
                        }
                    ],
                    ontology: [
                        {
                            name: 'StudentProfile',
                            description: '학생 기본 프로필 정보(학년, MBTI, 학습 스타일, 수학 수준)를 구조화하여 온톨로지로 표현'
                        },
                        {
                            name: 'MathLearningContext',
                            description: '수학 학습 맥락(개념/심화 진도, 단원 마스터리, 교재 정보)을 온톨로지로 표현하여 진도 분석에 활용'
                        },
                        {
                            name: 'AcademySchoolAlignment',
                            description: '학원-학교 진도 정렬 관계를 온톨로지로 표현하여 3축 정렬 플랜 생성에 활용'
                        },
                        {
                            name: 'TeachingStrategy',
                            description: '교수 전략(설명 방식, 자료 유형, 피드백 톤)을 온톨로지로 표현하여 맞춤형 전략 추천에 활용'
                        }
                    ],
                    analysis: {
                        questionAnalysis: '이 질문 세트는 첫 수업 설계를 위해 필요한 모든 데이터 포인트를 체계적으로 수집하도록 설계되었습니다. 온보딩 정보, 학습 스타일, 진도 정보, 환경 정보를 종합하여 맞춤형 수업 전략을 도출합니다.',
                        answerAnalysis: '각 질문의 답변은 rules.yaml의 S0, S1 시나리오 룰과 연계하여 자동으로 분석됩니다. 예를 들어, math_learning_style이 "개념형"이면 S2_R2 룰이 트리거되어 개념 강의 우선 전략을 추천합니다.',
                        ruleBasedActions: 'rules.yaml의 S0_R1~S0_R6 룰이 필수 정보 수집을 담당하고, S1_R1~S1_R3 룰이 종합 분석을 수행합니다. 수학 학습 스타일이 수집되면 S0_R1 룰이 트리거되고, 학원 정보가 수집되면 S0_R2 룰이 트리거됩니다. 모든 필수 정보가 수집되면 S0_R6 룰이 종합 검증을 수행합니다.'
                    }
                },
                2: {
                    questionSets: [
                        {
                            title: '목표 및 성향 기반 질문',
                            questions: [
                                {
                                    text: '학생의 단기/중기/장기 목표가 설정되어 있는지, 각 목표의 현실성 점수는?',
                                    dataSources: ['goals.short_term', 'goals.mid_term', 'goals.long_term', 'goal_reality_score']
                                },
                                {
                                    text: '학생의 학습 성향(자율/지도 선호)과 스트레스/자신감 수준을 고려한 커리큘럼 난이도 조정은?',
                                    dataSources: ['study_style', 'math_stress_level', 'math_confidence', 'emotion_score']
                                },
                                {
                                    text: '부모 개입도와 학생의 자율성 선호도 간 균형을 고려한 커리큘럼 관리 방식은?',
                                    dataSources: ['parent_style', 'study_style', 'parent_feedback_frequency']
                                }
                            ]
                        },
                        {
                            title: '진도 및 루틴 최적화 질문',
                            questions: [
                                {
                                    text: '현재 개념/심화 진도를 기준으로 진도별 우선순위와 학습 흐름 설계는?',
                                    dataSources: ['concept_progress', 'advanced_progress', 'math_unit_mastery', 'curriculum_progress_id']
                                },
                                {
                                    text: '학생의 수학 수준과 학습 시간을 고려한 문제 유형 비중(기초/유형/심화/기출) 조절은?',
                                    dataSources: ['math_level', 'study_hours_per_week', 'math_confidence', 'exam_style']
                                },
                                {
                                    text: '학원 진도와 학교 진도를 매칭하여 커리큘럼 일정 최적화는?',
                                    dataSources: ['academy_progress_unit', 'school_textbook_unit', 'exam_schedule', 'academy_schedule']
                                }
                            ]
                        }
                    ],
                    ontology: [
                        {
                            name: 'GoalHierarchy',
                            description: '단기/중기/장기 목표 계층 구조를 온톨로지로 표현하여 목표 연계성 분석에 활용'
                        },
                        {
                            name: 'CurriculumOptimization',
                            description: '커리큘럼 최적화 요소(진도, 난이도, 문제 유형 비중)를 온톨로지로 표현하여 자동 조정에 활용'
                        },
                        {
                            name: 'LearningFlow',
                            description: '학습 흐름(개념→유형→심화→기출)을 온톨로지로 표현하여 루틴 설계에 활용'
                        }
                    ],
                    analysis: {
                        questionAnalysis: '이 질문 세트는 학생의 목표와 성향을 기반으로 커리큘럼과 루틴을 최적화하기 위한 데이터를 수집합니다. 목표 현실성, 학습 성향, 진도 정보를 종합 분석합니다.',
                        answerAnalysis: '목표 정보는 Agent 03과 연계하여 분석되고, 학습 성향은 Agent 01의 온보딩 데이터와 교차 검증됩니다. 진도 정보는 단원 연계성 DB와 매칭되어 최적화 방안이 도출됩니다.',
                        ruleBasedActions: 'rules.yaml의 S2_R1~S2_R5 룰이 학습 성향과 목표를 종합하여 루틴을 추천합니다. 목표가 설정되지 않았으면 Agent 03으로 전달하고, 진도 정보가 부족하면 S3_R1 룰이 트리거됩니다.'
                    }
                },
                3: {
                    questionSets: [
                        {
                            title: '중장기 성장 요소 분석 질문',
                            questions: [
                                {
                                    text: '학생의 경시 준비 목표와 현재 수학 수준 간 격차는 얼마이며, 필요한 학습 시간과 진도는?',
                                    dataSources: ['goals.long_term', 'math_level', 'math_recent_score', 'study_hours_per_week']
                                },
                                {
                                    text: '학생의 진학 목표(특목고, 대학)와 현재 커리큘럼 진도가 일치하는지, 필요한 조정은?',
                                    dataSources: ['admission_goal', 'curriculum_progress_id', 'math_level', 'student_grade']
                                },
                                {
                                    text: '학생의 수학 자존감 성장 패턴과 피로 누적 방지를 위한 루틴 조정 방안은?',
                                    dataSources: ['math_confidence', 'emotion_score', 'fatigue_pattern', 'routine_participation_rate']
                                },
                                {
                                    text: '학생의 루틴 유지율과 저항도 데이터를 기반으로 중장기 루틴 지속성 예측은?',
                                    dataSources: ['routine_participation_rate', 'routine_resistance_score', 'routine_start_resistance']
                                }
                            ]
                        },
                        {
                            title: '리스크 예측 및 트래킹 질문',
                            questions: [
                                {
                                    text: '학생의 학습 이력에서 반복되는 실패 패턴과 조기 리스크 요소는?',
                                    dataSources: ['learning_history', 'failure_patterns', 'procrastination_count', 'recovery_time_avg']
                                },
                                {
                                    text: '학생의 감정 패턴과 피로 누적 지수를 기반으로 한 슬럼프 예측 시점은?',
                                    dataSources: ['emotion_score', 'fatigue_pattern', 'disruption_emotion_data', 'hard_day_recovery_time']
                                },
                                {
                                    text: '학생의 목표 달성률과 회복탄력성 데이터를 기반으로 한 중장기 성장 가능성 평가는?',
                                    dataSources: ['goal_completion_rate', 'recovery_time_avg', 'resilience_score', 'goal_motivation_score']
                                }
                            ]
                        }
                    ],
                    ontology: [
                        {
                            name: 'GrowthTrajectory',
                            description: '학생의 성장 궤적(현재 수준→목표 수준)을 온톨로지로 표현하여 격차 분석에 활용'
                        },
                        {
                        name: 'RiskPrediction',
                            description: '리스크 요소(피로 누적, 루틴 붕괴, 감정 저하)를 온톨로지로 표현하여 조기 예측에 활용'
                        },
                        {
                            name: 'RoutineSustainability',
                            description: '루틴 지속성 요소(유지율, 저항도, 회복력)를 온톨로지로 표현하여 장기 예측에 활용'
                        }
                    ],
                    analysis: {
                        questionAnalysis: '이 질문 세트는 학생의 중장기 성장을 위한 핵심 요소와 리스크를 식별합니다. 목표 달성 가능성, 루틴 지속성, 리스크 예측을 종합 분석합니다.',
                        answerAnalysis: '경시 준비 목표는 Agent 03의 목표 분석과 연계되고, 진학 목표는 커리큘럼 정합성 분석과 연계됩니다. 루틴 유지율은 Agent 18과 연계하여 분석됩니다.',
                        ruleBasedActions: 'rules.yaml의 S5_R1~S5_R4 룰이 장기 목표와 현재 성향을 연결 분석합니다. 리스크 요소가 감지되면 Agent 13(학습이탈)과 Agent 12(휴식루틴)에 알림이 전달됩니다.'
                    }
                },
                ontology: [
                    {
                        name: 'StudentProfile',
                        description: '학생 기본 프로필 정보를 온톨로지로 표현'
                    },
                    {
                        name: 'MathLearningContext',
                        description: '수학 학습 맥락을 온톨로지로 표현'
                    }
                ],
                analysis: {
                    questionAnalysis: 'Agent 01은 학생의 초기 프로필 수집과 맞춤형 학습 계획 수립을 담당합니다.',
                    answerAnalysis: '온보딩 데이터는 다른 모든 에이전트의 기초 데이터로 활용됩니다.',
                    ruleBasedActions: 'S0 시나리오 룰이 필수 정보 수집을 담당하고, S1~S5 시나리오가 각 상황별 분석을 수행합니다.'
                }
            },
            // Agent 02: 시험일정
            agent02: {
                1: {
                    questionSets: [
                        {
                            title: '학원-학교-집 3축 정렬 질문',
                            questions: [
                                {
                                    text: '학원 진도와 학교 시험 범위 간 격차는 얼마이며, 어떤 단원이 겹치거나 누락되었는가?',
                                    dataSources: ['academy_progress_unit', 'school_exam_scope', 'exam_scope_details', 'academy_schedule']
                                },
                                {
                                    text: '학원 과제 소요 시간과 집 공부 루틴의 가용 시간을 비교하여 시간 부족 구간은?',
                                    dataSources: ['academy_homework_exists', 'homework_time_estimate', 'available_time_hours', 'study_hours_per_week']
                                },
                                {
                                    text: '시험 D-day별 시간 자원과 필요한 학습량을 매칭하여 시간 배분 최적화는?',
                                    dataSources: ['d_day', 'exam_weeks_remaining', 'exam_scope_details', 'available_time_hours']
                                },
                                {
                                    text: '학원 교재와 학교 교과서, 집에서 사용하는 문제집 간 중복 구간과 보완 구간은?',
                                    dataSources: ['textbooks', 'academy_homework_exists', 'content_materials', 'exam_scope_details']
                                }
                            ]
                        }
                    ],
                    ontology: [
                        {
                            name: 'ThreeAxisAlignment',
                            description: '학원-학교-집 3축 학습 정렬 관계를 온톨로지로 표현하여 진도 격차 분석에 활용'
                        },
                        {
                            name: 'TimeResourceAllocation',
                            description: '시간 자원 배분(학원/학교/집)을 온톨로지로 표현하여 최적화에 활용'
                        }
                    ],
                    analysis: {
                        questionAnalysis: '이 질문 세트는 학원, 학교, 집 학습의 정렬 상태를 분석하여 3축 정렬 플랜을 수립합니다.',
                        answerAnalysis: '진도 격차 데이터는 단원 연계성 DB와 매칭되어 우선순위가 결정됩니다. 시간 자원 데이터는 Agent 17과 연계됩니다.',
                        ruleBasedActions: 'rules.yaml의 S0_R9~S0_R10 룰이 학원 정보를 수집하고, S1_R1~S1_R3 룰이 3축 정렬 분석을 수행합니다.'
                    }
                },
                2: {
                    questionSets: [
                        {
                            title: '시험 8주 루프 전략 질문',
                            questions: [
                                {
                                    text: '학생의 목표 점수와 현재 점수 간 격차를 고려한 단원별 우선순위(시간 대비 효율)는?',
                                    dataSources: ['target_score', 'math_recent_score', 'unit_correct_rate', 'exam_unit_weight']
                                },
                                {
                                    text: '단원별 정답률과 출제 비중을 종합하여 개념:유형:심화:기출 비율 재조정은?',
                                    dataSources: ['unit_correct_rate', 'exam_unit_weight', 'concept_progress', 'advanced_progress']
                                },
                                {
                                    text: '학원 교재별(쎈/RPM/블랙라벨) 활용 전략과 시험 대비 효율성은?',
                                    dataSources: ['textbooks', 'academy_homework_exists', 'content_usage_pattern', 'exam_unit_weight']
                                },
                                {
                                    text: '시험 8주 루프에서 단기(1-2주)와 중기(3-8주) 루틴 배치 전략은?',
                                    dataSources: ['exam_weeks_remaining', 'd_day', 'available_time_hours', 'study_hours_per_week']
                                }
                            ]
                        }
                    ],
                    ontology: [
                        {
                            name: 'ExamPrepStrategy',
                            description: '시험 대비 전략(단원 우선순위, 학습 비율, 교재 활용)을 온톨로지로 표현'
                        },
                        {
                            name: 'TimeEfficiencyOptimization',
                            description: '시간 대비 효율 최적화 요소를 온톨로지로 표현하여 전략 수립에 활용'
                        }
                    ],
                    analysis: {
                        questionAnalysis: '이 질문 세트는 시험 8주 루프 내에서 점수 상승 잠재력을 극대화하기 위한 전략을 수립합니다.',
                        answerAnalysis: '단원별 정답률과 출제 비중 데이터는 계산적으로 분석되어 우선순위가 결정됩니다. 교재별 활용 전략은 교재 특성 DB와 매칭됩니다.',
                        ruleBasedActions: 'rules.yaml의 S8_R1~S8_R4 룰이 시험 8주 전 모드 진입 시 효율성 최적화를 수행합니다. R20a, R20b 룰이 출제 비중 기반 목표 가중치를 조정합니다.'
                    }
                },
                3: {
                    questionSets: [
                        {
                            title: '시험 후 개선 패턴 분석 질문',
                            questions: [
                                {
                                    text: '학원 등수와 학교 성적을 비교하여 학원 교재 효과 지표(문제 커버리지 vs 시험 적중률)는?',
                                    dataSources: ['academy_rank', 'school_exam_result', 'academy_homework_exists', 'exam_unit_weight']
                                },
                                {
                                    text: '문항 유형별 성공률을 분석하여 계산 실수 vs 개념 오류 비율은?',
                                    dataSources: ['question_type_success_rate', 'error_pattern', 'unit_correct_rate']
                                },
                                {
                                    text: '학습 루틴 유지율 변동과 시험 성적 간 상관관계는?',
                                    dataSources: ['routine_participation_rate', 'exam_result', 'study_hours_per_week']
                                },
                                {
                                    text: '학부모·학원 피드백 반영률과 다음 시험 루프 초기화 전략은?',
                                    dataSources: ['parent_feedback_frequency', 'academy_feedback', 'teacher_feedback_mismatch_count']
                                }
                            ]
                        }
                    ],
                    ontology: [
                        {
                            name: 'PerformanceAnalysis',
                            description: '성적 분석(등수, 점수, 유형별 성공률)을 온톨로지로 표현하여 개선점 도출에 활용'
                        },
                        {
                            name: 'FeedbackIntegration',
                            description: '피드백 통합(학부모/학원/교사)을 온톨로지로 표현하여 다음 루프 개선에 활용'
                        }
                    ],
                    analysis: {
                        questionAnalysis: '이 질문 세트는 시험 후 데이터를 종합하여 다음 시험 주기의 개선 전략을 수립합니다.',
                        answerAnalysis: '학원 등수와 학교 성적 비교는 Agent 14와 연계되고, 오류 패턴 분석은 Agent 04와 연계됩니다.',
                        ruleBasedActions: 'rules.yaml의 S0_R7 룰이 시험 후 종합 분석을 수행하고, 다음 시험 루프 초기화 전략을 생성합니다.'
                    }
                }
            },
            // Agent 03: 목표분석 (상세 작성)
            agent03: {
                1: {
                    questionSets: [
                        {
                            title: '목표-계획 연계성 분석 질문',
                            questions: [
                                {
                                    text: '분기 목표와 주간 목표 간 연결성이 있는지, 주간 달성률이 70% 미만인 경우 불일치 원인은?',
                                    dataSources: ['quarterly_goal_id', 'weekly_goal_id', 'weekly_completion_rate', 'goal_plan_mismatch_diagnosis']
                                },
                                {
                                    text: '일정 변동률이 30% 초과인 경우, 계획 수립 시 시험 일정이나 컨디션 같은 변수가 반영되었는가?',
                                    dataSources: ['schedule_variability', 'exam_schedule_reflected', 'school_schedule_reflected', 'planning_variable_reflection']
                                },
                                {
                                    text: '실행 데이터에서 흐름이 끊긴 지점은 어디이며, 목표 수정 vs 계획 방식 변경 중 어떤 조정이 필요한가?',
                                    dataSources: ['execution_breakpoints', 'weekly_completion_rate', 'goal_reality_score', 'planning_method_score']
                                },
                                {
                                    text: '분기 목표가 장기 커리큘럼과 연계되어 있는지, 학년별/분기별 상황이 반영되었는가?',
                                    dataSources: ['quarterly_goal_id', 'long_term_goal_id', 'curriculum_progress_id', 'student_grade']
                                }
                            ]
                        },
                        {
                            title: '회복탄력성 및 시간 관리 질문',
                            questions: [
                                {
                                    text: '시간 부족 로그가 3회 이상인 경우, 시간 압박 요인(학교, 피로, 계획 오류) 분석은?',
                                    dataSources: ['time_shortage_logs', 'time_pressure_factor', 'schedule_pressure_forecast', 'available_time_hours']
                                },
                                {
                                    text: '일정이 흐트러졌을 때 복귀 시간이 3일 초과인 경우, 감정 반응(좌절/무관심/의욕)과 회복 지원 요소는?',
                                    dataSources: ['recovery_time_avg', 'disruption_emotion_data', 'recovery_support_used', 'buffer_time_available']
                                },
                                {
                                    text: '목표 개수가 8개 이상이고 집중력이 저하된 경우, 목표 과부하 vs 집중력 저하 중 어느 것이 원인인가?',
                                    dataSources: ['goal_count', 'focus_score', 'procrastination_count', 'pomodoro_completion_rate']
                                }
                            ]
                        }
                    ],
                    ontology: [
                        {
                            name: 'GoalPlanAlignment',
                            description: '목표-계획 정렬 관계를 온톨로지로 표현하여 불일치 감지에 활용 (Agent 03 핵심 온톨로지)'
                        },
                        {
                            name: 'TimeResourceManagement',
                            description: '시간 자원 관리(가용 시간, 압박 요인, 회복 시간)를 온톨로지로 표현하여 시간 관리 최적화에 활용'
                        },
                        {
                            name: 'ResiliencePattern',
                            description: '회복탄력성 패턴(복귀 시간, 감정 반응, 회복 지원)을 온톨로지로 표현하여 회복 전략 수립에 활용'
                        },
                        {
                            name: 'GoalHierarchy',
                            description: '목표 계층 구조(분기/주간/오늘)를 온톨로지로 표현하여 목표 연계성 분석에 활용'
                        }
                    ],
                    analysis: {
                        questionAnalysis: '이 질문 세트는 목표와 계획의 연계성, 회복탄력성, 시간 관리를 종합 분석합니다. rules.yaml의 S1~S4 시나리오와 직접 연계됩니다.',
                        answerAnalysis: '주간 달성률이 70% 미만이면 R1a 룰이 트리거되어 목표-계획 불일치를 진단합니다. 일정 변동률이 30% 초과면 R1b 룰이 트리거됩니다. 시간 부족 로그가 3회 이상이면 R2a 룰이 근본 원인을 분석합니다.',
                        ruleBasedActions: 'rules.yaml의 R1a~R1d 룰이 목표-계획 불일치를 감지하고, R2a~R2d 룰이 시간 부족 딜레마를 분석하며, R3a~R3d 룰이 회복탄력성을 평가합니다. R9a~R9e 룰이 분기/주간 목표의 종합 분석을 수행합니다.'
                    }
                },
                2: {
                    questionSets: [
                        {
                            title: '커리큘럼-목표 궤도 정합성 질문',
                            questions: [
                                {
                                    text: '분기 목표와 장기 커리큘럼 간 진도 편차가 20% 초과인 경우, 불일치 지점과 조정 방안은?',
                                    dataSources: ['curriculum_progress_deviation', 'quarterly_goal_id', 'long_term_curriculum_trend', 'curriculum_pace_score']
                                },
                                {
                                    text: '최근 시험 결과가 커리큘럼 조정에 영향을 줬는지, 진학 목표 대비 커리큘럼 속도/깊이는 적절한가?',
                                    dataSources: ['recent_exam_result', 'admission_goal', 'curriculum_pace_score', 'curriculum_progress_id']
                                },
                                {
                                    text: '전국 규모 경쟁 커리큘럼과 비교했을 때 보완해야 할 영역은 무엇인가?',
                                    dataSources: ['competitive_curriculum_data', 'curriculum_progress_deviation', 'curriculum_progress_id']
                                }
                            ]
                        }
                    ],
                    ontology: [
                        {
                            name: 'CurriculumGoalAlignment',
                            description: '커리큘럼-목표 정렬 관계를 온톨로지로 표현하여 궤도 일치도 분석에 활용'
                        },
                        {
                            name: 'CompetitiveCurriculum',
                            description: '경쟁 커리큘럼 비교 데이터를 온톨로지로 표현하여 보완 영역 도출에 활용'
                        }
                    ],
                    analysis: {
                        questionAnalysis: '이 질문 세트는 학습 궤도가 장기 커리큘럼과 목표 궤적 위에 안정적으로 놓여 있는지 분석합니다.',
                        answerAnalysis: '커리큘럼 진도 편차는 R6a 룰이 분석하고, 시험 결과 영향은 R6b 룰이 평가합니다. 진학 목표 대비 적절성은 R6c 룰이 검증합니다.',
                        ruleBasedActions: 'rules.yaml의 R6a~R6d 룰이 커리큘럼-목표 불일치를 감지하고, R14a~R14c 룰이 장기 커리큘럼 흐름을 분석합니다.'
                    }
                },
                3: {
                    questionSets: [
                        {
                            title: '목표 설계 구조 회복력 질문',
                            questions: [
                                {
                                    text: '목표 설계의 단계성과 탄력성이 있는지, 일정 변화 대응 전략이 준비되어 있는가?',
                                    dataSources: ['goal_quality_score', 'schedule_variability', 'recovery_time_avg', 'buffer_time_allocation']
                                },
                                {
                                    text: '감정 기반 회복 패턴과 교사 피드백 반영률을 고려한 목표 시스템의 회복 가능성은?',
                                    dataSources: ['disruption_emotion_data', 'recovery_support_used', 'teacher_feedback_mismatch_count', 'goal_motivation_score']
                                },
                                {
                                    text: '분기 목표가 학습 동력으로 연결되는지, 부담감만 발생시키는 구조는 아닌가?',
                                    dataSources: ['quarterly_goal_id', 'goal_motivation_score', 'goal_completion_rate', 'emotion_score']
                                }
                            ]
                        }
                    ],
                    ontology: [
                        {
                            name: 'GoalResilienceStructure',
                            description: '목표 설계의 회복력 구조(단계성, 탄력성, 대응 전략)를 온톨로지로 표현하여 회복 가능성 평가에 활용'
                        },
                        {
                            name: 'GoalMotivationConnection',
                            description: '목표-동력 연결 관계를 온톨로지로 표현하여 학습 동력 생성 여부 평가에 활용'
                        }
                    ],
                    analysis: {
                        questionAnalysis: '이 질문 세트는 목표 설계 구조가 변동 상황에서도 회복 가능하고 교사 노하우가 반영된 형태인지 평가합니다.',
                        answerAnalysis: '목표 품질 점수는 R15a 룰이 분석하고, 회복 패턴은 R3a~R3d 룰이 평가합니다. 목표-동력 연결은 R9e 룰이 분석합니다.',
                        ruleBasedActions: 'rules.yaml의 R15a~R15e 룰이 목표 품질을 종합 분석하고, R9e 룰이 목표-동력 연결을 평가합니다.'
                    }
                }
            },
            // Agent 18: 시그너처루틴 (상세 작성)
            agent18: {
                1: {
                    questionSets: [
                        {
                            title: '몰입 패턴 및 심리 트리거 분석 질문',
                            questions: [
                                {
                                    text: '온보딩 데이터와 최신 선호동 정보를 결합하여, 학생이 몰입에 진입하는 심리 트리거(감정·환경·행동요소)는 무엇인가?',
                                    dataSources: ['math_learning_style', 'study_style', 'emotion_logs', 'preference_data', 'immersion_entry_points']
                                },
                                {
                                    text: '개념 학습, 유형 연습, 심화 학습 각 단계에서 몰입이 상승하는 패턴과 순서는?',
                                    dataSources: ['concept_learning_immersion_pattern', 'type_practice_immersion_pattern', 'advanced_learning_immersion_pattern', 'math_learning_stage_routines']
                                },
                                {
                                    text: '시간대별로 어떤 학습 단계에서 몰입도가 가장 높은가? (예: 오후 2-4시 개념 학습, 저녁 7-9시 유형 연습)',
                                    dataSources: ['time_performance_by_stage', 'time_performance_logs', 'immersion_level_by_time']
                                },
                                {
                                    text: '학원 수업 전후 루틴(예습/복습)에서 몰입 패턴이 어떻게 나타나는가?',
                                    dataSources: ['academy_prep_review_routines', 'academy_prep_effectiveness', 'academy_review_effectiveness', 'academy_prep_logs', 'academy_review_logs']
                                },
                                {
                                    text: '단원별 난이도와 몰입도 간의 상관관계는? (어려운 단원일수록 더 세밀한 루틴이 필요한가?)',
                                    dataSources: ['unit_difficulty_info', 'unit_difficulty_immersion_correlation', 'unit_immersion_logs']
                                },
                                {
                                    text: '취약 단원에서 특화 루틴의 효과성은? (확인 문제 빈도 증가로 이해도 향상 정도)',
                                    dataSources: ['weak_units', 'weak_unit_routine_effectiveness', 'weak_unit_routine_logs']
                                },
                                {
                                    text: '감정-행동-결과 간의 상관관계에서 각 학습 단계별로 작동하는 핵심 심리요인은?',
                                    dataSources: ['emotion_behavior_result_by_stage', 'emotion_behavior_result_correlation', 'emotion_logs', 'behavior_logs', 'result_logs']
                                }
                            ]
                        },
                        {
                            title: '시그너처 루틴 구조 설계 질문',
                            questions: [
                                {
                                    text: '시작 루틴–집중 루틴–회복 루틴 구조로 정리된 시그너처 루틴 초안의 각 단계별 구성 요소는?',
                                    dataSources: ['routine_start_conditions', 'routine_focus_elements', 'routine_recovery_elements', 'signature_routine_discovery_flag']
                                },
                                {
                                    text: '수학 학습 스타일(계산형/개념형/응용형)별로 어떤 루틴이 가장 효과적인가?',
                                    dataSources: ['math_learning_style', 'math_learning_style_routine_effectiveness', 'routine_effectiveness_data']
                                },
                                {
                                    text: '세션 길이별로 어떤 학습 단계가 가장 효과적인가? (예: 25분 개념 학습, 45분 유형 연습)',
                                    dataSources: ['session_length_by_stage', 'session_length_logs', 'math_learning_stage_routines']
                                },
                                {
                                    text: '학원-학교-집 학습을 통합한 루틴 효과성은? (학원 수업 전 예습 + 학원 수업 + 학원 수업 후 복습 통합 루틴)',
                                    dataSources: ['academy_context_integration', 'academy_info', 'academy_prep_review_routines', 'routine_effectiveness_data']
                                }
                            ]
                        }
                    ],
                    ontology: [
                        {
                            name: 'ImmersionPattern',
                            description: '몰입 패턴(개념/유형/심화 단계별 몰입 진입 조건)을 온톨로지로 표현하여 시그너처 루틴 발견에 활용 (Agent 18 핵심 온톨로지)'
                        },
                        {
                            name: 'PsychologicalTrigger',
                            description: '심리 트리거(감정·환경·행동요소)를 온톨로지로 표현하여 몰입 진입 조건 분석에 활용'
                        },
                        {
                            name: 'LearningStageRoutine',
                            description: '학습 단계별 루틴(개념/유형/심화)을 온톨로지로 표현하여 단계별 최적 루틴 설계에 활용'
                        },
                        {
                            name: 'TimeStageMapping',
                            description: '시간대-학습 단계 매핑을 온톨로지로 표현하여 시간대별 루틴 최적화에 활용'
                        },
                        {
                            name: 'AcademyRoutineIntegration',
                            description: '학원 수업 전후 루틴 통합을 온톨로지로 표현하여 학원 시스템 특화 루틴 설계에 활용'
                        },
                        {
                            name: 'UnitDifficultyRoutineMapping',
                            description: '단원별 난이도-루틴 매핑을 온톨로지로 표현하여 난이도 기반 루틴 조정에 활용'
                        }
                    ],
                    analysis: {
                        questionAnalysis: '이 질문 세트는 몰입 패턴과 감정 리듬을 종합하여 자연스러운 몰입 조건을 찾는 데 필요한 데이터를 체계적으로 수집합니다. rules.yaml의 S0(정보 수집)과 S1(Drilling 분석) 룰과 직접 연계됩니다.',
                        answerAnalysis: '온보딩 데이터와 선호동 정보가 수집되면 S0_R5, S0_R6 룰이 트리거됩니다. 몰입 패턴 분석은 S1_R1~S1_R3 룰이 수행하고, 시간대별 성과는 S1_R8 룰이 분석합니다. 학원 맥락 통합은 S1_R12 룰이 처리합니다.',
                        ruleBasedActions: 'rules.yaml의 S0_R1~S0_R8 룰이 필수 정보 수집을 담당하고, S1_R1~S1_R12 룰이 Drilling 분석을 수행합니다. 몰입 패턴이 분석되면 S2_R1~S2_R10 룰이 심리요인을 도출하고, S3_R1~S3_R10 룰이 시그너처 루틴을 제안합니다.'
                    }
                },
                2: {
                    questionSets: [
                        {
                            title: '루틴 유지 및 강화 요소 분석 질문',
                            questions: [
                                {
                                    text: '학습 중 감정곡선, 몰입 지속시간, 강화 피드백 반응 패턴을 기반으로 루틴 유지 요인(강화 자극·시간대·감정톤)은 무엇인가?',
                                    dataSources: ['emotion_curve_during_learning', 'immersion_duration', 'reinforcement_feedback_response', 'routine_maintenance_factors']
                                },
                                {
                                    text: '각 학습 단계별로 작동하는 핵심 심리요인(성취감 중심형, 탐구형, 도전형 등)은 무엇이며, 이를 어떻게 강화할 수 있는가?',
                                    dataSources: ['concept_learning_psychological_factor', 'type_practice_psychological_factor', 'advanced_learning_psychological_factor', 'integrated_psychological_factor']
                                },
                                {
                                    text: '시간대별로 작동하는 심리요인의 차이는? (예: 오후 - 집중력 중심, 저녁 - 성취감 중심)',
                                    dataSources: ['time_based_psychological_factor_difference', 'time_performance_by_stage', 'emotion_logs']
                                },
                                {
                                    text: '감정-행동-결과 간의 상관관계에서 루프를 형성하는 핵심 심리요인은? (예: 성취감 → 필기 강화 → 이해도 상승 루프)',
                                    dataSources: ['emotion_behavior_result_psychological_factor', 'emotion_behavior_result_correlation']
                                },
                                {
                                    text: '단원별 난이도에 따라 심리요인을 어떻게 조정해야 하는가? (예: 어려운 단원 - 확인 문제로 성취감 강화)',
                                    dataSources: ['unit_difficulty_based_psychological_adjustment', 'unit_difficulty_immersion_correlation', 'unit_difficulty_info']
                                },
                                {
                                    text: '취약 단원에서 작동하는 특화 심리요인은? (예: 회복형 - 작은 성공 경험으로 자신감 회복)',
                                    dataSources: ['weak_unit_psychological_specialization', 'weak_units', 'weak_unit_routine_effectiveness']
                                },
                                {
                                    text: '수학 학습 스타일별로 작동하는 심리요인은? (예: 계산형 - 정확성 확인 시 성취감, 개념형 - 이해 확인 시 만족감)',
                                    dataSources: ['math_learning_style_psychological_mapping', 'math_learning_style', 'math_learning_style_routine_effectiveness']
                                }
                            ]
                        },
                        {
                            title: '보상 루프 및 회복 전략 질문',
                            questions: [
                                {
                                    text: '루틴이 무너질 때 빠르게 회복할 수 있는 보상 루프 설계는? (강화 포인트 식별 및 피드백 전략)',
                                    dataSources: ['routine_reinforcement_points', 'routine_breakdown_recovery_strategy', 'reinforcement_loop_design']
                                },
                                {
                                    text: '루틴 효과성이 70% 이상인 경우 강화 포인트는 어디인가? (효과성 70% 이상 시 강화)',
                                    dataSources: ['routine_effectiveness_data', 'routine_reinforcement_point_identification', 'high_effectiveness_elements']
                                },
                                {
                                    text: '루틴 실행 후 효과성 측정 결과(몰입도, 성취감, 성과 개선 정도)를 기반으로 한 강화 전략은?',
                                    dataSources: ['routine_effectiveness_measurement', 'immersion_level', 'achievement_feeling', 'performance_improvement']
                                },
                                {
                                    text: '학원 수업 전후에서 작동하는 핵심 심리요인은? (예: 의미형 - 학원 수업 이해로 인한 자신감)',
                                    dataSources: ['academy_prep_review_psychological_factor', 'academy_prep_effectiveness', 'academy_review_effectiveness']
                                }
                            ]
                        }
                    ],
                    ontology: [
                        {
                            name: 'RoutineMaintenanceFactor',
                            description: '루틴 유지 요인(강화 자극·시간대·감정톤)을 온톨로지로 표현하여 루틴 안정화에 활용 (Agent 18 핵심 온톨로지)'
                        },
                        {
                            name: 'PsychologicalFactorByStage',
                            description: '학습 단계별 심리요인(성취감/탐구/도전형)을 온톨로지로 표현하여 단계별 강화 전략 수립에 활용'
                        },
                        {
                            name: 'ReinforcementLoop',
                            description: '보상 루프(감정-행동-결과 연결)를 온톨로지로 표현하여 루틴 회복 전략 설계에 활용'
                        },
                        {
                            name: 'TimeBasedPsychologicalFactor',
                            description: '시간대별 심리요인 차이를 온톨로지로 표현하여 시간대-루틴 매칭에 활용'
                        },
                        {
                            name: 'UnitDifficultyPsychologicalAdjustment',
                            description: '단원별 난이도 기반 심리요인 조정을 온톨로지로 표현하여 난이도별 맞춤형 강화에 활용'
                        },
                        {
                            name: 'RoutineEffectivenessMeasurement',
                            description: '루틴 효과성 측정(몰입도/성취감/성과)을 온톨로지로 표현하여 강화 포인트 식별에 활용'
                        }
                    ],
                    analysis: {
                        questionAnalysis: '이 질문 세트는 시그너처 루틴을 안정적으로 유지·강화하기 위한 감정적 강화 요소와 상호작용 방식을 분석합니다. rules.yaml의 S2(심리요인 도출)와 S4(정교화) 룰과 직접 연계됩니다.',
                        answerAnalysis: '심리요인 도출은 S2_R1~S2_R10 룰이 수행합니다. 루틴 효과성 측정은 S4_R2 룰이 담당하고, 강화 포인트 식별은 S4_R4 룰이 처리합니다. 루틴 조정은 S4_R3 룰이 수행합니다.',
                        ruleBasedActions: 'rules.yaml의 S2_R1~S2_R10 룰이 각 학습 단계별 심리요인을 도출하고, S4_R1~S4_R5 룰이 루틴 실행 가능성 검증, 효과성 측정, 조정 및 강화를 수행합니다. 루틴 효과성이 85% 이상이고 5회 이상 실행되면 S4_R5 룰이 시그너처 루틴으로 고정합니다.'
                    }
                },
                3: {
                    questionSets: [
                        {
                            title: '루틴 진화 경로 분석 질문',
                            questions: [
                                {
                                    text: '루틴 반복 안정성, 감정 진폭, 인지 부하 패턴을 종합 분석하여 성취형→탐구형→의미형 루틴으로 이어지는 진화 경로는?',
                                    dataSources: ['routine_repetition_stability', 'emotion_amplitude', 'cognitive_load_pattern', 'routine_evolution_path']
                                },
                                {
                                    text: '통합 심리요인을 기반으로 한 통합 시그너처 루틴의 진화 방향은? (예: 성취감 중심형 - 모든 단계에서 작은 성공 경험이 동기)',
                                    dataSources: ['integrated_psychological_factor', 'integrated_signature_routine', 'routine_evolution_direction']
                                },
                                {
                                    text: '각 진화 단계(성취형→탐구형→의미형)에서 필요한 정서·인지적 보정 포인트는?',
                                    dataSources: ['achievement_type_routine', 'exploration_type_routine', 'meaning_type_routine', 'emotional_cognitive_adjustment_points']
                                },
                                {
                                    text: '루틴 효과성이 낮은 경우(70% 미만) 루틴을 어떻게 조정하고 개선해야 하는가?',
                                    dataSources: ['routine_effectiveness_data', 'routine_adjustment_and_improvement', 'routine_weak_points']
                                },
                                {
                                    text: '루틴 고정 및 모니터링 조건(효과성 85% 이상, 5회 이상 실행)을 만족한 경우 장기 진화 전략은?',
                                    dataSources: ['routine_effectiveness_data', 'routine_execution_count', 'routine_fixation_and_monitoring', 'long_term_evolution_strategy']
                                },
                                {
                                    text: '학원 맥락 통합 루틴의 장기 진화 방향은? (학원-학교-집 학습 통합 루틴의 지속적 개선)',
                                    dataSources: ['academy_context_integration', 'academy_school_home_routine', 'integrated_routine_evolution']
                                },
                                {
                                    text: '단원별 난이도 기반 루틴 조정이 장기적으로 어떻게 진화해야 하는가? (난이도별 맞춤형 루틴의 지속적 정교화)',
                                    dataSources: ['unit_difficulty_based_routine_adjustment', 'routine_by_unit_difficulty', 'unit_difficulty_routine_evolution']
                                }
                            ]
                        },
                        {
                            title: '장기 성장 및 루틴 정교화 질문',
                            questions: [
                                {
                                    text: '수학 학습 스타일별 루틴의 장기 진화 방향은? (계산형/개념형/응용형별 루틴의 지속적 개선)',
                                    dataSources: ['math_learning_style_based_routine_proposal', 'math_learning_style', 'math_learning_style_routine_evolution']
                                },
                                {
                                    text: '시간대별 루틴의 장기 진화 전략은? (시간대-단계 매칭 루틴의 지속적 최적화)',
                                    dataSources: ['time_based_routine_proposal', 'time_based_routine', 'time_based_routine_evolution']
                                },
                                {
                                    text: '취약 단원 특화 루틴이 장기적으로 어떻게 진화해야 하는가? (취약 단원 극복을 위한 루틴의 지속적 정교화)',
                                    dataSources: ['weak_unit_specialized_routine_proposal', 'weak_unit_specialized_routine', 'weak_unit_routine_evolution']
                                },
                                {
                                    text: '루틴 실행 가능성 검증 결과를 기반으로 한 장기 개선 방향은? (시간 배분, 난이도, 학생 수용성 지속적 최적화)',
                                    dataSources: ['routine_feasibility_verification', 'routine_feasibility_data', 'routine_feasibility_improvement']
                                }
                            ]
                        }
                    ],
                    ontology: [
                        {
                            name: 'RoutineEvolutionPath',
                            description: '루틴 진화 경로(성취형→탐구형→의미형)를 온톨로지로 표현하여 장기 성장 전략 수립에 활용 (Agent 18 핵심 온톨로지)'
                        },
                        {
                            name: 'RoutineStabilityPattern',
                            description: '루틴 반복 안정성, 감정 진폭, 인지 부하 패턴을 온톨로지로 표현하여 진화 방향 결정에 활용'
                        },
                        {
                            name: 'EmotionalCognitiveAdjustment',
                            description: '정서·인지적 보정 포인트를 온톨로지로 표현하여 각 진화 단계별 보정 전략 수립에 활용'
                        },
                        {
                            name: 'LongTermRoutineOptimization',
                            description: '장기 루틴 최적화(효과성 측정, 조정, 개선)를 온톨로지로 표현하여 지속적 정교화에 활용'
                        },
                        {
                            name: 'IntegratedRoutineEvolution',
                            description: '통합 시그너처 루틴의 진화 방향을 온톨로지로 표현하여 개인 최적 학습 루틴의 지속적 개선에 활용'
                        },
                        {
                            name: 'RoutineFixationAndMonitoring',
                            description: '루틴 고정 및 모니터링(효과성 85% 이상, 5회 이상 실행)을 온톨로지로 표현하여 시그너처 루틴 완성도 추적에 활용'
                        }
                    ],
                    analysis: {
                        questionAnalysis: '이 질문 세트는 장기적으로 몰입을 지속하며 성장하기 위한 시그너처 루틴의 진화 경로를 분석합니다. rules.yaml의 S3(루틴 제안)과 S4(정교화) 룰과 직접 연계됩니다.',
                        answerAnalysis: '루틴 진화 경로는 S3_R10 룰이 통합 시그너처 루틴을 제안할 때 고려됩니다. 루틴 조정 및 개선은 S4_R3 룰이 수행하고, 루틴 고정 및 모니터링은 S4_R5 룰이 처리합니다. 장기 진화는 S4_R1~S4_R5 룰의 반복 실행을 통해 이루어집니다.',
                        ruleBasedActions: 'rules.yaml의 S3_R1~S3_R10 룰이 각 학습 단계별, 맥락별 시그너처 루틴을 제안하고, S4_R1~S4_R5 룰이 루틴 실행 가능성 검증, 효과성 측정, 조정 및 강화, 고정 및 모니터링을 수행합니다. 루틴 효과성이 85% 이상이고 5회 이상 실행되면 S4_R5 룰이 시그너처 루틴으로 고정하고, 이후 지속적인 모니터링을 통해 진화 경로를 추적합니다.'
                    }
                }
            },
            // Agent 04: 취약점검사 (8가지 활동 영역)
            // 상세 질문 세트는 data_based_questions.js 파일에 정의되어 있습니다.
            // 각 활동 영역(①~⑧)마다 3개의 포괄형 질문(A, B, C)에 대응하는 질문 세트가 있습니다.
            // ontology는 각 활동 영역별로 data_based_questions.js에 정의되어 있습니다.
            // Agent 05: 학습감정 (상세 작성)
            agent05: {
                1: {
                    questionSets: [
                        {
                            title: '감정 흐름 패턴 분석 질문',
                            questions: [
                                {
                                    text: '개념이해 직후 집중 흐름이 일정하지 않을 때, 이해 수준과 감정 몰입도를 어떻게 파악할 수 있는가?',
                                    dataSources: ['activity_type', 'activity_status', 'focus_stability', 'concept_survey_response', 'emotion_state']
                                },
                                {
                                    text: '유형학습 중 흥미 손실 또는 과몰입 상태일 때, 동기 수준과 좌절감을 어떻게 식별하는가?',
                                    dataSources: ['activity_type', 'interest_level', 'engagement_state', 'type_survey_response', 'emotion_state']
                                },
                                {
                                    text: '문제풀이 도중 멈춤 시간이 30초 이상이고 3회 이상 발생할 때, 불안/혼란/확신부족 원인을 어떻게 구분하는가?',
                                    dataSources: ['activity_type', 'pause_duration', 'pause_count', 'problem_survey_response', 'emotion_state']
                                },
                                {
                                    text: '오답노트 작성 전후 학습 피로감과 성취감의 균형을 어떻게 진단하는가?',
                                    dataSources: ['activity_type', 'activity_status', 'facial_expression', 'error_survey_response', 'emotion_state']
                                },
                                {
                                    text: '질의응답 시점에서 질문 망설임/자신감 및 정서유형을 어떻게 탐색하는가?',
                                    dataSources: ['activity_type', 'question_hesitation_time', 'eye_contact_pattern', 'qa_survey_response', 'emotion_state']
                                },
                                {
                                    text: '복습 루틴 진입 전 부담감과 저항감 감정을 어떻게 탐지하는가?',
                                    dataSources: ['activity_type', 'activity_status', 'hesitation_gesture', 'review_survey_response', 'emotion_state']
                                },
                                {
                                    text: '포모도르 종료 직후 몰입도-피로도의 균형을 어떻게 확인하는가?',
                                    dataSources: ['activity_type', 'activity_status', 'movement_speed', 'pomodoro_survey_response', 'emotion_state']
                                },
                                {
                                    text: '귀가검사 직전 하루 학습의 정서 마무리 상태를 어떻게 파악하는가?',
                                    dataSources: ['activity_type', 'activity_status', 'concentration_level', 'emotional_weight', 'home_check_survey_response']
                                },
                                {
                                    text: '시험 대비 2~3주 전 스트레스·불안·긴장감 누적을 어떻게 분석하는가?',
                                    dataSources: ['exam_days_remaining', 'stress_level', 'anxiety_level', 'readiness_level', 'emotion_state']
                                },
                                {
                                    text: '장기간 학습패턴 변화 감지 시 정서기복 및 루틴 붕괴를 어떻게 조기 경보하는가?',
                                    dataSources: ['learning_pattern_duration', 'pattern_stability', 'emotional_volatility', 'cognitive_fatigue_level', 'motivation_level']
                                }
                            ]
                        },
                        {
                            title: '감정 전환 구간 및 시그너처 루틴 분석 질문',
                            questions: [
                                {
                                    text: '학생이 몰입에 진입하거나 빠져나오는 감정 전환 구간을 어떻게 시각적으로 도출하는가?',
                                    dataSources: ['emotion_pattern_repetition', 'achievement_rate', 'pattern_stability', 'flow_state', 'concentration_level']
                                },
                                {
                                    text: '시그너처루틴 레벨 감정패턴을 어떻게 모델링하고, 현재 감정 루틴의 안정도 점수를 계산하는가?',
                                    dataSources: ['emotion_pattern_repetition', 'achievement_rate', 'pattern_stability', 'signature_routine_pattern', 'emotion_routine_stability_score']
                                },
                                {
                                    text: '집중-피로-회복-몰입의 순환 패턴이 안정적인지 어떻게 진단하는가?',
                                    dataSources: ['concentration_level', 'fatigue_level', 'recovery_time_avg', 'engagement_state', 'emotion_cycle_pattern']
                                }
                            ]
                        }
                    ],
                    ontology: [
                        {
                            name: 'EmotionFlowPattern',
                            description: '감정 흐름 패턴(집중-피로-회복-몰입 순환)을 온톨로지로 표현하여 감정 곡선 분석에 활용 (Agent 05 핵심 온톨로지)'
                        },
                        {
                            name: 'EmotionTransitionZone',
                            description: '감정 전환 구간(몰입 진입/이탈)을 온톨로지로 표현하여 시각적 도출에 활용'
                        },
                        {
                            name: 'SignatureRoutineEmotion',
                            description: '시그너처 루틴 레벨 감정 패턴을 온톨로지로 표현하여 안정도 점수 계산에 활용'
                        },
                        {
                            name: 'ActivityEmotionMapping',
                            description: '활동별 감정 매핑(개념이해/유형학습/문제풀이/오답노트 등)을 온톨로지로 표현하여 상황별 감정 탐지에 활용'
                        }
                    ],
                    analysis: {
                        questionAnalysis: '이 질문 세트는 학습활동 전반에서 감정의 흐름 패턴을 분석합니다. rules.yaml의 R1~R10 상황별 감정 탐지 룰과 직접 연계됩니다.',
                        answerAnalysis: '개념이해 직후 집중 흐름 불안정 시 R1 룰이 트리거되어 이해 수준과 감정 몰입도를 파악합니다. 문제풀이 멈춤이 30초 이상 3회 발생하면 R3 룰이 불안/혼란/확신부족 원인을 식별합니다. 시험 대비 2~3주 전 스트레스가 0.6 초과면 R9 룰이 불안-준비도 매핑을 수행합니다.',
                        ruleBasedActions: 'rules.yaml의 R1~R10 룰이 상황별 감정을 탐지하고, R33 룰이 시그너처 루틴을 정의하며, R38~R39 룰이 감정 트리거와 패턴을 분석합니다.'
                    }
                },
                2: {
                    questionSets: [
                        {
                            title: '감정 페르소나 식별 및 매칭 질문',
                            questions: [
                                {
                                    text: '학생의 감정형 페르소나(불안-보완형, 도전-몰입형, 회피-저항형 등)를 어떻게 식별하는가?',
                                    dataSources: ['persona_type', 'activity_type', 'concept_survey_response', 'type_survey_response', 'problem_survey_response', 'emotion_state']
                                },
                                {
                                    text: '개념이해 활동별 페르소나 유형(정리형/반복형/탐색형/저항형)을 어떻게 매칭하는가?',
                                    dataSources: ['activity_type', 'concept_survey_response', 'persona_type', 'entry_resistance', 'emotion_state']
                                },
                                {
                                    text: '유형학습 활동별 페르소나 유형(도전형/보조형/완벽형/회피형)을 어떻게 매칭하는가?',
                                    dataSources: ['activity_type', 'type_survey_response', 'persona_type', 'avoidance_behavior', 'emotion_state']
                                },
                                {
                                    text: '문제풀이 활동별 페르소나 유형(긴장형/회의형/안정형/자신형)을 어떻게 매칭하는가?',
                                    dataSources: ['activity_type', 'problem_survey_response', 'persona_type', 'tension_level', 'confidence_level']
                                },
                                {
                                    text: '오답노트 활동별 페르소나 유형(분석형/체념형/성장형/회피형)을 어떻게 매칭하는가?',
                                    dataSources: ['activity_type', 'error_survey_response', 'persona_type', 'emotion_state']
                                },
                                {
                                    text: '질의응답 활동별 페르소나 유형(즉흥형/망설임형/탐색형/무반응형)을 어떻게 매칭하는가?',
                                    dataSources: ['activity_type', 'qa_survey_response', 'persona_type', 'hesitation_duration', 'emotion_state']
                                },
                                {
                                    text: '복합 페르소나 프로필(활동별 페르소나를 통합한 학생별 통합 페르소나)을 어떻게 구축하는가?',
                                    dataSources: ['persona_history_count', 'activity_persona_mapping', 'persona_type', 'emotion_state']
                                }
                            ]
                        },
                        {
                            title: '페르소나 기반 피드백 최적화 질문',
                            questions: [
                                {
                                    text: '감정형 페르소나별 피드백 수용률과 회복속도 데이터를 기반으로 TTS 톤, 인터페이스 타이밍, 과제 순서를 어떻게 최적화하는가?',
                                    dataSources: ['persona_type', 'feedback_acceptance_rate', 'recovery_speed', 'tts_tone_preference', 'interface_timing', 'task_sequence']
                                },
                                {
                                    text: '선생님/AI의 개입 방식(논리형·격려형·리듬형)을 감정형 페르소나에 맞게 어떻게 맞춤 제안하는가?',
                                    dataSources: ['persona_type', 'intervention_style_preference', 'emotion_state', 'feedback_acceptance_rate', 'recovery_speed']
                                },
                                {
                                    text: '저항형 페르소나에 대한 감정해소형 진입전략(쉬운 예제로 시작)을 어떻게 제안하는가?',
                                    dataSources: ['persona_type', 'entry_resistance', 'activity_type', 'emotion_state']
                                },
                                {
                                    text: '회피형 페르소나에 대한 성공률 높은 복습 및 TTS 가이드 중심 전환을 어떻게 제안하는가?',
                                    dataSources: ['persona_type', 'avoidance_behavior', 'success_rate', 'tts_guide_mode', 'emotion_state']
                                },
                                {
                                    text: '긴장형 페르소나에 대한 풀이시작 구간 심호흡 유도 메시지를 어떻게 제공하는가?',
                                    dataSources: ['persona_type', 'tension_level', 'activity_type', 'emotion_state']
                                },
                                {
                                    text: '회의형 페르소나에 대한 풀이마무리 시 긍정 리플레이를 어떻게 제공하는가?',
                                    dataSources: ['persona_type', 'confidence_level', 'activity_type', 'emotion_state']
                                },
                                {
                                    text: '망설임형 페르소나에 대한 좋은 질문 타이밍 피드백을 어떻게 제공하는가?',
                                    dataSources: ['persona_type', 'hesitation_duration', 'activity_type', 'emotion_state']
                                },
                                {
                                    text: '분석형 페르소나에 대한 인지적 도제 피드백(TTS 서술형 설명)을 어떻게 제공하는가?',
                                    dataSources: ['persona_type', 'activity_type', 'tts_narrative_explanation', 'emotion_state']
                                },
                                {
                                    text: '도전형 페르소나에 대한 난이도 조정 및 심화학습 연결을 어떻게 제안하는가?',
                                    dataSources: ['persona_type', 'activity_type', 'success_rate', 'emotion_state']
                                }
                            ]
                        },
                        {
                            title: '휴식 삽입 시점 최적화 질문',
                            questions: [
                                {
                                    text: '감정 반응에 맞는 휴식 삽입 시점을 어떻게 결정하는가?',
                                    dataSources: ['emotion_type', 'emotion_intensity', 'fatigue_level', 'learning_duration', 'concentration_level']
                                },
                                {
                                    text: '피로 및 소진 감정 감지 시 휴식 루틴을 어떻게 자동 제안하는가?',
                                    dataSources: ['emotion_type', 'emotion_intensity', 'learning_duration', 'fatigue_level', 'exhaustion_level']
                                }
                            ]
                        }
                    ],
                    ontology: [
                        {
                            name: 'EmotionPersona',
                            description: '감정형 페르소나(불안-보완형, 도전-몰입형, 회피-저항형 등)를 온톨로지로 표현하여 페르소나 식별에 활용'
                        },
                        {
                            name: 'ActivityPersonaMapping',
                            description: '활동별 페르소나 매핑(개념이해/유형학습/문제풀이 등)을 온톨로지로 표현하여 맞춤형 피드백 제공에 활용'
                        },
                        {
                            name: 'FeedbackOptimization',
                            description: '피드백 최적화(TTS 톤, 인터페이스 타이밍, 과제 순서, 휴식 삽입)를 온톨로지로 표현하여 학습 효율 극대화에 활용'
                        },
                        {
                            name: 'InterventionStyle',
                            description: '개입 방식(논리형·격려형·리듬형)을 온톨로지로 표현하여 페르소나별 맞춤 제안에 활용'
                        },
                        {
                            name: 'PersonaFeedbackAcceptance',
                            description: '페르소나별 피드백 수용률과 회복속도를 온톨로지로 표현하여 피드백 효과성 평가에 활용'
                        }
                    ],
                    analysis: {
                        questionAnalysis: '이 질문 세트는 학생의 감정 페르소나를 기반으로 피드백과 상호작용 방식을 최적화합니다. rules.yaml의 R11~R18 페르소나 매칭 룰과 R24~R30 맞춤 피드백 룰과 직접 연계됩니다.',
                        answerAnalysis: '개념이해 활동에서 페르소나가 저항형이고 진입 저항도가 0.6 초과면 R24 룰이 쉬운 예제로 시작하는 감정해소 전략을 제안합니다. 회피형 페르소나에서 회피 행동이 높으면 R25 룰이 성공률 높은 복습과 TTS 가이드를 제안합니다. 긴장형 페르소나에서 긴장도가 0.6 초과면 R26 룰이 풀이 시작 전 심호흡을 유도합니다.',
                        ruleBasedActions: 'rules.yaml의 R11~R18 룰이 활동별 페르소나를 매칭하고, R24~R30 룰이 페르소나 유형별 맞춤 피드백을 제공하며, R42 룰이 피로 소진 감정을 휴식루틴 에이전트로 전달합니다.'
                    }
                },
                3: {
                    questionSets: [
                        {
                            title: '감정 회복속도 및 피로 누적 패턴 분석 질문',
                            questions: [
                                {
                                    text: '감정 회복속도와 피로 누적 패턴을 어떻게 종합 분석하는가?',
                                    dataSources: ['recovery_time_avg', 'fatigue_accumulation_pattern', 'emotion_duration', 'emotion_intensity', 'learning_duration']
                                },
                                {
                                    text: '부정 감정(불안/좌절/피로/저항)이 3일 이상 지속되고 강도가 0.6 초과일 때, 루틴 강도 완화 및 짧은 승리 과제를 어떻게 배치하는가?',
                                    dataSources: ['emotion_type', 'emotion_duration', 'emotion_intensity', 'routine_intensity', 'short_win_task']
                                },
                                {
                                    text: '긍정 감정(자신감/몰입/성취/호기심)이 상승하고 강도가 0.7 초과일 때, 도전 과제 배치 및 피드백 강화를 어떻게 수행하는가?',
                                    dataSources: ['emotion_type', 'emotion_trend', 'emotion_intensity', 'challenge_task', 'feedback_enhancement']
                                },
                                {
                                    text: '높은 불안 감정(강도 0.8 초과) 감지 시 즉각적 정서 조절 전략을 어떻게 제안하는가?',
                                    dataSources: ['emotion_type', 'emotion_intensity', 'physiological_signs', 'immediate_calming_strategy', 'breathing_exercise']
                                },
                                {
                                    text: '피로 및 소진 감정(강도 0.7 초과, 학습 시간 120분 초과) 감지 시 휴식 루틴을 어떻게 자동 제안하는가?',
                                    dataSources: ['emotion_type', 'emotion_intensity', 'learning_duration', 'mandatory_rest', 'recovery_strategy']
                                },
                                {
                                    text: '몰입 및 플로우 상태(집중도 0.8 초과) 감지 시 학습 지속을 어떻게 유도하는가?',
                                    dataSources: ['emotion_type', 'flow_state', 'concentration_level', 'difficulty_adjustment']
                                }
                            ]
                        },
                        {
                            title: '메타인지적 감정 인식도 분석 질문',
                            questions: [
                                {
                                    text: '학생의 메타인지적 감정 인식도(자신의 감정을 인식하고 명시하는 능력)를 어떻게 측정하는가?',
                                    dataSources: ['meta_cognitive_emotion_recognition', 'emotion_self_report_accuracy', 'emotion_labeling_ability', 'emotion_awareness_score']
                                },
                                {
                                    text: '감정 트리거 이벤트(감정을 유발하는 상황)를 어떻게 분석하고 패턴을 도출하는가?',
                                    dataSources: ['emotion_trigger_event', 'trigger_frequency', 'trigger_pattern', 'emotion_state']
                                },
                                {
                                    text: '과거 감정 패턴(10회 이상, 일관성 0.7 초과)을 기반으로 미래 감정 상태를 어떻게 예측하는가?',
                                    dataSources: ['emotion_history_count', 'pattern_consistency', 'emotion_prediction', 'future_emotion_state']
                                }
                            ]
                        },
                        {
                            title: '정서적 회복 루틴 및 자기통제 루틴 설계 질문',
                            questions: [
                                {
                                    text: '정서적 회복 루틴(감정 명시 → 행동 전환 → 성취 인식)을 어떻게 설계하는가?',
                                    dataSources: ['emotion_labeling', 'behavior_transition', 'achievement_recognition', 'emotional_recovery_routine', 'recovery_effectiveness']
                                },
                                {
                                    text: '자기통제 루틴을 통해 학습감정의 자가 피드백 시스템을 어떻게 형성하는가?',
                                    dataSources: ['self_control_routine', 'self_feedback_system', 'emotion_regulation_ability', 'learning_emotion_self_management']
                                },
                                {
                                    text: '감정의 파동이 학습 효율에 미치는 영향을 장기적으로 어떻게 예측하고 조정하는가?',
                                    dataSources: ['emotion_volatility', 'learning_efficiency', 'long_term_emotion_impact', 'emotion_learning_correlation']
                                },
                                {
                                    text: '감정 기반 자기조절 성장 로드맵을 어떻게 생성하는가?',
                                    dataSources: ['emotion_regulation_growth', 'self_regulation_roadmap', 'emotion_awareness_progression', 'long_term_emotion_management']
                                }
                            ]
                        },
                        {
                            title: '복합 상황 처리 및 재가동 시나리오 질문',
                            questions: [
                                {
                                    text: '집중도는 높지만(0.8 초과) 긴장도가 과다(0.7 초과)할 때, 휴식 루틴을 어떻게 연동하는가?',
                                    dataSources: ['concentration_level', 'tension_level', 'emotion_type', 'tension_release', 'rest_routine']
                                },
                                {
                                    text: '불안 및 질문회피 성향 시 질의응답 에이전트에 메타인지 피드백을 어떻게 전송하는가?',
                                    dataSources: ['emotion_type', 'question_avoidance_behavior', 'activity_type', 'meta_cognitive_feedback', 'qa_agent']
                                },
                                {
                                    text: '정서적 관성/인지적 피로/동기 저하 유형을 어떻게 식별하고 재가동 시나리오를 생성하는가?',
                                    dataSources: ['emotional_volatility', 'cognitive_fatigue_level', 'motivation_level', 'emotional_inertia_type', 'restart_scenario']
                                },
                                {
                                    text: '성취감 섞인 피로 vs 지침을 어떻게 구분하고 회복루틴을 전달하는가?',
                                    dataSources: ['activity_type', 'achievement_satisfaction', 'fatigue_level', 'achievement_fatigue_type', 'rest_routine']
                                },
                                {
                                    text: '하루 감정 클로징 데이터를 기반으로 성장지향 vs 소진형을 어떻게 판정하는가?',
                                    dataSources: ['activity_type', 'daily_learning_summary', 'daily_emotion_summary', 'growth_vs_exhaustion_type']
                                }
                            ]
                        }
                    ],
                    ontology: [
                        {
                            name: 'EmotionRecoveryPattern',
                            description: '감정 회복속도와 피로 누적 패턴을 온톨로지로 표현하여 정서적 회복 루틴 설계에 활용'
                        },
                        {
                            name: 'MetaCognitiveEmotionRecognition',
                            description: '메타인지적 감정 인식도를 온톨로지로 표현하여 자기조절 능력 평가에 활용'
                        },
                        {
                            name: 'EmotionTriggerPattern',
                            description: '감정 트리거 패턴을 온톨로지로 표현하여 감정 예측 및 사전 대응에 활용'
                        },
                        {
                            name: 'SelfRegulationRoutine',
                            description: '자기통제 루틴(감정 명시 → 행동 전환 → 성취 인식)을 온톨로지로 표현하여 자가 피드백 시스템 형성에 활용'
                        },
                        {
                            name: 'EmotionRegulationGrowthRoadmap',
                            description: '감정 기반 자기조절 성장 로드맵을 온톨로지로 표현하여 장기적 감정 관리에 활용'
                        },
                        {
                            name: 'ComplexEmotionSituation',
                            description: '복합 감정 상황(집중도-긴장도 불균형, 정서적 관성 등)을 온톨로지로 표현하여 재가동 시나리오 생성에 활용'
                        }
                    ],
                    analysis: {
                        questionAnalysis: '이 질문 세트는 학생이 장기적으로 학습 감정의 자기조절 능력을 키우기 위한 루틴을 설계합니다. rules.yaml의 R19~R23 정서 조절 룰, R31~R37 복합 상황 처리 룰, R38~R39 감정 트리거 분석 룰과 직접 연계됩니다.',
                        answerAnalysis: '부정 감정이 3일 이상 지속되고 강도가 0.6 초과면 R19 룰이 루틴 강도 완화와 짧은 승리 과제를 제안합니다. 높은 불안(강도 0.8 초과)이 감지되면 R21 룰이 즉각적 정서 조절 전략을 제안합니다. 피로 소진(강도 0.7 초과, 학습 120분 초과)이 감지되면 R22 룰이 휴식 루틴을 자동 제안합니다. 정서적 관성/인지적 피로/동기 저하가 감지되면 R34 룰이 재가동 시나리오를 생성합니다.',
                        ruleBasedActions: 'rules.yaml의 R19~R23 룰이 감정 상태별 정서 조절을 수행하고, R31~R37 룰이 복합 상황을 처리하며, R38~R39 룰이 감정 트리거와 패턴을 분석합니다. R40~R43 룰이 다른 에이전트로 감정 데이터를 전달합니다.'
                    }
                }
            },
            // Agent 17: 잔여활동 (상세 작성)
            agent17: {
                1: {
                    questionSets: [
                        {
                            title: '리듬 붕괴 원인 진단 질문',
                            questions: [
                                {
                                    text: '오늘 목표의 완료율이 50% 미만인 경우, 지연 원인이 시간 부족인지 집중 흐름 이탈인지 어떻게 구분할 수 있는가?',
                                    dataSources: ['daily_goal_completion_rate', 'available_time_hours', 'focus_flow_interruption_count', 'activity_status', 'time_spent_by_activity']
                                },
                                {
                                    text: '새로운 단원이나 유형 진입 후 연속 두 번 이상 중단 이벤트가 발생한 경우, 인지 피로와 적응 지연 중 어느 것이 원인인가?',
                                    dataSources: ['activity_transition_failure_count', 'cognitive_fatigue_score', 'unit_adaptation_time', 'activity_type', 'pause_duration']
                                },
                                {
                                    text: '특정 활동 회피나 미루기가 발생하고 정서지표가 하락한 경우, 실패 경험과 동기 저하 중 어느 것이 주 원인인가?',
                                    dataSources: ['activity_avoidance_count', 'emotion_score', 'procrastination_count', 'failure_experience_count', 'motivation_score']
                                },
                                {
                                    text: '특정 활동에 평균 대비 2배 이상 시간이 소요되는 경우, 난이도 과도와 집중도 상승 중 어느 것이 원인인가?',
                                    dataSources: ['activity_time_spent', 'average_activity_time', 'activity_difficulty_score', 'focus_score', 'bottleneck_activity_id']
                                },
                                {
                                    text: '학습 집중도 하락과 휴식 빈도 증가가 동시에 발생한 경우, 피로 누적과 몰입 단절 중 어느 것이 주 원인인가?',
                                    dataSources: ['focus_score', 'rest_frequency', 'fatigue_accumulation_score', 'dropout_score', 'immersion_break_count']
                                }
                            ]
                        },
                        {
                            title: '단기 회복 루틴 설계 질문',
                            questions: [
                                {
                                    text: '리듬 붕괴 원인에 따라 예열-핵심-정리 구조의 각 단계 시간 배분을 어떻게 조정해야 하는가?',
                                    dataSources: ['rhythm_breakdown_cause', 'warmup_time_minutes', 'core_activity_time_minutes', 'review_time_minutes', 'available_time_hours']
                                },
                                {
                                    text: '정서 안정 장치로 어떤 활동(짧은 성공 경험, 감정 회복 루프, 미니 루틴)을 포함해야 하는가?',
                                    dataSources: ['emotion_state', 'recovery_activity_effectiveness', 'mini_routine_success_rate', 'emotion_recovery_loop_score']
                                },
                                {
                                    text: '병목 집중 구간을 3단계(예열-핵심-정리)로 나누어 조정할 때, 각 단계의 난이도와 시간은 어떻게 설정해야 하는가?',
                                    dataSources: ['bottleneck_activity_id', 'activity_difficulty_score', 'warmup_difficulty', 'core_difficulty', 'review_difficulty']
                                }
                            ]
                        }
                    ],
                    ontology: [
                        {
                            name: 'RhythmBreakdownDiagnosis',
                            description: '리듬 붕괴 원인(시간 부족/집중 이탈/인지 피로/동기 저하/병목)을 온톨로지로 표현하여 진단에 활용 (Agent 17 핵심 온톨로지)'
                        },
                        {
                            name: 'RecoveryRoutineStructure',
                            description: '회복 루틴 구조(예열-핵심-정리)를 온톨로지로 표현하여 단기 회복 전략 수립에 활용'
                        },
                        {
                            name: 'EmotionalStabilizationActivity',
                            description: '정서 안정 장치 활동(성공 경험/회복 루프/미니 루틴)을 온톨로지로 표현하여 정서 회복에 활용'
                        },
                        {
                            name: 'BottleneckActivityAnalysis',
                            description: '병목 활동 분석(시간 소요/난이도/집중도)을 온톨로지로 표현하여 병목 해소 전략에 활용'
                        }
                    ],
                    analysis: {
                        questionAnalysis: '이 질문 세트는 학습 흐름이 멈춘 원인을 진단하고 리듬 회복 전략을 도출합니다. rules.yaml의 S1, S3, S4, S5, S7 시나리오와 직접 연계됩니다.',
                        answerAnalysis: '완료율이 50% 미만이면 S1 룰이 트리거되어 지연 원인을 분석합니다. 활동 전환 실패가 2회 이상이면 S3 룰이 트리거됩니다. 정서지표 하락과 활동 회피가 동시 발생하면 S4 룰이 트리거됩니다.',
                        ruleBasedActions: 'rules.yaml의 S1~S7 룰이 각 상황별로 리듬 붕괴 원인을 진단하고, 회복 루틴 구조를 제안합니다. 병목 활동은 S5 룰이 분석하고, 이탈 조짐은 S7 룰이 감지합니다.'
                    }
                },
                2: {
                    questionSets: [
                        {
                            title: '활동 재배치 최적화 질문',
                            questions: [
                                {
                                    text: '가용 시간이 남은 예상 시간보다 부족한 경우, 핵심 20% 활동을 어떻게 선별해야 하는가?',
                                    dataSources: ['available_time_hours', 'remaining_estimated_time', 'activity_priority_score', 'activity_importance_score', 'goal_priority']
                                },
                                {
                                    text: '시간 슬롯 단위로 활동을 재배치할 때, 인지 부하와 활동 난이도를 어떻게 균형있게 배치해야 하는가?',
                                    dataSources: ['cognitive_load_score', 'activity_difficulty_score', 'time_slot_available', 'activity_duration', 'energy_level']
                                },
                                {
                                    text: '목표 달성률이 30% 미만이고 반복 실패가 발생한 경우, 목표를 현실 가능한 수준으로 재설정하면서 학습 모멘텀을 유지하는 방법은?',
                                    dataSources: ['goal_completion_rate', 'goal_failure_repeat_count', 'goal_reality_score', 'learning_momentum_score', 'compressed_routine_effectiveness']
                                },
                                {
                                    text: '피로 누적을 방지하면서 핵심 활동을 완료하기 위한 루틴 구성(활동 순서, 휴식 삽입 시점)은 어떻게 해야 하는가?',
                                    dataSources: ['fatigue_accumulation_score', 'core_activity_list', 'rest_insertion_timing', 'activity_sequence_effectiveness', 'routine_sustainability_score']
                                }
                            ]
                        },
                        {
                            title: '시간-에너지-우선순위 균형 질문',
                            questions: [
                                {
                                    text: '남은 시간이 1시간 이하일 때, 예정된 잔여활동 중 어떤 것을 우선 유지하고 어떤 것을 다음 세션으로 넘겨야 하는가?',
                                    dataSources: ['remaining_time_hours', 'scheduled_remaining_activities', 'activity_priority_score', 'next_session_availability', 'activity_deferral_impact']
                                },
                                {
                                    text: '각 활동을 20분 단위로 나누어 제안할 때, 에너지 수준과 인지 부하를 고려한 최적 분할 방법은?',
                                    dataSources: ['energy_level', 'cognitive_load_score', 'activity_duration', 'optimal_time_unit_minutes', 'activity_segmentation_effectiveness']
                                },
                                {
                                    text: '핵심 활동 선별 후 시간 슬롯에 배치할 때, 집중 유지 시간과 피로 누적 패턴을 어떻게 반영해야 하는가?',
                                    dataSources: ['focus_maintenance_time', 'fatigue_accumulation_pattern', 'time_slot_allocation', 'concentration_peak_time', 'activity_timing_optimization']
                                }
                            ]
                        }
                    ],
                    ontology: [
                        {
                            name: 'ActivityReallocationStrategy',
                            description: '활동 재배치 전략(핵심 선별/시간 슬롯 배치/우선순위 조정)을 온톨로지로 표현하여 최적화에 활용 (Agent 17 핵심 온톨로지)'
                        },
                        {
                            name: 'TimeEnergyPriorityBalance',
                            description: '시간-에너지-우선순위 균형을 온톨로지로 표현하여 현실적이고 지속 가능한 루틴 구성에 활용'
                        },
                        {
                            name: 'CoreActivitySelection',
                            description: '핵심 20% 활동 선별(중요도/우선순위/달성 가능성)을 온톨로지로 표현하여 효율적 활동 배치에 활용'
                        },
                        {
                            name: 'FatiguePreventionRoutine',
                            description: '피로 누적 방지형 루틴(활동 순서/휴식 삽입/에너지 관리)을 온톨로지로 표현하여 지속 가능성 확보에 활용'
                        }
                    ],
                    analysis: {
                        questionAnalysis: '이 질문 세트는 남은 학습 시간과 에너지 수준을 고려한 활동 재배치 전략을 도출합니다. rules.yaml의 S2, S6 시나리오와 직접 연계됩니다.',
                        answerAnalysis: '가용 시간이 부족하면 S2 룰이 트리거되어 핵심 활동 선별과 재배치를 수행합니다. 목표 달성률이 30% 미만이면 S6 룰이 트리거되어 목표 재설정과 압축 루틴을 제안합니다.',
                        ruleBasedActions: 'rules.yaml의 S2 룰이 시간 초과/가용 시간 부족 상황을 처리하고, S6 룰이 목표 현실 불일치를 해결합니다. 핵심 활동 선별은 우선순위와 달성 가능성을 종합 평가합니다.'
                    }
                },
                3: {
                    questionSets: [
                        {
                            title: '장기 리듬 안정화 패턴 질문',
                            questions: [
                                {
                                    text: '최근 리듬 패턴(학습 시간대, 집중 유지 시간, 루틴 붕괴 빈도)을 분석하여 단기 회복 패턴을 어떻게 설계해야 하는가?',
                                    dataSources: ['recent_rhythm_pattern', 'learning_time_slot', 'focus_maintenance_time', 'routine_breakdown_frequency', 'short_term_recovery_pattern']
                                },
                                {
                                    text: '정서 루프(감정 곡선, 회복 속도, 정서적 강화 요소)를 고려한 중기 리듬 안정화 전략은 무엇인가?',
                                    dataSources: ['emotion_loop_pattern', 'emotion_curve', 'recovery_speed', 'emotional_reinforcement_factor', 'mid_term_rhythm_stabilization']
                                },
                                {
                                    text: '루틴 붕괴 이력과 복귀 패턴을 분석하여 장기 리듬 유지를 위한 예방 전략은 어떻게 수립해야 하는가?',
                                    dataSources: ['routine_breakdown_history', 'recovery_pattern', 'long_term_rhythm_maintenance', 'prevention_strategy_effectiveness', 'routine_sustainability_score']
                                },
                                {
                                    text: '집중 유지 시간과 루틴 복귀 지속성을 예측하여 오늘 회복 패턴이 장기적으로 효과적일지 어떻게 평가할 수 있는가?',
                                    dataSources: ['focus_maintenance_time', 'routine_recovery_persistence', 'recovery_pattern_effectiveness', 'long_term_impact_prediction', 'pattern_sustainability_score']
                                }
                            ]
                        },
                        {
                            title: '단기-중기-장기 연계 전략 질문',
                            questions: [
                                {
                                    text: '단기 회복 패턴(오늘)이 중기 리듬 안정화(1주)와 장기 리듬 유지(1개월)로 자연스럽게 연결되도록 하는 전략은?',
                                    dataSources: ['short_term_recovery_pattern', 'mid_term_rhythm_stabilization', 'long_term_rhythm_maintenance', 'pattern_connection_effectiveness', 'transition_smoothness']
                                },
                                {
                                    text: '리듬 안정화를 위한 패턴 제안 시, 학생의 학습 스타일과 정서적 특성을 어떻게 반영해야 하는가?',
                                    dataSources: ['learning_style', 'emotional_characteristics', 'pattern_personalization_score', 'student_preference', 'adaptation_capability']
                                },
                                {
                                    text: '루틴 복귀 지속성을 높이기 위해 어떤 강화 요소(성취 인식, 감정적 보상, 습관화 촉진)를 포함해야 하는가?',
                                    dataSources: ['achievement_recognition', 'emotional_reward', 'habituation_facilitation', 'recovery_persistence_score', 'reinforcement_effectiveness']
                                }
                            ]
                        }
                    ],
                    ontology: [
                        {
                            name: 'RhythmStabilizationPattern',
                            description: '리듬 안정화 패턴(단기/중기/장기)을 온톨로지로 표현하여 장기 리듬 유지에 활용 (Agent 17 핵심 온톨로지)'
                        },
                        {
                            name: 'EmotionLoopRhythmConnection',
                            description: '정서 루프와 리듬의 연결 관계를 온톨로지로 표현하여 정서 기반 리듬 안정화에 활용'
                        },
                        {
                            name: 'RoutineRecoveryPersistence',
                            description: '루틴 복귀 지속성(복귀 패턴/지속 예측/강화 요소)을 온톨로지로 표현하여 장기 유지 전략에 활용'
                        },
                        {
                            name: 'PatternTransitionStrategy',
                            description: '패턴 전환 전략(단기→중기→장기)을 온톨로지로 표현하여 자연스러운 리듬 진화에 활용'
                        }
                    ],
                    analysis: {
                        questionAnalysis: '이 질문 세트는 장기적으로 학습 리듬을 유지하기 위한 회복 패턴을 설계합니다. rules.yaml의 S7 시나리오와 장기 리듬 관리 룰과 연계됩니다.',
                        answerAnalysis: '리듬 패턴 분석은 최근 학습 데이터를 기반으로 수행되며, 정서 루프는 Agent 05의 감정 데이터와 연계됩니다. 루틴 복귀 지속성은 Agent 18의 시그너처 루틴 데이터와 교차 검증됩니다.',
                        ruleBasedActions: 'rules.yaml의 S7 룰이 이탈 조짐 상황을 감지하고 리듬 회복용 활동을 제안합니다. 장기 리듬 유지를 위한 패턴은 단기 회복 성공률과 중기 안정화 지표를 종합하여 설계됩니다.'
                    }
                }
            },
            // Agent 10: 개념노트 (Concept Notes)
            agent10: {
                1: {
                    questionSets: [
                        {
                            title: '개념 이해 방식 및 학습 스타일 분석 질문',
                            questions: [
                                {
                                    text: '학생의 필기량, 체류시간, TTS 활용 패턴을 종합하여 개념 이해 방식(시각형/청각형/요약형)을 어떻게 판별하는가?',
                                    dataSources: ['note_stroke_count', 'page_dwell_time', 'tts_play_count', 'tts_timing', 'student_learning_style', 'note_completeness']
                                },
                                {
                                    text: '재방문 패턴과 단계별 이해도 로그를 분석하여 학생의 개념 학습 안정성과 불안감 지표는?',
                                    dataSources: ['unit_revisit_frequency', 'unit_revisit_timing', 'stage_completeness', 'concept_mastery_data', 'emotion_data']
                                },
                                {
                                    text: '필기 간격(stroke interval)과 지우기 횟수를 분석하여 막힘 구간과 이해도 불안정 개념을 어떻게 식별하는가?',
                                    dataSources: ['stroke_intervals', 'long_intervals', 'eraser_count', 'stuck_points', 'unstable_concepts']
                                },
                                {
                                    text: '필기 순서와 위치 분석을 통해 개념 구조 이해 순서와 중요 개념 강조 여부를 어떻게 평가하는가?',
                                    dataSources: ['stroke_order', 'stroke_positions', 'concentrated_areas', 'key_concept_emphasis', 'ideal_concept_order']
                                },
                                {
                                    text: '단원별 필기량/시간을 기준값과 비교하여 완성도와 학습 노력 적절성을 어떻게 평가하는가?',
                                    dataSources: ['unit_baseline_data', 'unit_stroke_count', 'unit_time', 'unit_completeness', 'unit_difficulty_data']
                                }
                            ]
                        },
                        {
                            title: '첫 개념 수업 도입 전략 질문',
                            questions: [
                                {
                                    text: '학생의 개념 이해 방식을 기반으로 첫 개념 수업에서 어떤 설명 방식(시각/청각/체감)을 우선 사용해야 하는가?',
                                    dataSources: ['student_learning_style', 'auditory_learning_dependency', 'visual_learning_preference', 'tts_usage_pattern']
                                },
                                {
                                    text: '학생의 수학 수준과 학습 스타일을 고려한 첫 개념 수업 교재 구성(개념요약/이해/체크 비중)은?',
                                    dataSources: ['student_math_level', 'math_learning_style', 'stage_baseline_data', 'concept_completion_history']
                                },
                                {
                                    text: '학생의 필기 습관과 정리 도구 사용 여부를 반영한 첫 개념 수업 필기 유도 전략은?',
                                    dataSources: ['note_habit', 'note_tool_usage', 'note_completeness', 'note_pattern']
                                },
                                {
                                    text: '학생의 개념별 취약 영역 기록을 기반으로 첫 개념 수업에서 보완해야 할 선행 개념은?',
                                    dataSources: ['concept_weak_areas', 'prerequisite_units', 'unit_prerequisite_db', 'concept_completion_history']
                                }
                            ]
                        }
                    ],
                    ontology: [
                        {
                            name: 'ConceptLearningStyle',
                            description: '개념 학습 스타일(시각형/청각형/요약형)을 온톨로지로 표현하여 맞춤형 도입 전략 수립에 활용'
                        },
                        {
                            name: 'NotePattern',
                            description: '필기 패턴(필기량, 간격, 순서, 위치)을 온톨로지로 표현하여 개념 이해도 분석에 활용'
                        },
                        {
                            name: 'ConceptStability',
                            description: '개념 이해 안정성(재방문 패턴, 지우기 횟수, 막힘 구간)을 온톨로지로 표현하여 학습 안정성 평가에 활용'
                        },
                        {
                            name: 'UnitBaseline',
                            description: '단원별 기준값(평균 필기량, 평균 학습시간)을 온톨로지로 표현하여 완성도 비교 분석에 활용'
                        }
                    ],
                    analysis: {
                        questionAnalysis: '이 질문 세트는 학생의 개념 공부 패턴을 종합하여 첫 개념 수업에서 무엇을 어떻게 다뤄야 할지 결정합니다. rules.yaml의 S0, S2, S3, S4 시나리오와 직접 연계됩니다.',
                        answerAnalysis: '필기량과 체류시간이 기준값보다 낮으면 S4_R1 룰이 완성도 저하를 감지합니다. TTS 활용 패턴이 비정상적이면 S3_R3 룰이 학습 스타일을 분석합니다. 재방문 패턴이 많으면 S4_R3 룰이 불안감을 감지합니다. 필기 간격이 길면 S2_R1 룰이 막힘 구간을 식별합니다.',
                        ruleBasedActions: 'rules.yaml의 S0_R1~S0_R3 룰이 기준값과 학생 정보를 수집하고, S2_R1~S2_R5 룰이 필기 패턴을 심층 분석하며, S3_R1~S3_R4 룰이 학습 단계별 완성도를 평가하고, S4_R1~S4_R4 룰이 단원별 분석을 수행합니다.'
                    }
                },
                2: {
                    questionSets: [
                        {
                            title: '개념 학습 루틴 효율성 분석 질문',
                            questions: [
                                {
                                    text: '개념요약→이해→체크→예제→대표유형→테스트 단계 간 전이 효율을 어떻게 분석하는가?',
                                    dataSources: ['stage_to_stage_transfer', 'connection_quality', 'weak_connections', 'stage_completeness', 'stage_performance_data']
                                },
                                {
                                    text: 'TTS·필기·체류 로그 간 상관관계를 분석하여 학습 스타일별 최적 활동 조합은?',
                                    dataSources: ['tts_play_count', 'note_stroke_count', 'page_dwell_time', 'correlation_analysis', 'learning_style_correlation']
                                },
                                {
                                    text: '오답 발생 구간과 이전 단계 필기 데이터를 비교하여 오답 원인(계산 실수/개념 오류/적용 오류)을 어떻게 분류하는가?',
                                    dataSources: ['concept_test_wrong_answer', 'wrong_answer_concept', 'previous_stage_notes', 'wrong_answer_type', 'error_type_classification']
                                },
                                {
                                    text: '페이지별 체류 시간과 필기량을 비교하여 막힘 구간과 집중 구간을 어떻게 구분하는가?',
                                    dataSources: ['page_dwell_times', 'stroke_count_per_page', 'stuck_pages', 'concentrated_pages', 'dwell_time_vs_stroke_count']
                                },
                                {
                                    text: '시간 효율성(필기량/시간 비율)과 집중도 지표를 분석하여 학습 품질을 어떻게 평가하는가?',
                                    dataSources: ['stroke_per_minute', 'efficiency_vs_baseline', 'concentration_level', 'time_efficiency_score']
                                }
                            ]
                        },
                        {
                            title: '개인화 루틴 시퀀스 설계 질문',
                            questions: [
                                {
                                    text: '학생 개인에게 가장 적합한 개념학습 루틴 시퀀스(순서·시간·형태)는 어떻게 설계하는가?',
                                    dataSources: ['student_learning_speed', 'stage_performance_data', 'optimal_stage_ratios', 'personalized_timing', 'stage_sequence_optimization']
                                },
                                {
                                    text: '학생 수준별로 어떤 단계를 생략하거나 추가해야 하는가? (하위권: 모든 단계, 상위권: 일부 단계 생략)',
                                    dataSources: ['student_math_level', 'stage_necessity', 'optimized_sequence', 'stage_completeness']
                                },
                                {
                                    text: '집중 블록 구조(포모도르/세션단위)를 학생의 집중 지속력에 맞게 어떻게 설계하는가?',
                                    dataSources: ['focus_duration_minutes', 'concentration_level', 'pomodoro_session_id', 'session_structure']
                                },
                                {
                                    text: '개념별 망각 곡선을 기반으로 복습 주기를 어떻게 최적화하는가?',
                                    dataSources: ['concept_mastery_data', 'forgetting_curve_data', 'concept_retention', 'optimal_review_cycles']
                                }
                            ]
                        }
                    ],
                    ontology: [
                        {
                            name: 'StageTransferEfficiency',
                            description: '학습 단계 간 전이 효율(개념요약→이해→체크 등)을 온톨로지로 표현하여 루틴 최적화에 활용'
                        },
                        {
                            name: 'LearningActivityCorrelation',
                            description: '학습 활동 간 상관관계(TTS·필기·체류)를 온톨로지로 표현하여 최적 활동 조합 도출에 활용'
                        },
                        {
                            name: 'ErrorCauseClassification',
                            description: '오답 원인 분류(계산 실수/개념 오류/적용 오류)를 온톨로지로 표현하여 맞춤형 개선 방안 수립에 활용'
                        },
                        {
                            name: 'RoutineSequence',
                            description: '개인화 루틴 시퀀스(순서·시간·형태)를 온톨로지로 표현하여 최적 루틴 설계에 활용'
                        },
                        {
                            name: 'ReviewCycle',
                            description: '복습 주기 최적화(망각 곡선 기반)를 온톨로지로 표현하여 장기 기억 강화에 활용'
                        }
                    ],
                    analysis: {
                        questionAnalysis: '이 질문 세트는 학생의 개념 학습 데이터를 기반으로 가장 효율적인 루틴을 설계합니다. rules.yaml의 S1, S3, S5, S6 시나리오와 직접 연계됩니다.',
                        answerAnalysis: '단계 간 연결이 약하면 S3_R2 룰이 약한 연결을 식별합니다. TTS 활용 패턴이 비정상적이면 S3_R3 룰이 청각 학습 의존도를 분석합니다. 오답이 발생하면 S1_R1~S1_R6 룰이 원인을 진단합니다. 페이지 체류 시간이 불균형하면 S3_R4 룰이 막힘 구간을 감지합니다.',
                        ruleBasedActions: 'rules.yaml의 S1_R1~S1_R6 룰이 오답 원인을 진단하고, S3_R1~S3_R4 룰이 학습 단계별 분석을 수행하며, S5_R1~S5_R4 룰이 개인화 피드백을 제공하고, S6_R1~S6_R4 룰이 루틴 최적화를 제안합니다.'
                    }
                },
                3: {
                    questionSets: [
                        {
                            title: '개념 학습 효율 향상 전략 질문',
                            questions: [
                                {
                                    text: '오답 원인(이해 부족/주의력 저하/필기누락)을 통합 분석하여 개념이해 안정성 지표를 어떻게 추출하는가?',
                                    dataSources: ['wrong_answer_type', 'note_completeness', 'concept_mastery_data', 'concept_stability_indicator', 'understanding_deficiency']
                                },
                                {
                                    text: '루틴 유지율과 단계별 이해도 편차를 분석하여 루틴 지속 리스크 요인을 어떻게 식별하는가?',
                                    dataSources: ['routine_participation_rate', 'routine_effectiveness', 'stage_completeness_deviation', 'routine_risk_factors', 'routine_performance_data']
                                },
                                {
                                    text: '재방문 이유 분석을 통해 불안감, 확신 부족, 이해도 불균형 중 어떤 요인이 작용하는지 어떻게 판단하는가?',
                                    dataSources: ['unit_revisit_reason', 'revisit_frequency', 'revisit_timing', 'anxiety_level', 'confidence_level', 'understanding_imbalance']
                                },
                                {
                                    text: '청각/시각 입력 의존도를 분석하여 학습 스타일별 보완 전략은?',
                                    dataSources: ['auditory_learning_dependency', 'visual_learning_preference', 'tts_usage_pattern', 'note_habit', 'input_dependency_analysis']
                                },
                                {
                                    text: '단원별 필기 완성도와 오답률을 종합하여 누적학습 기반 루틴 재설계 입력을 어떻게 제공하는가?',
                                    dataSources: ['unit_completeness', 'unit_wrong_answer_rate', 'prerequisite_unit_completeness', 'cumulative_learning_data', 'routine_redesign_input']
                                }
                            ]
                        },
                        {
                            title: '중장기 개념학습 지속성 향상 전략 질문',
                            questions: [
                                {
                                    text: '습관화 루틴을 통해 개념학습을 자동화하기 위한 단계별 습관 형성 전략은?',
                                    dataSources: ['routine_habit_formation', 'routine_consistency', 'routine_effectiveness', 'habit_strength', 'automation_readiness']
                                },
                                {
                                    text: '도구 활용(필기 도구, TTS, 요약 카드)을 최적화하여 학습 효율을 높이는 방안은?',
                                    dataSources: ['note_tool_usage', 'tts_effectiveness', 'summary_card_suggestion', 'tool_optimization', 'learning_tool_efficiency']
                                },
                                {
                                    text: '피드백 루프(실시간 피드백, 주기적 평가, 개선 제안)를 어떻게 설계하여 지속적 성장을 만드는가?',
                                    dataSources: ['realtime_feedback', 'periodic_evaluation', 'improvement_suggestions', 'feedback_loop_design', 'continuous_growth']
                                },
                                {
                                    text: '선행 단원 실패가 후속 단원에 미치는 영향을 분석하여 단원 간 연쇄 실패를 어떻게 방지하는가?',
                                    dataSources: ['prerequisite_unit_incomplete', 'current_unit_struggling', 'failure_chain', 'root_prerequisite', 'unit_chain_analysis']
                                },
                                {
                                    text: '주기적 루틴 효과 평가(7일 이상)를 통해 개선점을 어떻게 식별하고 루틴을 조정하는가?',
                                    dataSources: ['routine_period_elapsed', 'routine_effectiveness', 'improvement_points', 'routine_adjustments', 'routine_evaluation']
                                }
                            ]
                        }
                    ],
                    ontology: [
                        {
                            name: 'ConceptStabilityIndicator',
                            description: '개념이해 안정성 지표(오답 원인, 루틴 유지율, 재방문 패턴)를 온톨로지로 표현하여 안정성 평가에 활용'
                        },
                        {
                            name: 'RoutineRiskFactor',
                            description: '루틴 지속 리스크 요인(유지율, 이해도 편차, 저항도)을 온톨로지로 표현하여 리스크 예측에 활용'
                        },
                        {
                            name: 'LearningStyleDependency',
                            description: '학습 스타일 의존도(청각/시각 입력 의존도)를 온톨로지로 표현하여 보완 전략 수립에 활용'
                        },
                        {
                            name: 'HabitFormationStrategy',
                            description: '습관화 루틴 전략(단계별 습관 형성, 자동화)을 온톨로지로 표현하여 지속성 향상에 활용'
                        },
                        {
                            name: 'FeedbackLoopDesign',
                            description: '피드백 루프 설계(실시간/주기적/개선)를 온톨로지로 표현하여 지속적 성장에 활용'
                        },
                        {
                            name: 'UnitFailureChain',
                            description: '단원 간 실패 연쇄(선행 단원 실패→후속 단원 영향)를 온톨로지로 표현하여 연쇄 실패 방지에 활용'
                        }
                    ],
                    analysis: {
                        questionAnalysis: '이 질문 세트는 학생이 중장기적으로 개념 학습 효율을 높이기 위해 보완해야 할 부분을 식별하고 전략을 제안합니다. rules.yaml의 S1, S4, S6, S7, C5 시나리오와 직접 연계됩니다.',
                        answerAnalysis: '오답 원인이 개념 오류면 S1_R3 룰이 개념 재학습을 제안합니다. 루틴 유지율이 낮으면 S6_R4 룰이 루틴 효과를 평가합니다. 재방문 패턴이 많으면 S4_R3 룰이 불안감을 감지합니다. 선행 단원이 부족하면 C5 룰이 실패 연쇄를 분석합니다. 루틴 기간이 7일 이상이면 S6_R4 룰이 개선점을 식별합니다.',
                        ruleBasedActions: 'rules.yaml의 S1_R1~S1_R6 룰이 오답 원인을 진단하고, S4_R1~S4_R4 룰이 단원별 분석을 수행하며, S6_R1~S6_R4 룰이 루틴 최적화를 제안하고, S7_R1~S7_R3 룰이 복습을 제안하며, C5 룰이 단원 간 실패 연쇄를 분석합니다.'
                    }
                }
            },
            // Agent 06: 교사피드백 (상세 작성)
            agent06: {
                1: {
                    questionSets: [
                        {
                            title: '교사 페르소나 및 핵심 의도 추출 질문',
                            questions: [
                                {
                                    text: '최근 교사 메모와 녹취록에서 반복되는 핵심 의도(성장/도전/안정/회복)는 무엇이며, 각 의도별 사용 빈도는?',
                                    dataSources: ['teacher_notes', 'conversation_recording_available', 'teacher_persona_defined', 'feedback_emotional_tone']
                                },
                                {
                                    text: '학생의 최근 변화 신호(집중/감정/진도)에 따라 교사가 전달하는 의도가 달라지는 패턴은?',
                                    dataSources: ['focus_change_detected', 'emotion_change_detected', 'learning_density_decline', 'teacher_intention_clarification']
                                },
                                {
                                    text: '교사의 페르소나 톤(엄격/공감/유머)이 학생 반응에 미치는 영향도와 효과적인 문장 구조는?',
                                    dataSources: ['selected_tone', 'student_response_history', 'interaction_effectiveness_decline', 'effective_sentence_structure_request']
                                },
                                {
                                    text: '위험 신호(학습 부진, 감정 저하, 참여 감소) 발생 시 교사가 사용하는 대체 스크립트 패턴은?',
                                    dataSources: ['slump_detected', 'emotion_score_decline', 'participation_decrease', 'teacher_recovery_phrases']
                                }
                            ]
                        },
                        {
                            title: '일관성 및 정렬 분석 질문',
                            questions: [
                                {
                                    text: '교사 피드백의 일관성 점수와 페르소나 정렬률은 얼마이며, 불일치가 발생하는 상황은?',
                                    dataSources: ['teacher_persona_applied', 'feedback_consistency_review', 'teacher_feedback_mismatch_count', 'interaction_generated']
                                },
                                {
                                    text: '학생 수준(하위권/중위권/상위권)에 따른 교사 피드백 스타일 차별화 패턴은?',
                                    dataSources: ['student_level', 'level_specific_feedback_strategy', 'lower_level_praise_strategy', 'upper_level_challenge_strategy']
                                },
                                {
                                    text: '수학 오류 유형(계산 실수/개념 오류/적용 오류)별 교사 피드백 템플릿과 효과성은?',
                                    dataSources: ['math_error_type', 'calculation_error_feedback', 'concept_error_feedback', 'application_error_feedback']
                                }
                            ]
                        }
                    ],
                    ontology: [
                        {
                            name: 'TeacherPersona',
                            description: '교사 페르소나(톤, 언어 패턴, 핵심 의도)를 온톨로지로 표현하여 일관된 상호작용 생성에 활용 (Agent 06 핵심 온톨로지)'
                        },
                        {
                            name: 'FeedbackIntention',
                            description: '교사 피드백 의도(성장/도전/안정/회복)를 온톨로지로 표현하여 상황별 의도 매핑에 활용'
                        },
                        {
                            name: 'FeedbackTonePattern',
                            description: '피드백 톤 패턴(엄격/공감/유머)과 효과성을 온톨로지로 표현하여 최적 톤 선택에 활용'
                        },
                        {
                            name: 'StudentLevelFeedbackMapping',
                            description: '학생 수준별 피드백 스타일 매핑을 온톨로지로 표현하여 차별화된 피드백 생성에 활용'
                        },
                        {
                            name: 'MathErrorFeedbackTemplate',
                            description: '수학 오류 유형별 피드백 템플릿을 온톨로지로 표현하여 맞춤형 피드백 생성에 활용'
                        }
                    ],
                    analysis: {
                        questionAnalysis: '이 질문 세트는 교사의 페르소나와 핵심 의도를 추출하여 일관된 상호작용을 생성하기 위한 데이터를 수집합니다. rules.yaml의 S1~S6 시나리오와 직접 연계됩니다.',
                        answerAnalysis: '교사 메모와 녹취록은 R8a 룰이 분석하여 페르소나를 추출합니다. 학생 변화 신호는 R1a~R1f 룰이 감지하고, 피드백 톤은 R6a~R6g 룰이 최적화합니다. 학생 수준별 차별화는 R11a~R11e 룰이 담당합니다.',
                        ruleBasedActions: 'rules.yaml의 R8a~R8f 룰이 교사 페르소나를 추출하고 반영하며, R1a~R1f 룰이 학생 변화를 감지합니다. R6a~R6g 룰이 상호작용 톤을 조정하고, R11a~R11e 룰이 학생 수준별 피드백을 차별화합니다. R9a~R9f 룰이 수학 교과 특화 피드백을 생성합니다.'
                    }
                },
                2: {
                    questionSets: [
                        {
                            title: '3단계 개입 시나리오 설계 질문',
                            questions: [
                                {
                                    text: '학생의 최근 집중도 변화와 감정 상태 변화를 종합하여 오프닝 단계의 말걸기 문장과 톤은?',
                                    dataSources: ['focus_change_detected', 'recent_focus_score', 'emotion_change_detected', 'recent_emotion_score', 'interaction_tone_selection']
                                },
                                {
                                    text: '다가오는 문맥(시험/모의/진학 상담)과 학생 수준을 고려한 코칭 단계의 질문 스템과 과제 제안은?',
                                    dataSources: ['exam_date', 'days_until_exam', 'student_level', 'exam_preparation_strategy', 'exam_feedback_tone_request']
                                },
                                {
                                    text: '학생의 최근 성취도와 강점 영역을 반영한 클로징 단계의 칭찬 포인트와 리마인드 카드는?',
                                    dataSources: ['recent_achievements', 'strength_areas', 'praise_point_extraction', 'improvement_area_guidance']
                                },
                                {
                                    text: '보호자 커뮤니케이션이 필요한 경우, 이번 주 학습 패턴 중 전달할 핵심 메시지와 톤은?',
                                    dataSources: ['feedback_request_type', 'parent_feedback_request', 'weekly_learning_pattern', 'feedback_emotional_tone']
                                }
                            ]
                        },
                        {
                            title: '상황별 개입 시나리오 질문',
                            questions: [
                                {
                                    text: '시험 대비 기간 진입 시, 학생에게 강조할 핵심 전략과 금지 패턴, 그리고 피드백 어조는?',
                                    dataSources: ['exam_date', 'days_until_exam', 'target_score', 'exam_forbidden_patterns', 'exam_strength_weakness_analysis']
                                },
                                {
                                    text: '학습 부진/슬럼프 감지 시, 원인 분석과 회복을 위한 3단계 개입 시나리오는?',
                                    dataSources: ['learning_slump_detection', 'slump_cause_analysis', 'confidence_decline_recovery', 'fatigue_recovery_strategy']
                                },
                                {
                                    text: '학생 변화 감지 시, 맥락 분석과 격려 방식을 반영한 개입 시나리오는?',
                                    dataSources: ['focus_change_detected', 'emotion_change_detected', 'attitude_change_detected', 'teacher_encouragement_style']
                                }
                            ]
                        }
                    ],
                    ontology: [
                        {
                            name: 'InterventionScenario',
                            description: '3단계 개입 시나리오(오프닝→코칭→클로징) 구조를 온톨로지로 표현하여 상황별 시나리오 생성에 활용'
                        },
                        {
                            name: 'ContextualFeedback',
                            description: '문맥(시험/모의/진학 상담)별 피드백 패턴을 온톨로지로 표현하여 맞춤형 개입에 활용'
                        },
                        {
                            name: 'ParentCommunicationTemplate',
                            description: '보호자 커뮤니케이션 템플릿을 온톨로지로 표현하여 일관된 메시지 전달에 활용'
                        },
                        {
                            name: 'RecoveryInterventionStrategy',
                            description: '회복 개입 전략(원인 분석→회복 방법→지속 모니터링)을 온톨로지로 표현하여 슬럼프 대응에 활용'
                        }
                    ],
                    analysis: {
                        questionAnalysis: '이 질문 세트는 학생의 변화 신호와 문맥을 종합하여 3단계 개입 시나리오를 설계하기 위한 데이터를 수집합니다. rules.yaml의 S2, S4 시나리오와 직접 연계됩니다.',
                        answerAnalysis: '집중도와 감정 변화는 R1a~R1f 룰이 감지하고, 시험 대비는 R2a~R2f 룰이 전략을 수립합니다. 학습 부진은 R4a~R4g 룰이 분석하고, 보호자 피드백은 R3a~R3f 룰이 생성합니다.',
                        ruleBasedActions: 'rules.yaml의 R2a~R2f 룰이 시험 대비 기간 개입 시나리오를 생성하고, R4a~R4g 룰이 학습 부진 회복 시나리오를 설계합니다. R3a~R3f 룰이 보호자/학생 피드백을 생성하며, R1a~R1f 룰이 학생 변화 대응 시나리오를 수립합니다.'
                    }
                },
                3: {
                    questionSets: [
                        {
                            title: '누락 정보 식별 및 수집 질문',
                            questions: [
                                {
                                    text: '상호작용 최적화에 필요한 핵심 정보(목표, 시험 일정, 톤 선호, 감정 패턴) 중 누락된 항목과 우선순위는?',
                                    dataSources: ['exam_date', 'target_score', 'student_level', 'critical_info_missing', 'info_completeness_check']
                                },
                                {
                                    text: '오래된 정보(30일 이상 갱신 안 됨)가 있는지, 갱신이 필요한 정보의 전략적 의미는?',
                                    dataSources: ['info_last_updated', 'days_since_update', 'outdated_info_detection', 'info_strategic_meaning_request']
                                },
                                {
                                    text: '학원 선생님 피드백과 학교 선생님 피드백이 모두 있는 경우, 통합 전략과 우선순위는?',
                                    dataSources: ['academy_enrolled', 'academy_teacher_feedback', 'school_teacher_feedback', 'multiple_teacher_feedback_integration']
                                },
                                {
                                    text: '학생 프로필 완전도가 70% 미만인 경우, 보완이 필요한 필수 정보 항목은?',
                                    dataSources: ['profile_completeness', 'missing_fields_count', 'critical_info_missing_alert', 'info_completeness_check']
                                }
                            ]
                        },
                        {
                            title: '자동 수집 절차 설계 질문',
                            questions: [
                                {
                                    text: '누락된 시험 정보를 수집하기 위한 알림 메시지 템플릿과 질문 폼 설계는?',
                                    dataSources: ['missing_exam_info_request', 'exam_info_needed', 'send_notification', 'request_teacher_input']
                                },
                                {
                                    text: '목표 점수 정보가 누락된 경우, 자동 수집 절차와 검증 방법은?',
                                    dataSources: ['missing_target_score_request', 'target_score_update', 'send_notification', 'info_strategic_meaning_request']
                                },
                                {
                                    text: '정보 수집 후 자동 업데이트 규칙과 전/후 비교 리포트 생성 방법은?',
                                    dataSources: ['new_info_provided', 'update_strategy', 'auto_info_search_trigger', 'info_update_request']
                                },
                                {
                                    text: '학원 정보(학원명, 반 수준, 진도)가 누락된 경우, 수집 절차와 통합 방법은?',
                                    dataSources: ['academy_info_collection', 'academy_name', 'academy_class_level', 'academy_progress_info']
                                }
                            ]
                        }
                    ],
                    ontology: [
                        {
                            name: 'InformationCompleteness',
                            description: '정보 완전성(필수/선택, 우선순위, 갱신 주기)을 온톨로지로 표현하여 누락 정보 식별에 활용'
                        },
                        {
                            name: 'AutoCollectionWorkflow',
                            description: '자동 수집 절차(알림→질문 폼→검증→업데이트)를 온톨로지로 표현하여 자동화에 활용'
                        },
                        {
                            name: 'InformationStrategicValue',
                            description: '정보의 전략적 가치(목표 설정, 시험 대비, 피드백 생성)를 온톨로지로 표현하여 우선순위 결정에 활용'
                        },
                        {
                            name: 'MultiSourceFeedbackIntegration',
                            description: '다중 소스 피드백(학교/학원) 통합 전략을 온톨로지로 표현하여 일관된 피드백 생성에 활용'
                        }
                    ],
                    analysis: {
                        questionAnalysis: '이 질문 세트는 상호작용 최적화에 필요한 정보의 누락을 식별하고 자동 수집 절차를 설계하기 위한 데이터를 수집합니다. rules.yaml의 S7 시나리오와 직접 연계됩니다.',
                        answerAnalysis: '누락된 시험 정보는 R7a 룰이 감지하고, 목표 점수는 R7b 룰이 요청합니다. 오래된 정보는 R7c 룰이 갱신을 요청하고, 정보의 전략적 의미는 R7d 룰이 분석합니다. 중요 정보 누락은 R7e 룰이 경고합니다.',
                        ruleBasedActions: 'rules.yaml의 R7a~R7g 룰이 정보 누락을 감지하고 수집 절차를 트리거합니다. R10a~R10d 룰이 학원 정보를 수집하고 통합하며, R8a~R8f 룰이 교사 피드백을 수집합니다. 정보 수집 후 R7d, R7g 룰이 자동 업데이트와 검증을 수행합니다.'
                    }
                },
                ontology: [
                    {
                        name: 'TeacherFeedback',
                        description: '교사 피드백 패턴과 페르소나 톤을 온톨로지로 표현하여 일관된 상호작용 생성에 활용'
                    },
                    {
                        name: 'FeedbackConsistency',
                        description: '피드백 일관성(페르소나 정렬, 톤 일치, 의도 연속성)을 온톨로지로 표현하여 검증에 활용'
                    },
                    {
                        name: 'ContextualPersona',
                        description: '상황별 페르소나 적용(시험 대비/학습 부진/변화 감지)을 온톨로지로 표현하여 맞춤형 피드백에 활용'
                    }
                ],
                analysis: {
                    questionAnalysis: 'Agent 06은 교사 피드백과 페르소나를 추출하여 학생과의 일관된 상호작용을 생성합니다. 3개의 포괄형 질문은 각각 페르소나 추출, 개입 시나리오 설계, 정보 수집을 담당합니다.',
                    answerAnalysis: '교사 피드백 데이터는 다른 에이전트의 상호작용 생성에 기초 데이터로 활용됩니다. 특히 Agent 19(상호작용 컨텐츠)와 Agent 20(개입 준비)에서 직접 참조됩니다.',
                    ruleBasedActions: 'S1~S7 시나리오 룰이 각 상황별 피드백 생성을 담당하고, R8a~R8f 룰이 교사 페르소나를 추출하며, R9a~R13e 룰이 수학 교과 특화 및 학습 단계별 피드백을 생성합니다.'
                }
            },
            // Agent 07: 상호작용타게팅 (상세 작성)
            agent07: {
                1: {
                    questionSets: [
                        {
                            title: '타이밍 최적화 질문',
                            questions: [
                                {
                                    text: '현재 학습 세션 상태와 시간대를 고려할 때, 지금 개입할지/기다릴지/유도형으로 바꿀지 결정하기 위한 핵심 판단 요소는?',
                                    dataSources: ['current_session_state', 'learning_time_slot', 'session_elapsed_time', 'pomodoro_cycle_position', 'last_interaction_elapsed_time', 'real_time_emotion_curve', 'immersion_trend', 'previous_interaction_effectiveness']
                                },
                                {
                                    text: '포모도르 세션 중 집중도가 5 미만이고 경과 시간이 20분 이상인 경우, 휴식 유도 vs 리마인드 자극 중 어떤 피드백이 몰입을 복구시킬까?',
                                    dataSources: ['pomodoro_session_active', 'pomodoro_elapsed_minutes', 'concentration_score', 'achievement_score', 'emotion_curve', 'focus_drop_detection', 'energy_level']
                                },
                                {
                                    text: '학생 질문/도움 요청이 있는 실시간 고민 상황에서, 인지적 난이도 문제인지 정서적 불안 문제인지 구분하는 데이터는?',
                                    dataSources: ['student_question_detected', 'help_request_log', 'cognitive_difficulty_score', 'emotional_anxiety_score', 'problem_solving_time', 'consecutive_wrong_answers', 'repeated_question_count']
                                },
                                {
                                    text: '학습 환경 소음 수준, 조도 변화, 기기 입력 중단 시간을 고려한 최적 개입 타이밍은?',
                                    dataSources: ['environment_noise_level', 'illumination_change', 'device_idle_time', 'screen_gaze_rate', 'interface_active_state', 'interaction_fatigue_accumulation']
                                }
                            ]
                        },
                        {
                            title: '상황별 타게팅 질문',
                            questions: [
                                {
                                    text: '분기목표 수립 상황에서, 최근 4주간 패턴을 보면 집중률·회복탄력성·몰입지속력 중 어떤 요소가 가장 약했는가?',
                                    dataSources: ['quarterly_goal_setting_trigger', 'recent_4weeks_concentration_rate', 'resilience_score', 'immersion_duration_score', 'quarterly_goal_id']
                                },
                                {
                                    text: '수업준비 상황에서 전두엽 활성(집중) 신호가 낮다면, 음악/격려멘트 중 어떤 자극이 가장 적합할까?',
                                    dataSources: ['class_preparation_trigger', 'academy_class_scheduled', 'school_class_scheduled', 'prefrontal_activation_signal', 'focus_score', 'emotion_energy_level', 'music_preference', 'encouragement_message_effectiveness']
                                },
                                {
                                    text: '귀가검사 준비 상황에서, 오늘 학습 중 미해결 태스크가 남았는지, 학생이 스스로 회고할 수 있도록 어떤 질문을 던져야 할까?',
                                    dataSources: ['departure_check_preparation_trigger', 'learning_session_ending', 'unresolved_tasks_count', 'daily_learning_summary', 'self_reflection_capability', 'departure_check_session_id']
                                },
                                {
                                    text: '귀가검사 상황에서 이해도·집중도·감정안정도 중 어떤 항목을 우선 피드백해야 내일 루틴으로 이어질까?',
                                    dataSources: ['departure_check_execution_trigger', 'understanding_score', 'concentration_score', 'emotion_stability_score', 'routine_continuation_probability', 'parent_feedback_needed']
                                }
                            ]
                        }
                    ],
                    ontology: [
                        {
                            name: 'InteractionTiming',
                            description: '상호작용 타이밍(세션 상태, 시간대, 포모도르 위치, 환경 변수)을 온톨로지로 표현하여 최적 개입 시점 결정에 활용 (Agent 07 핵심 온톨로지)'
                        },
                        {
                            name: 'SituationContext',
                            description: '상황별 맥락(분기목표 수립, 수업준비, 포모도르, 실시간 고민, 귀가검사 등)을 온톨로지로 표현하여 상황별 타게팅 전략 수립에 활용'
                        },
                        {
                            name: 'InteractionEffectiveness',
                            description: '상호작용 효과성(직전 개입 효과, 몰입 복구, 감정 변화)을 온톨로지로 표현하여 피드백 최적화에 활용'
                        }
                    ],
                    analysis: {
                        questionAnalysis: '이 질문 세트는 상호작용의 최적 타이밍을 결정하기 위한 핵심 판단 요소를 분석합니다. rules.yaml의 S1_R1~S1_R6 룰과 직접 연계됩니다.',
                        answerAnalysis: '학생 질문/도움 요청이 있으면 S1_R1 룰이 최우선으로 트리거됩니다. 포모도르 세션이 활성 상태면 S1_R2 룰이 집중도 하락을 감지합니다. 학습 마무리 시점이면 S1_R5 룰이 귀가검사 준비를 트리거합니다.',
                        ruleBasedActions: 'rules.yaml의 S1_R1~S1_R6 룰이 상황을 식별하고 우선순위를 결정하며, S3_R1~S3_R2 룰이 타이밍을 최적화합니다.'
                    }
                },
                2: {
                    questionSets: [
                        {
                            title: '상호작용 형태 최적화 질문',
                            questions: [
                                {
                                    text: '학생의 현재 감정 톤(낮음/중립/높음)에 맞는 피드백 톤(동조형/대조형)과 채널(음성/텍스트/시각)은 무엇인가?',
                                    dataSources: ['current_emotion_tone', 'emotion_tone_matching_feedback_tone', 'previous_feedback_tone_effectiveness', 'feedback_tone_preference_pattern', 'preferred_interaction_channel', 'text_feedback_effectiveness', 'voice_feedback_effectiveness', 'visual_feedback_effectiveness']
                                },
                                {
                                    text: '격려형/논리형/공감형/유머형 메시지 중 어떤 유형의 성공률이 가장 높은가?',
                                    dataSources: ['encouragement_message_success_rate', 'logical_message_success_rate', 'empathy_message_success_rate', 'humor_message_success_rate', 'feedback_tone_accumulated_preference']
                                },
                                {
                                    text: '메시지 길이(짧게/보통/길게)와 표현 강도(격려/조정/리마인드)를 종합 판단하여 최적의 상호작용 형식은?',
                                    dataSources: ['preferred_interaction_length', 'message_length_effectiveness', 'expression_intensity', 'encouragement_intensity', 'adjustment_intensity', 'reminder_intensity', 'pomodoro_state', 'conversation_fatigue_accumulation']
                                },
                                {
                                    text: '학생의 음성·표정 기반 감정 안정 시점과 피드백 후 재몰입까지 걸린 시간을 고려한 최적 상호작용 스타일은?',
                                    dataSources: ['emotion_stabilization_point', 'voice_expression_based_emotion', 'facial_expression_based_emotion', 'feedback_re_immersion_time', 'emotion_stability_after_feedback']
                                }
                            ]
                        },
                        {
                            title: '학습 단계별 상호작용 타겟팅 질문',
                            questions: [
                                {
                                    text: '개념 학습 단계에서 학생 수준(하위권/중위권/상위권)에 따라 도제학습 vs 탐구학습 중 어떤 모드가 효과적인가?',
                                    dataSources: ['current_learning_stage', 'student_level', 'concept_learning_stage', 'apprenticeship_learning_mode', 'inquiry_learning_mode', 'concentration_score', 'energy_level']
                                },
                                {
                                    text: '유형 연습 단계에서 단기미션 vs 자기주도 모드 중 선택 기준은 무엇인가?',
                                    dataSources: ['type_practice_stage', 'short_term_mission_mode', 'self_directed_mode', 'student_level', 'energy_level', 'concentration_score']
                                },
                                {
                                    text: '심화 문제 단계에서 자기성찰 vs 맞춤학습 모드 선택 시 고려해야 할 에너지와 집중도 기준은?',
                                    dataSources: ['advanced_problem_stage', 'self_reflection_mode', 'customized_learning_mode', 'energy_level', 'concentration_score', 'student_level']
                                },
                                {
                                    text: '기출 문제 단계에서 시험 D-day에 따라 시험대비 vs 시간성찰 모드 중 우선순위는?',
                                    dataSources: ['past_exam_stage', 'exam_dday', 'exam_prep_mode', 'time_reflection_mode', 'exam_dday_threshold']
                                }
                            ]
                        },
                        {
                            title: '단원별 특성 기반 타겟팅 질문',
                            questions: [
                                {
                                    text: '함수 단원(추상적) vs 통계 단원(실용적) vs 도형 단원(시각적) vs 방정식 단원(계산적)에 따라 권장 모드가 다른가?',
                                    dataSources: ['current_unit_id', 'unit_characteristics', 'function_unit_abstract', 'statistics_unit_practical', 'geometry_unit_visual', 'equation_unit_calculational', 'recommended_mode_by_unit']
                                },
                                {
                                    text: '단원 정답률이 50% 미만인 취약 단원과 70% 이상인 강한 단원에 따라 모드 조정이 필요한가?',
                                    dataSources: ['unit_correct_rate', 'unit_mastery_level', 'weak_unit_mode_adjustment', 'strong_unit_mode_adjustment', 'unit_difficulty_score']
                                }
                            ]
                        }
                    ],
                    ontology: [
                        {
                            name: 'InteractionForm',
                            description: '상호작용 형태(톤, 채널, 길이, 강도)를 온톨로지로 표현하여 최적 상호작용 형식 결정에 활용'
                        },
                        {
                            name: 'LearningStageTargeting',
                            description: '학습 단계별(개념/유형/심화/기출) 타겟팅 전략을 온톨로지로 표현하여 단계별 모드 선택에 활용'
                        },
                        {
                            name: 'UnitCharacteristicTargeting',
                            description: '단원별 특성(추상적/실용적/시각적/계산적) 기반 타겟팅을 온톨로지로 표현하여 단원별 모드 조정에 활용'
                        }
                    ],
                    analysis: {
                        questionAnalysis: '이 질문 세트는 상호작용의 최적 형태와 스타일을 결정하기 위한 판단 기준을 분석합니다. rules.yaml의 S2_R1~S2_R13 룰과 직접 연계됩니다.',
                        answerAnalysis: '개념 학습 단계면 S2_R1 룰이 도제학습/탐구학습 모드를 권장합니다. 유형 연습 단계면 S2_R2 룰이 단기미션/자기주도 모드를 권장합니다. 단원 특성이 있으면 S2_R5 룰이 단원별 모드를 조정합니다.',
                        ruleBasedActions: 'rules.yaml의 S2_R1~S2_R4 룰이 학습 단계별 타겟팅을 수행하고, S2_R5~S2_R6 룰이 단원별 특성 기반 타겟팅을 수행하며, S2_R7~S2_R10 룰이 학생 수준별 타겟팅을 수행합니다.'
                    }
                },
                3: {
                    questionSets: [
                        {
                            title: '장기 루틴과 정서 루프 연계 질문',
                            questions: [
                                {
                                    text: '이번 개입이 단순한 반응(즉시 위로/격려)이 될지, 루틴 강화(습관 유지), 정서 회복, 자기인식 촉진(메타인지 대화) 중 어떤 목표를 가져야 할까?',
                                    dataSources: ['interaction_goal_type', 'simple_reaction_needed', 'routine_reinforcement_needed', 'emotional_recovery_needed', 'self_awareness_promotion_needed', 'routine_maintenance_success_rate', 'emotional_recovery_pattern', 'metacognition_awareness_level', 'goal_emotion_alignment_rate', 'interaction_effectiveness_accumulated_score']
                                },
                                {
                                    text: '루틴 유지 성공률, 정서 회복 패턴, 메타인지 자각도를 고려한 상호작용 목표 우선순위는?',
                                    dataSources: ['routine_maintenance_success_rate', 'emotional_recovery_pattern', 'metacognition_awareness_level', 'goal_emotion_alignment_rate', 'interaction_effectiveness_accumulated_score', 'long_term_routine_id', 'emotional_loop_pattern']
                                },
                                {
                                    text: '학원 수업 전 예습 vs 수업 후 복습 상황에서, 각각 어떤 모드와 목적이 적합한가?',
                                    dataSources: ['academy_class_scheduled', 'academy_class_time', 'current_time', 'academy_prep_mode', 'academy_review_mode', 'prep_timing', 'review_timing', 'same_day_review_priority']
                                },
                                {
                                    text: '시험 D-day에 따라 상호작용 목표와 모드 우선순위가 어떻게 조정되어야 하는가?',
                                    dataSources: ['exam_dday', 'exam_dday_threshold_3days', 'exam_dday_threshold_7days', 'exam_dday_threshold_14days', 'exam_prep_mode_priority', 'time_reflection_mode_priority', 'customized_learning_mode_priority', 'short_term_mission_mode_priority']
                                }
                            ]
                        },
                        {
                            title: '시간대별 및 에너지/집중도 기반 타이밍 질문',
                            questions: [
                                {
                                    text: '아침(6-9시)/오전(9-12시)/오후(12-18시)/저녁(18-22시)/밤(22시 이후) 시간대별 최적 활동과 권장 모드는?',
                                    dataSources: ['current_time_slot', 'morning_optimal_activity', 'afternoon_optimal_activity', 'evening_optimal_activity', 'night_optimal_activity', 'time_slot_recommended_mode']
                                },
                                {
                                    text: '에너지 레벨(높음/보통/낮음)과 집중도(7 이상/6 이상/5 미만) 조합에 따른 최적 활동과 권장 모드는?',
                                    dataSources: ['energy_level', 'concentration_score', 'high_energy_high_focus_activity', 'normal_energy_normal_focus_activity', 'low_energy_low_focus_activity', 'energy_focus_recommended_mode', 'avoid_activity_when_low']
                                },
                                {
                                    text: '모드 우선순위 종합 계산 시 학습 단계별(30점) + 단원별(20점) + 학생 수준별(20점) + 시간대별(15점) + 에너지 집중도(10점) + 학원 수업 맥락(5점) 가중치가 적절한가?',
                                    dataSources: ['mode_score_calculation', 'learning_stage_weight', 'unit_weight', 'student_level_weight', 'time_slot_weight', 'energy_focus_weight', 'academy_context_weight', 'final_mode_selection']
                                }
                            ]
                        },
                        {
                            title: '상호작용 효과 누적 및 피드백 피로 관리 질문',
                            questions: [
                                {
                                    text: '상호작용 반복 빈도와 실패율(무반응/거부)을 고려한 적정 주기(분 단위)는?',
                                    dataSources: ['interaction_repetition_frequency', 'interaction_failure_rate', 'no_response_rate', 'rejection_rate', 'optimal_interaction_cycle_minutes', 'interaction_effectiveness_maintenance_time']
                                },
                                {
                                    text: '피드백 피로 누적치와 상호작용 효과 소멸 시간을 고려한 개입 강도 설정값(0~1.0)은?',
                                    dataSources: ['feedback_fatigue_accumulation', 'interaction_effect_decay_time', 'intervention_intensity_setting', 'current_interaction_priority', 'interaction_effectiveness_accumulated_score']
                                },
                                {
                                    text: '타게팅 실패 후 복구 시간과 타게팅 후 루틴 복귀 성공률을 고려한 재시도 전략은?',
                                    dataSources: ['targeting_failure_recovery_time', 'targeting_routine_return_success_rate', 'interaction_prediction_model_accuracy', 'targeting_effectiveness_accumulated_score']
                                }
                            ]
                        }
                    ],
                    ontology: [
                        {
                            name: 'LongTermRoutineEmotionalLoop',
                            description: '장기 루틴과 정서 루프의 연계 관계를 온톨로지로 표현하여 상호작용 목표 결정에 활용 (Agent 07 핵심 온톨로지)'
                        },
                        {
                            name: 'TimeSlotEnergyFocusOptimization',
                            description: '시간대별 및 에너지/집중도 기반 타이밍 최적화를 온톨로지로 표현하여 최적 활동 및 모드 선택에 활용'
                        },
                        {
                            name: 'InteractionFatigueManagement',
                            description: '상호작용 피로 관리(반복 빈도, 효과 소멸, 복구 전략)를 온톨로지로 표현하여 지속 가능한 상호작용 설계에 활용'
                        },
                        {
                            name: 'ModeSelectionScoring',
                            description: '모드 선택 점수 계산(가중치 기반)을 온톨로지로 표현하여 최종 모드 선정에 활용'
                        }
                    ],
                    analysis: {
                        questionAnalysis: '이 질문 세트는 상호작용이 장기 루틴과 정서 루프 안에서 어떤 의미를 가져야 하는지 분석합니다. rules.yaml의 S3_R1~S3_R3 룰과 직접 연계됩니다.',
                        answerAnalysis: '시간대별 타겟팅은 S3_R1 룰이 수행하고, 에너지/집중도 기반 타이밍 조정은 S3_R2 룰이 수행합니다. 모드 우선순위 종합 계산은 S3_R3 룰이 수행합니다.',
                        ruleBasedActions: 'rules.yaml의 S3_R1~S3_R2 룰이 타이밍을 최적화하고, S3_R3 룰이 최종 모드를 선정합니다. S2_R11~S2_R13 룰이 학원 수업 맥락과 시험 D-day를 고려합니다.'
                    }
                }
            },
            // Agent 08: 침착도 (상세 작성)
            agent08: {
                1: {
                    questionSets: [
                        {
                            title: '사고 속도와 판단 균형 분석 질문',
                            questions: [
                                {
                                    text: '연속 오답이 5회 이상 발생한 경우, 풀이 시간과 침착도 점수의 상관관계는? 확인 단계 없이 답을 선택한 구간은 어디인가?',
                                    dataSources: ['consecutive_errors', 'calm_score', 'solving_speed', 'verification_skipped', 'average_solving_time']
                                },
                                {
                                    text: '정답률은 높으나 풀이 속도가 평소보다 30% 이상 빠른 경우, 직감형 풀이와 확신형 풀이의 비율은?',
                                    dataSources: ['accuracy_rate', 'solving_speed', 'average_solving_time', 'intuition_problems_count', 'certainty_problems_count']
                                },
                                {
                                    text: '정답률은 낮고 풀이 속도는 느린 경우, 확신 부족으로 인한 주저 패턴이 몇 회 발생했는가? 선택 직전 멈춤 구간의 사고흐름은?',
                                    dataSources: ['accuracy_rate', 'solving_speed', 'hesitation_count', 'average_solving_time', 'uncertainty_pattern_detection']
                                },
                                {
                                    text: '침착도 점수가 85 미만이고 집중력이 저하된 구간에서 피로 누적형인지 순간 산만형인지 구분은?',
                                    dataSources: ['calm_score', 'focus_decline_segments', 'decline_percentage', 'session_duration', 'decline_type']
                                }
                            ]
                        },
                        {
                            title: '사고 루틴 조정 전략 질문',
                            questions: [
                                {
                                    text: '급한 선택 패턴이 감지된 경우, 검증→선택→점검 루틴 적용을 위한 멈춤 전략(5초 점검, 근거 확언) 설계는?',
                                    dataSources: ['rapid_decision_warning', 'solving_speed', 'calm_score', 'consecutive_errors', 'verification_skipped']
                                },
                                {
                                    text: '직감형 풀이 패턴이 누적된 경우, 자기검증 질문과 근거 명시 훈련 전략은?',
                                    dataSources: ['intuition_problems_count', 'certainty_problems_count', 'intuition_warning', 'confidence_intuition_comparison']
                                },
                                {
                                    text: '확신 부족형 문제가 감지된 경우, 자기 피드백 문항(무엇이 나를 망설이게 했을까?) 생성 및 사고흐름 시각화는?',
                                    dataSources: ['hesitation_count', 'accuracy_rate', 'hesitation_pattern_visualization', 'self_reflection_questions']
                                }
                            ]
                        }
                    ],
                    ontology: [
                        {
                            name: 'ThoughtSpeedBalance',
                            description: '사고 속도와 판단 균형(빠름/느림 불균형)을 온톨로지로 표현하여 사고 루틴 조정에 활용 (Agent 08 핵심 온톨로지)'
                        },
                        {
                            name: 'CalmnessRoutine',
                            description: '침착도 향상 사고 루틴(검증→선택→점검, 멈춤 전략)을 온톨로지로 표현하여 루틴 설계에 활용'
                        },
                        {
                            name: 'JudgmentPattern',
                            description: '판단 패턴(직감형/확신형/생략형)을 온톨로지로 표현하여 패턴 식별 및 교정 전략 수립에 활용'
                        },
                        {
                            name: 'FocusDeclineType',
                            description: '집중력 저하 유형(피로 누적형/순간 산만형)을 온톨로지로 표현하여 원인별 대응 전략 수립에 활용'
                        }
                    ],
                    analysis: {
                        questionAnalysis: '이 질문 세트는 사고 속도와 판단의 균형을 종합 분석하여 침착도를 높이는 사고 루틴을 제시합니다. rules.yaml의 S1~S4 시나리오와 직접 연계됩니다.',
                        answerAnalysis: '연속 오답이 5회 이상이면 R1 룰이 트리거되어 불안정한 판단 패턴을 감지합니다. 정답률 높고 속도 빠르면 R2 룰이 직감형 풀이를 분류합니다. 정답률 낮고 속도 느리면 R3 룰이 확신 부족형 문제를 감지합니다.',
                        ruleBasedActions: 'rules.yaml의 R1~R1b 룰이 연속 오답과 확인 단계 생략을 분석하고, R2~R2b 룰이 직감형 풀이 패턴을 분류하며, R3~R3b 룰이 확신 부족형 문제를 감지합니다. R4~R4c 룰이 집중력 저하 구간을 분석합니다.'
                    }
                },
                2: {
                    questionSets: [
                        {
                            title: '사고 패턴 강화 및 교정 질문',
                            questions: [
                                {
                                    text: '최근 오답 패턴에서 직감형 판단, 불확신형 회피, 생략형 사고 중 어떤 패턴이 주요 리스크인가?',
                                    dataSources: ['recent_error_pattern', 'certainty_signals', 'forced_attempt_ratio', 'thought_omission_rate', 'judgment_pattern_type']
                                },
                                {
                                    text: '확신 신호와 무리한 시도 비율, 사고 생략률을 종합하여 각 패턴별 피드백 전략(자기검증 질문, 근거 명시 훈련, 시간 관리 루틴) 설계는?',
                                    dataSources: ['certainty_signals', 'forced_attempt_ratio', 'thought_omission_rate', 'self_verification_questions', 'reasoning_training']
                                },
                                {
                                    text: '시험 대비 모드에서 불안정한 판단 패턴(시간압박, 실수, 직감선택)이 감지된 경우, 실전형 침착 루틴(심호흡, 5초 점검법) 추천은?',
                                    dataSources: ['exam_mode', 'calm_score', 'time_pressure_indicators', 'error_rate', 'unstable_patterns_count']
                                },
                                {
                                    text: '전일 대비 침착도가 15% 이상 하락한 경우, 감정 데이터와 피로 데이터를 교차 분석하여 원인 구분은?',
                                    dataSources: ['calm_score', 'previous_day_calm', 'calm_decline_percentage', 'emotional_data_available', 'decline_cause']
                                }
                            ]
                        },
                        {
                            title: '화이트보드 로그 기반 오답 원인 분석 질문',
                            questions: [
                                {
                                    text: '학생이 무리하게 시도한 문제들의 화이트보드 로그를 분석하여 각 문항별 사고 생략 구간은?',
                                    dataSources: ['error_analysis_requested', 'whiteboard_logs_available', 'thought_omission_count', 'error_cause_analysis_request']
                                },
                                {
                                    text: '학생이 직접 선택할 수 있는 오답 원인 항목(시간압박, 근거부족, 자신감과잉, 착각, 피로, 계산실수, 개념혼동, 조건놓침, 수식오류) 중 어떤 것이 주요 원인인가?',
                                    dataSources: ['error_analysis_requested', 'error_causes_generated', 'self_selection_error_causes', 'error_type']
                                }
                            ]
                        }
                    ],
                    ontology: [
                        {
                            name: 'ThoughtPatternRisk',
                            description: '사고 패턴 리스크(직감형/불확신형/생략형)를 온톨로지로 표현하여 패턴별 교정 전략 수립에 활용'
                        },
                        {
                            name: 'FeedbackStrategy',
                            description: '피드백 전략(자기검증 질문, 근거 명시 훈련, 시간 관리 루틴)을 온톨로지로 표현하여 패턴별 맞춤 전략 설계에 활용'
                        },
                        {
                            name: 'ExamCalmRoutine',
                            description: '실전형 침착 루틴(심호흡, 5초 점검법)을 온톨로지로 표현하여 시험 모드 대응 전략에 활용'
                        },
                        {
                            name: 'ErrorCauseClassification',
                            description: '오답 원인 분류(시간압박, 근거부족, 계산실수 등)를 온톨로지로 표현하여 원인별 대응 전략 수립에 활용'
                        }
                    ],
                    analysis: {
                        questionAnalysis: '이 질문 세트는 침착도 데이터를 기반으로 학습 과정에서 강화하거나 교정해야 할 사고 패턴을 식별합니다.',
                        answerAnalysis: '오답 패턴 분석은 R7~R7b 룰이 수행하고, 시험 모드 불안정 패턴은 R5~R5c 룰이 감지합니다. 전일 대비 침착도 하락은 R6~R6c 룰이 분석합니다.',
                        ruleBasedActions: 'rules.yaml의 R5~R5c 룰이 시험 대비 모드에서 불안정한 판단 패턴을 검출하고, R6~R6c 룰이 전일 대비 침착도 급하락을 분석하며, R7~R7b 룰이 오답 원인 파악을 수행합니다.'
                    }
                },
                3: {
                    questionSets: [
                        {
                            title: '침착도 변화 추이 및 장기 개선 방향 질문',
                            questions: [
                                {
                                    text: '최근 1개월간 침착도, 확신도, 정답률 추이를 비교 분석하여 사고의 안정성 성장곡선은?',
                                    dataSources: ['calm_score', 'certainty_score', 'accuracy_rate', 'recent_average', 'baseline_calm', 'calm_trend']
                                },
                                {
                                    text: '감정, 피로, 집중도 데이터와 침착도 추이를 교차 분석하여 장기적인 사고 습관 개선 방향(과속형→점검형, 회피형→근거형)은?',
                                    dataSources: ['emotion_score', 'fatigue_pattern', 'focus_decline_segments', 'calm_trend', 'calm_consistency', 'calm_variance']
                                },
                                {
                                    text: '침착도 일관성 분석: 변동성이 15 이상인 경우, 일관성 향상을 위한 전략은?',
                                    dataSources: ['recent_min', 'recent_max', 'calm_variance', 'calm_consistency', 'data_count']
                                },
                                {
                                    text: '화이트보드 피드백 누적 데이터(10회 이상)를 분석하여 학습심리 변화와 침착도 패턴의 연관성은?',
                                    dataSources: ['whiteboard_feedback_count', 'learning_psychology_change_requested', 'accumulated_whiteboard_feedback', 'calm_score']
                                }
                            ]
                        },
                        {
                            title: '문제 유형 및 단원별 침착도 관리 질문',
                            questions: [
                                {
                                    text: '문제 유형(계산형/개념형/응용형/증명형)별 침착도 기준선을 적용하여 현재 침착도 해석은?',
                                    dataSources: ['problem_type', 'calm_score', 'problem_type_calm_db', 'type_baseline']
                                },
                                {
                                    text: '단원별 침착도 특성을 적용하여 현재 단원에서 침착도 저하 시 단원 특화 복구 전략은?',
                                    dataSources: ['current_unit', 'calm_score', 'unit_baseline', 'unit_calm_decline_intervention', 'prerequisite_mastery']
                                },
                                {
                                    text: '학생 수준별(상위권/중위권/하위권) 침착도 기준선을 적용하여 개인 기준선 대비 현재 침착도는?',
                                    dataSources: ['student_level', 'calm_score', 'personal_baseline', 'calm_data_count', 'level_baseline']
                                }
                            ]
                        },
                        {
                            title: '수학 오류 유형별 침착도 패턴 분석 질문',
                            questions: [
                                {
                                    text: '수학 오류 유형(계산실수/개념오류/조건놓침/수식오류)별 침착도 패턴 상관관계는?',
                                    dataSources: ['error_type', 'calm_score', 'calculation_error_calm_correlation', 'concept_error_calm_correlation', 'condition_miss_calm_correlation']
                                },
                                {
                                    text: '문제 난이도(기본/심화)별 침착도 기준선 차별화 및 난이도별 개입 전략은?',
                                    dataSources: ['problem_difficulty', 'calm_score', 'difficulty_baseline', 'difficulty_specific_intervention']
                                },
                                {
                                    text: '학습 단계(개념학습/유형연습/심화)별 침착도 기준 차별화 및 단계별 관리 전략은?',
                                    dataSources: ['learning_stage', 'calm_score', 'stage_baseline', 'concept_learning_stage_calm', 'practice_stage_calm']
                                }
                            ]
                        }
                    ],
                    ontology: [
                        {
                            name: 'CalmnessTrend',
                            description: '침착도 변화 추이(성장곡선, 일관성, 변동성)를 온톨로지로 표현하여 장기 개선 방향 도출에 활용'
                        },
                        {
                            name: 'ThoughtHabitImprovement',
                            description: '사고 습관 개선 방향(과속형→점검형, 회피형→근거형)을 온톨로지로 표현하여 장기 전략 수립에 활용'
                        },
                        {
                            name: 'ProblemTypeCalmness',
                            description: '문제 유형별 침착도 특성을 온톨로지로 표현하여 유형별 차별화된 관리에 활용'
                        },
                        {
                            name: 'UnitCalmnessManagement',
                            description: '단원별 침착도 특성과 관리 전략을 온톨로지로 표현하여 단원 특화 개입에 활용'
                        },
                        {
                            name: 'StudentLevelCalmness',
                            description: '학생 수준별 침착도 기준선을 온톨로지로 표현하여 개인 맞춤형 해석에 활용'
                        },
                        {
                            name: 'ErrorTypeCalmnessCorrelation',
                            description: '오류 유형별 침착도 상관관계를 온톨로지로 표현하여 정밀한 원인 파악에 활용'
                        },
                        {
                            name: 'ComprehensiveCalmAnalysis',
                            description: '문제 유형, 단원, 학생 수준, 난이도를 종합한 침착도 분석을 온톨로지로 표현하여 다중 요소 통합 해석에 활용'
                        }
                    ],
                    analysis: {
                        questionAnalysis: '이 질문 세트는 침착도 변화 추이를 분석하여 중장기적으로 필요한 사고 습관 개선 방향을 추천합니다. 문제 유형, 단원, 학생 수준, 난이도를 종합 분석합니다.',
                        answerAnalysis: '침착도 추이 분석은 R11~R11b 룰이 수행하고, 문제 유형별 해석은 R12~R12d 룰이 담당합니다. 단원별 관리는 R13~R13b 룰이 수행하고, 학생 수준별 해석은 R14~R14d 룰이 담당합니다. 오류 유형별 패턴은 R15~R15d 룰이 분석합니다.',
                        ruleBasedActions: 'rules.yaml의 R11~R11b 룰이 장기적 침착도 향상을 분석하고, R12~R12d 룰이 문제 유형별 침착도 해석을 수행하며, R13~R13b 룰이 단원별 침착도 관리를 담당합니다. R14~R14d 룰이 학생 수준별 침착도 해석을 수행하고, R15~R15d 룰이 오류 유형별 침착도 패턴을 분석합니다. R18 룰이 복합 상황 통합 분석을 수행합니다.'
                    }
                },
                ontology: [
                    {
                        name: 'CalmnessPattern',
                        description: '침착도 패턴(사고 속도/판단 균형)을 온톨로지로 표현'
                    }
                ],
                analysis: {
                    questionAnalysis: 'Agent 08은 학생의 침착도 데이터를 기반으로 사고 속도와 판단의 균형을 분석하고, 사고 패턴을 강화하거나 교정하며, 장기적인 사고 습관 개선 방향을 제시합니다.',
                    answerAnalysis: '침착도 데이터는 문제 유형, 단원, 학생 수준, 난이도 등 다중 요소를 종합하여 해석되며, 각 상황별 룰이 자동으로 트리거됩니다.',
                    ruleBasedActions: 'S1~S7 시나리오 룰이 각 상황별 침착도 분석을 담당하고, S8~S18 룰이 침착도 수준별, 추이별, 유형별, 단원별, 수준별, 오류 유형별, 난이도별, 학습 단계별 관리와 복합 상황 통합 분석을 수행합니다.'
                }
            },
            agent09: {
                1: {
                    questionSets: [
                        {
                            title: '학습관리 데이터 종합 분석 질문',
                            questions: [
                                {
                                    text: '최근 2주간 학습 데이터 밀도가 30% 이하로 떨어진 경우, 주요 누락 항목(출결/목표/포모도로/오답노트/시험)과 원인(시간관리/심리요인/환경요인)은?',
                                    dataSources: ['attendance_data', 'goal_data', 'pomodoro_data', 'wrong_note_data', 'test_data', 'data_density', 'data_balance_score']
                                },
                                {
                                    text: '데이터 생성 빈도, 루틴 유지율, 포모도르 누락률, 감정기복, 시스템 신뢰도를 종합하여 학습 관리력 저하의 근본 원인은?',
                                    dataSources: ['data_density', 'routine_maintenance_rate', 'pomodoro_missing_rate', 'emotion_score', 'system_reliability_grade', 'data_consistency']
                                },
                                {
                                    text: '활동데이터 희박형/데이터 불균형형/패턴불안정형/자동화 저항형/퇴원위험형 중 어떤 유형에 해당하며, 각 유형별 리스크 등급은?',
                                    dataSources: ['pattern_type', 'data_density_score', 'data_balance_score', 'pattern_stability_score', 'dropout_risk_score', 'risk_level']
                                },
                                {
                                    text: '출결, 목표, 포모도로, 오답노트, 시험 데이터 간 상관관계 분석 결과, 가장 취약한 연계 지점은?',
                                    dataSources: ['attendance_pomodoro_correlation', 'goal_test_score_correlation', 'wrong_note_study_time_correlation', 'pomodoro_test_performance_correlation', 'overall_consistency_score']
                                },
                                {
                                    text: '데이터 신뢰도 등급(A/B/C/D)과 데이터 효과성(성과와의 연관성)을 고려한 분석 가능성 평가는?',
                                    dataSources: ['data_reliability_grade', 'data_effectiveness', 'data_density', 'data_consistency']
                                }
                            ]
                        },
                        {
                            title: '이탈 위험도 및 원인 분석 질문',
                            questions: [
                                {
                                    text: '연속 로그 공백, 포모도로 미작성, 목표 포기, 활동 데이터 희박도가 동시에 나타난 경우, 이탈 위험도 등급(주의/경고/긴급)은?',
                                    dataSources: ['consecutive_log_gaps', 'pomodoro_non_completion', 'goal_abandonment', 'activity_data_sparsity', 'dropout_risk_score', 'risk_level']
                                },
                                {
                                    text: '이탈 원인 다차원 분석: 학습 어려움/동기 저하/시간 부족/환경 변화 중 우선순위가 높은 원인은?',
                                    dataSources: ['learning_difficulty_cause', 'motivation_decline_cause', 'time_constraint_cause', 'environment_change_cause', 'root_cause', 'cause_priority']
                                },
                                {
                                    text: '최근 1개월간 로그 공백·포모도르 미작성·귀가검사 누락이 동시에 나타난 경우, 재진입 유도 전략은?',
                                    dataSources: ['dropout_duration', 'risk_level', 'reentry_strategy', 'easy_goal_path', 'achievement_experience']
                                }
                            ]
                        }
                    ],
                    ontology: [
                        {
                            name: 'LearningManagementData',
                            description: '학습관리 데이터(출결/목표/포모도로/오답노트/시험)를 온톨로지로 표현하여 종합 분석에 활용 (Agent 09 핵심 온톨로지)'
                        },
                        {
                            name: 'DataReliabilityPattern',
                            description: '데이터 신뢰도 패턴(밀도/일관성/효과성)을 온톨로지로 표현하여 분석 가능성 평가에 활용'
                        },
                        {
                            name: 'DropoutRiskPattern',
                            description: '이탈 위험도 패턴(징후/원인/등급)을 온톨로지로 표현하여 조기 경고 시스템에 활용'
                        },
                        {
                            name: 'DataCorrelationNetwork',
                            description: '데이터 간 상관관계 네트워크를 온톨로지로 표현하여 취약 연계 지점 식별에 활용'
                        }
                    ],
                    analysis: {
                        questionAnalysis: '이 질문 세트는 학습관리 데이터 전체를 종합하여 취약/불안정 부분과 원인 패턴을 구조적으로 진단합니다. rules.yaml의 S0~S1 시나리오와 직접 연계됩니다.',
                        answerAnalysis: '데이터 밀도가 30% 이하이면 S0_R2 룰이 패턴 유형을 분류합니다. 데이터 신뢰도가 C/D 등급이면 S0_R5 룰이 학생 설문을 생성합니다. 이탈 위험도가 경고/긴급이면 S1_R1 룰이 위험도를 산정합니다.',
                        ruleBasedActions: 'rules.yaml의 S0_R1~S0_R8 룰이 필수 데이터 수집 및 패턴 유형 진단을 수행하고, S1_R1~S1_R5 룰이 이탈 조기 경고 및 위험도 평가를 수행합니다. 데이터 부족 시 S0_R5 룰이 학생 설문을 자동 생성합니다.'
                    }
                },
                2: {
                    questionSets: [
                        {
                            title: '피드백 루프 재설계 질문',
                            questions: [
                                {
                                    text: '개념노트와 문제노트 생성 비율이 비정상적으로 차이 나는 경우, 학습루틴 불균형 원인과 균형 회복 중심의 피드백 설계는?',
                                    dataSources: ['concept_note_data', 'problem_note_data', 'data_balance_score', 'learning_routine_imbalance', 'feedback_loop_redesign']
                                },
                                {
                                    text: '루틴 붕괴 주기와 자동화 저항 패턴을 분석하여, 우선순위 높은 피드백 영역(계획-실행-검증 중 어디)은?',
                                    dataSources: ['routine_collapse_cycle', 'automation_resistance_pattern', 'feedback_priority_area', 'planning_execution_verification']
                                },
                                {
                                    text: '시스템 피드백 실행률이 50% 이하인 경우, 피드백 저항 이유 유형화와 내적 동기 재활성화 중심의 맞춤 피드백 문구는?',
                                    dataSources: ['system_feedback_execution_rate', 'feedback_resistance_reason', 'internal_motivation_reactivation', 'customized_feedback_message']
                                },
                                {
                                    text: '최근 4주간 포모도르 지속시간과 활동결과 밀도의 변동폭이 큰 경우, 감정리듬과 학습리듬을 동기화시키는 개입전략은?',
                                    dataSources: ['pomodoro_duration_variance', 'activity_result_density_variance', 'emotion_rhythm', 'learning_rhythm', 'intervention_strategy']
                                },
                                {
                                    text: '데이터 불균형(개념/문제/복습 간)을 분석하여, 어떤 행동전략/알림 방식이 지속적 성장을 만들 수 있는가?',
                                    dataSources: ['concept_problem_review_imbalance', 'behavior_strategy', 'notification_method', 'sustainable_growth_pattern']
                                }
                            ]
                        },
                        {
                            title: '개인화 루틴 설계 질문',
                            questions: [
                                {
                                    text: '학습 스타일, 집중 시간대, 목표 선호도를 기반으로 개인화된 일일/주간 루틴 설계는?',
                                    dataSources: ['learning_style_preference', 'optimal_time_slots', 'goal_preference_pattern', 'focus_duration_capacity', 'personalized_daily_routine', 'personalized_weekly_routine']
                                },
                                {
                                    text: '패턴 안정도 평가 기반 루틴 조정 시점 판단: 루틴 고정 vs 계속 조정 중 어떤 전략이 필요한가?',
                                    dataSources: ['pattern_stability_score', 'routine_effectiveness', 'adjustment_necessity', 'optimal_adjustment_cycle']
                                },
                                {
                                    text: '루틴 실행 가능성 검증: 일일 시간 예산, 과부하 방지, 학생 수용성을 고려한 현실적인 계획은?',
                                    dataSources: ['daily_time_budget', 'routine_time_requirement', 'overload_prevention', 'student_acceptance']
                                }
                            ]
                        }
                    ],
                    ontology: [
                        {
                            name: 'FeedbackLoopDesign',
                            description: '피드백 루프 설계(계획-실행-검증)를 온톨로지로 표현하여 우선순위 영역 식별에 활용'
                        },
                        {
                            name: 'RoutineCollapsePattern',
                            description: '루틴 붕괴 주기와 자동화 저항 패턴을 온톨로지로 표현하여 피드백 재설계에 활용'
                        },
                        {
                            name: 'PersonalizedRoutine',
                            description: '개인화 루틴(학습 스타일/시간대/목표 선호도)을 온톨로지로 표현하여 맞춤형 설계에 활용'
                        },
                        {
                            name: 'DataBalancePattern',
                            description: '데이터 불균형 패턴(개념/문제/복습)을 온톨로지로 표현하여 균형 회복 전략에 활용'
                        }
                    ],
                    analysis: {
                        questionAnalysis: '이 질문 세트는 학습관리 데이터를 기반으로 피드백 루프를 재설계하여 지속적 성장을 만들기 위한 데이터를 수집합니다. rules.yaml의 S3~S6 시나리오와 직접 연계됩니다.',
                        answerAnalysis: '데이터 불균형이 감지되면 S0_R3 룰이 상관관계를 분석합니다. 루틴 붕괴가 감지되면 S3_R1 룰이 개인화 루틴을 생성합니다. 피드백 실행률이 50% 이하이면 S6_R2 룰이 개선 피드백 루프를 실행합니다.',
                        ruleBasedActions: 'rules.yaml의 S3_R1~S3_R4 룰이 개인화 루틴 설계를 수행하고, S4_R1~S4_R2 룰이 원인 분석을 수행하며, S6_R1~S6_R3 룰이 개선 피드백 루프를 관리합니다.'
                    }
                },
                3: {
                    questionSets: [
                        {
                            title: '루틴적 습관 강화 질문',
                            questions: [
                                {
                                    text: '최근 4주간의 데이터 일관성, 루틴 유지 성공률, 피드백 반영률을 종합하여 관리 안정성 향상 시나리오는?',
                                    dataSources: ['data_consistency_4weeks', 'routine_maintenance_success_rate', 'feedback_reflection_rate', 'management_stability_scenario']
                                },
                                {
                                    text: '시스템 의존도와 회복속도를 고려한 습관화 루틴과 자동화 개입 포인트는?',
                                    dataSources: ['system_dependency', 'recovery_speed', 'habitual_routine', 'automation_intervention_point']
                                },
                                {
                                    text: '지속적으로 높은 데이터 일관성을 보이는 학생들의 공통 루틴 패턴을 도출하여 학습관리 우수사례 피드백으로 전파할 수 있는가?',
                                    dataSources: ['high_consistency_student_patterns', 'common_routine_patterns', 'excellence_case_feedback', 'pattern_propagation']
                                },
                                {
                                    text: '루틴 효과 추적 및 개선 피드백 루프: 루틴 실행률, 학습 성과, 적용 전후 비교를 통한 지속적 개선은?',
                                    dataSources: ['routine_execution_rate', 'learning_outcomes', 'before_after_comparison', 'routine_effectiveness_score', 'improvement_recommendations']
                                }
                            ]
                        },
                        {
                            title: '수학 교과 특화 관리 질문',
                            questions: [
                                {
                                    text: '수학 단원별 오류 분석 및 취약점 매핑을 통한 단원별 복습 우선순위는?',
                                    dataSources: ['math_unit_error_distribution', 'concept_error_mapping', 'weak_math_units', 'weak_math_concepts', 'math_unit_review_priority']
                                },
                                {
                                    text: '수학 학습 루틴 특화(개념-유형-심화 순서)와 단원별 학습 시간 산정, 복습 주기(1일/3일/7일) 설계는?',
                                    dataSources: ['math_learning_routine_specialization', 'concept_first_routine', 'type_practice_routine', 'advanced_problem_routine', 'math_unit_study_time', 'math_review_cycle']
                                },
                                {
                                    text: '수학 학습 효율성 지표(개념 마스터링 속도, 문제 풀이 속도, 오류 감소율) 산정 및 벤치마크 비교는?',
                                    dataSources: ['concept_mastery_speed', 'problem_solving_speed', 'error_reduction_rate', 'math_learning_efficiency_score', 'efficiency_vs_benchmark']
                                },
                                {
                                    text: '수학 학습 습관 평가(풀이 과정 기록, 개념 정리, 오답 분석 깊이)를 통한 기본기 강화 방안은?',
                                    dataSources: ['solution_process_recording', 'concept_organization_pattern', 'error_analysis_depth', 'math_note_quality', 'math_learning_habit_score']
                                }
                            ]
                        },
                        {
                            title: '시계열 분석 및 패턴 변화 추적 질문',
                            questions: [
                                {
                                    text: '30일 이상 데이터를 기반으로 시계열 분석 및 패턴 변화 추적: 추세 방향과 미래 추세 예측은?',
                                    dataSources: ['data_history', 'time_series_trend', 'change_rate', 'pattern_shifts', 'trend_direction', 'future_trend']
                                },
                                {
                                    text: '패턴 변화율이 30% 이상인 경우, 이상 징후 탐지 및 경고, 이상 대응 권장사항은?',
                                    dataSources: ['pattern_change_rate', 'anomalies', 'anomaly_type', 'anomaly_severity', 'anomaly_warning', 'anomaly_response']
                                },
                                {
                                    text: '학생 수준 변화 감지 및 전략 자동 조정: 수준 변화 일관성 검증 및 새 수준에 맞는 학습 루틴 업데이트는?',
                                    dataSources: ['current_level', 'previous_level', 'level_change', 'level_change_consistency', 'strategy_for_new_level', 'learning_routine']
                                }
                            ]
                        }
                    ],
                    ontology: [
                        {
                            name: 'RoutineHabitStability',
                            description: '루틴적 습관 안정성(데이터 일관성/루틴 유지율/피드백 반영률)을 온톨로지로 표현하여 관리 안정성 향상에 활용'
                        },
                        {
                            name: 'MathLearningSpecialization',
                            description: '수학 학습 특화(단원별 오류/루틴/효율성)를 온톨로지로 표현하여 수학 교과 특화 관리에 활용'
                        },
                        {
                            name: 'TimeSeriesPattern',
                            description: '시계열 패턴(추세/변화율/이상 징후)을 온톨로지로 표현하여 장기 패턴 파악에 활용'
                        },
                        {
                            name: 'SystemIntegration',
                            description: '시스템 연동 방식(의존도/회복속도/자동화 개입)을 온톨로지로 표현하여 시스템 통합 강화에 활용'
                        }
                    ],
                    analysis: {
                        questionAnalysis: '이 질문 세트는 학습관리 안정성을 높이기 위한 루틴적 습관과 시스템 연동 방식을 강화하기 위한 데이터를 수집합니다. rules.yaml의 S2, S7, S8 시나리오와 직접 연계됩니다.',
                        answerAnalysis: '데이터 일관성이 낮으면 S0_R4 룰이 신뢰도를 평가합니다. 루틴 유지 성공률이 낮으면 S3_R4 룰이 효과를 추적합니다. 수학 단원 오류가 있으면 S2_R1 룰이 분석합니다. 30일 이상 데이터가 있으면 S7_R1 룰이 시계열 분석을 수행합니다.',
                        ruleBasedActions: 'rules.yaml의 S2_R1~S2_R4 룰이 수학 교과 특화 관리를 수행하고, S3_R4 룰이 루틴 효과 추적을 수행하며, S7_R1~S7_R2 룰이 시계열 분석 및 이상 징후 탐지를 수행하고, S8_R1~S8_R2 룰이 학생 수준별 차별화를 수행합니다.'
                    }
                },
                ontology: [
                    {
                        name: 'LearningManagement',
                        description: '학습 관리 데이터(생성 빈도/루틴 유지율)를 온톨로지로 표현'
                    }
                ]
            },
            agent10: {
                ontology: [
                    { name: 'ConceptLearningStyle', description: '개념 학습 스타일(시각형/청각형/요약형)을 온톨로지로 표현하여 맞춤형 도입 전략 수립에 활용' },
                    { name: 'NotePattern', description: '필기 패턴(필기량, 간격, 순서, 위치)을 온톨로지로 표현하여 개념 이해도 분석에 활용' },
                    { name: 'ConceptStability', description: '개념 이해 안정성(재방문 패턴, 지우기 횟수, 막힘 구간)을 온톨로지로 표현하여 학습 안정성 평가에 활용' },
                    { name: 'UnitBaseline', description: '단원별 기준값(평균 필기량, 평균 학습시간)을 온톨로지로 표현하여 완성도 비교 분석에 활용' },
                    { name: 'StageTransferEfficiency', description: '학습 단계 간 전이 효율(개념요약→이해→체크 등)을 온톨로지로 표현하여 루틴 최적화에 활용' },
                    { name: 'LearningActivityCorrelation', description: '학습 활동 간 상관관계(TTS·필기·체류)를 온톨로지로 표현하여 최적 활동 조합 도출에 활용' },
                    { name: 'ErrorCauseClassification', description: '오답 원인 분류(계산 실수/개념 오류/적용 오류)를 온톨로지로 표현하여 맞춤형 개선 방안 수립에 활용' },
                    { name: 'RoutineSequence', description: '개인화 루틴 시퀀스(순서·시간·형태)를 온톨로지로 표현하여 최적 루틴 설계에 활용' },
                    { name: 'ReviewCycle', description: '복습 주기 최적화(망각 곡선 기반)를 온톨로지로 표현하여 장기 기억 강화에 활용' },
                    { name: 'ConceptStabilityIndicator', description: '개념이해 안정성 지표(오답 원인, 루틴 유지율, 재방문 패턴)를 온톨로지로 표현하여 안정성 평가에 활용' },
                    { name: 'RoutineRiskFactor', description: '루틴 지속 리스크 요인(유지율, 이해도 편차, 저항도)을 온톨로지로 표현하여 리스크 예측에 활용' },
                    { name: 'LearningStyleDependency', description: '학습 스타일 의존도(청각/시각 입력 의존도)를 온톨로지로 표현하여 보완 전략 수립에 활용' },
                    { name: 'HabitFormationStrategy', description: '습관화 루틴 전략(단계별 습관 형성, 자동화)을 온톨로지로 표현하여 지속성 향상에 활용' },
                    { name: 'FeedbackLoopDesign', description: '피드백 루프 설계(실시간/주기적/개선)를 온톨로지로 표현하여 지속적 성장에 활용' },
                    { name: 'UnitFailureChain', description: '단원 간 실패 연쇄(선행 단원 실패→후속 단원 영향)를 온톨로지로 표현하여 연쇄 실패 방지에 활용' }
                ]
            },
            // Agent 11: 문제노트 (상세 작성)
            agent11: {
                1: {
                    questionSets: [
                        {
                            title: '오답노트 작성 패턴 및 성찰 깊이 분석 질문',
                            questions: [
                                {
                                    text: '오답노트 제출 직후 필기량(nstroke)과 소요시간(usedtime)을 기반으로 몰입도와 성찰 점수(reflection_score)는?',
                                    dataSources: ['preparation_notes', 'preparation_notes[0].nstroke', 'preparation_notes[0].usedtime', 'reflection_score', 'engagement_score']
                                },
                                {
                                    text: '오답 원인 분포(계산실수/개념오해/주의력저하 등)와 가장 흔한 오류 유형은 무엇이며, 복습 우선순위는?',
                                    dataSources: ['preparation_notes', 'error_patterns', 'error_cause_classification', 'most_common_error_type', 'unit_review_priority']
                                },
                                {
                                    text: '학생의 오답노트 작성 패턴이 성찰형/반복형/회피형/실전형 중 어떤 사고습관을 보이는가?',
                                    dataSources: ['preparation_notes', 'reflection_score', 'completeness_score', 'note_pattern_consistency', 'recurring_error_patterns']
                                },
                                {
                                    text: '반복되는 오답 패턴이 3회 이상인 경우, 시그니처 루틴 가능성과 루틴 안정도는?',
                                    dataSources: ['preparation_notes', 'attempt_notes', 'note_pattern_consistency', 'recurring_error_patterns', 'routine_stability']
                                }
                            ]
                        },
                        {
                            title: '동일 단원 반복 오답 및 노트 품질 분석 질문',
                            questions: [
                                {
                                    text: '동일 단원에서 반복된 오답이 3회 이상인 경우, 원인이 계산실수인지 개념오해인지 판정은?',
                                    dataSources: ['preparation_notes', 'repeated_unit_errors', 'error_cause_type', 'calculation_vs_concept', 'unit_error_frequency']
                                },
                                {
                                    text: '해당 단원의 평균 reflection_score와 completeness_score가 다른 단원과 비교하여 어떤가?',
                                    dataSources: ['repeated_unit_errors', 'unit_scores', 'unit_average_reflection_score', 'unit_average_completeness_score', 'unit_scores_with_others']
                                },
                                {
                                    text: '필기량(nstroke)이 50 미만이거나 reflection_score가 5 미만인 경우, 노트 품질 저하 원인과 즉시 코칭 메시지는?',
                                    dataSources: ['preparation_notes[0].nstroke', 'reflection_score', 'note_quality_assessment', 'quality_deficiency_reasons', 'personalized_coaching_message']
                                },
                                {
                                    text: '학습 집중도와 성찰 패턴을 진단하여 부족한 부분을 보완할 수 있는 행동 유도형 메시지는?',
                                    dataSources: ['low_quality_note_detected', 'preparation_notes[0].usedtime', 'learning_focus_level', 'reflection_pattern_analysis', 'immediate_action_steps']
                                }
                            ]
                        }
                    ],
                    ontology: [
                        {
                            name: 'ErrorPatternClassification',
                            description: '오답 패턴 분류(성찰형/반복형/회피형/실전형)를 온톨로지로 표현하여 사고습관 분석에 활용 (Agent 11 핵심 온톨로지)'
                        },
                        {
                            name: 'NoteQualityMetrics',
                            description: '노트 품질 지표(nstroke, usedtime, reflection_score, completeness_score)를 온톨로지로 표현하여 노트 품질 평가에 활용'
                        },
                        {
                            name: 'ErrorCauseDistribution',
                            description: '오답 원인 분포(계산실수/개념오해/주의력저하)를 온톨로지로 표현하여 복습 우선순위 산정에 활용'
                        },
                        {
                            name: 'SignatureRoutineDetection',
                            description: '시그니처 루틴 감지(반복 패턴, 루틴 안정도)를 온톨로지로 표현하여 행동 변화 기반 마련에 활용'
                        }
                    ],
                    analysis: {
                        questionAnalysis: '이 질문 세트는 오답노트 데이터를 종합하여 학생의 사고습관과 성찰패턴을 분석합니다. rules.yaml의 S1~S3 시나리오와 직접 연계됩니다.',
                        answerAnalysis: '오답노트 제출 직후 S1_R1 룰이 기본 분석을 수행하고, S1_R2 룰이 몰입도를 분석합니다. reflection_score는 S1_R3 룰이 계산하고, 오답 원인 분포는 S1_R4 룰이 분석합니다. 동일 단원 반복 오답은 S2_R1 룰이 감지하고, 노트 품질 저하는 S3_R1 룰이 감지합니다.',
                        ruleBasedActions: 'rules.yaml의 S1_R1~S1_R6 룰이 시험 후 오답노트 작성 직후 분석을 수행하고, S2_R1~S2_R4 룰이 동일 단원 오답 재발을 분석하며, S3_R1~S3_R4 룰이 노트 품질 저하 시 성찰을 유도합니다.'
                    }
                },
                2: {
                    questionSets: [
                        {
                            title: '복습 루틴 및 교사 개입 최적화 질문',
                            questions: [
                                {
                                    text: '최근 3~5회 노트의 reflection_score와 completeness_score 추세를 분석하여 루틴 안정도와 지속력은?',
                                    dataSources: ['preparation_notes', 'reflection_scores', 'completeness_scores', 'routine_consistency_level', 'routine_stability_status']
                                },
                                {
                                    text: '서술평가 재풀이 후에도 오답이 지속되는 경우, 개선 여부(정답 전환율)와 오답 지속 원인은?',
                                    dataSources: ['essay_assessments', 'preparation_notes', 'correct_answer_conversion_rate', 'persistent_error_root_cause', 'error_persistence_type']
                                },
                                {
                                    text: '학생이 단순 반복형인지 개념 비연결형인지 분류하고, 교사용 요약 리포트는?',
                                    dataSources: ['persistent_error_analysis', 'error_cause_type', 'student_error_pattern_type', 'repetitive_vs_conceptual', 'teacher_summary_report']
                                },
                                {
                                    text: '복습 예약 시점(3일/10일/30일 후) 도래 시, 이전 노트와 현재 노트의 reflection_score와 completeness_score 변화 추이는?',
                                    dataSources: ['review_schedule_date', 'original_note_data', 'current_note_data', 'reflection_score_change', 'completeness_score_change']
                                },
                                {
                                    text: '학생에게 보낼 짧은 복습 피드백 문구는 무엇인가?',
                                    dataSources: ['score_trend_analyzed', 'improvement_level', 'personalized_review_feedback', 'short_feedback_message', 'feedback_tone_by_improvement']
                                }
                            ]
                        },
                        {
                            title: '주간 리포트 및 루틴 업데이트 질문',
                            questions: [
                                {
                                    text: '주간 오답노트 데이터를 취합하여 단원별 오답비율, 노트 완성도 평균, 성찰 점수 추세는?',
                                    dataSources: ['report_type', 'week_start_date', 'week_end_date', 'weekly_note_data', 'unit_error_rate']
                                },
                                {
                                    text: '상위 3개 취약단원과 시그니처 루틴 유형을 식별하여 교사용 요약 카드는?',
                                    dataSources: ['weekly_data_aggregated', 'top_3_weak_units', 'signature_routine_type', 'routine_stability_level', 'teacher_summary_card']
                                },
                                {
                                    text: '최근 5회 노트 지표(usedtime, reflection_score, completeness_score)를 시계열로 분석하여 루틴 안정화/전환 단계는?',
                                    dataSources: ['preparation_notes', 'recent_5_notes', 'time_series_metrics', 'routine_stage', 'stabilization_vs_transition']
                                },
                                {
                                    text: '다음 단계로 넘어가기 위한 행동 피드백과 구체적 루틴 행동 가이드는?',
                                    dataSources: ['routine_stage_classified', 'routine_stage', 'next_stage_guidance', 'action_feedback_message', 'specific_action_steps']
                                }
                            ]
                        },
                        {
                            title: '교사 개입 우선순위 및 학습 루프 설계 질문',
                            questions: [
                                {
                                    text: 'completeness_score < 40이면서 reflection_score 상승폭이 없는 학생의 우선순위와 주요 오답 원인(Top 1)은?',
                                    dataSources: ['report_type', 'student_list', 'all_students_weekly_data', 'priority_score', 'top_error_cause_per_student']
                                },
                                {
                                    text: '각 학생별 추천 코칭 메시지와 복습주기 조정, 교사 피드백 강도, AI 자동 피드백 빈도는?',
                                    dataSources: ['students_ranked', 'top_error_cause_identified', 'personalized_coaching_message', 'coaching_message_per_student', 'review_schedule']
                                },
                                {
                                    text: '집중력 저하가 의심되는 세션에서 usedtime 대비 필기밀도(nstroke/time)와 몰입 단절 시점(중간/말미)은?',
                                    dataSources: ['attempt_notes', 'stroke_density_per_minute', 'concentration_level', 'immersion_breakpoint_identification', 'breakpoint_timing']
                                },
                                {
                                    text: '침착도 데이터와 연계한 개선 루틴 제안은?',
                                    dataSources: ['immersion_breakpoint_identified', 'calmness_data', 'concentration_calmness_relationship', 'calmness_based_improvement_routine']
                                }
                            ]
                        }
                    ],
                    ontology: [
                        {
                            name: 'ReviewRoutineOptimization',
                            description: '복습 루틴 최적화(복습주기, 피드백 강도, 피드백 빈도)를 온톨로지로 표현하여 학습 루프 설계에 활용'
                        },
                        {
                            name: 'RoutineStabilityAnalysis',
                            description: '루틴 안정도 분석(시계열 지표, 안정화/전환 단계)을 온톨로지로 표현하여 루틴 업데이트에 활용'
                        },
                        {
                            name: 'TeacherInterventionPriority',
                            description: '교사 개입 우선순위(학생별 우선순위, 코칭 메시지)를 온톨로지로 표현하여 효율적 개입에 활용'
                        },
                        {
                            name: 'ConcentrationAnalysis',
                            description: '집중력 분석(필기밀도, 몰입 단절 시점, 침착도 연계)을 온톨로지로 표현하여 개선 루틴 설계에 활용'
                        }
                    ],
                    analysis: {
                        questionAnalysis: '이 질문 세트는 오답노트 패턴을 기반으로 복습 루틴과 교사 개입 방향을 최적화합니다. rules.yaml의 S4~S9 시나리오와 직접 연계됩니다.',
                        answerAnalysis: '서술평가 재풀이 후 오답 지속은 S4_R1~S4_R4 룰이 분석하고, 복습 예약 시점 도래는 S6_R1~S6_R4 룰이 처리합니다. 주간 리포트는 S7_R1~S7_R6 룰이 생성하고, 루틴 업데이트는 S8_R1~S8_R4 룰이 수행합니다. 교사 개입 우선순위는 S9_R1~S9_R4 룰이 결정합니다.',
                        ruleBasedActions: 'rules.yaml의 S4_R1~S4_R4 룰이 서술평가 재풀이 후 오답 지속을 분석하고, S6_R1~S6_R4 룰이 복습 예약 시점을 처리하며, S7_R1~S7_R6 룰이 주간 리포트를 생성하고, S8_R1~S8_R4 룰이 루틴 업데이트를 수행하며, S9_R1~S9_R4 룰이 교사 개입 우선순위를 결정합니다.'
                    }
                },
                3: {
                    questionSets: [
                        {
                            title: '중장기 성장 루틴 및 시그너처 루틴 진화 질문',
                            questions: [
                                {
                                    text: '오답노트 축적 데이터에서 오류유형 분포와 성찰깊이 변화 추이를 분석하여 지속적인 성장 루프 형성 가능성은?',
                                    dataSources: ['preparation_notes', 'error_patterns', 'reflection_score_trend', 'completeness_trend', 'error_type_distribution']
                                },
                                {
                                    text: '복습효과 지속기간을 분석하여 성찰-복습-재도전 루프의 안정성과 다음 단계 진화 준비도는?',
                                    dataSources: ['review_schedule_date', 'review_effectiveness', 'correct_answer_conversion_rate', 'improvement_indicator', 'growth_loop_stability']
                                },
                                {
                                    text: '학생의 시그너처 루틴 진화단계(Level 1~5)를 제시하고, 현재 단계와 다음 단계로 넘어가기 위한 준비도는?',
                                    dataSources: ['preparation_notes', 'signature_routine_type', 'routine_stage', 'routine_evolution_level', 'readiness_for_next_stage']
                                },
                                {
                                    text: '서술평가 빈도, 오답요약 방식, 재시도 간격 등 구체적 루틴 행동 가이드는?',
                                    dataSources: ['essay_assessment_frequency', 'error_summary_method', 'retry_interval', 'routine_action_guide', 'specific_action_steps']
                                }
                            ]
                        },
                        {
                            title: '성공 루틴 모델링 및 확산 질문',
                            questions: [
                                {
                                    text: '최근 한 달간 성취도 향상률 상위 학생들의 오답노트 데이터에서 공통 패턴(필기량, reflection_score, 복습주기)은?',
                                    dataSources: ['report_type', 'achievement_improvement_data', 'time_period', 'top_improvers', 'common_patterns']
                                },
                                {
                                    text: '성공 루틴 프로토타입을 설계하고, 다른 학생들에게 확산 가능한 루틴 제안문은?',
                                    dataSources: ['common_patterns_extracted', 'success_patterns', 'success_routine_prototype', 'routine_components', 'routine_proposal_document']
                                },
                                {
                                    text: '성공 학생들의 reflection_score 패턴과 복습주기 패턴을 추출하여 모범 루틴 정의는?',
                                    dataSources: ['top_improvers_note_data', 'reflection_score_pattern', 'review_cycle_pattern', 'success_pattern_analysis_report', 'routine_parameters']
                                }
                            ]
                        }
                    ],
                    ontology: [
                        {
                            name: 'SignatureRoutineEvolution',
                            description: '시그너처 루틴 진화(Level 1~5, 진화단계, 준비도)를 온톨로지로 표현하여 중장기 성장 루틴 설계에 활용 (Agent 11 핵심 온톨로지)'
                        },
                        {
                            name: 'GrowthLoopFormation',
                            description: '성장 루프 형성(성찰-복습-재도전, 안정성, 지속기간)을 온톨로지로 표현하여 지속적 성장에 활용'
                        },
                        {
                            name: 'SuccessRoutineModeling',
                            description: '성공 루틴 모델링(공통 패턴, 프로토타입, 확산)을 온톨로지로 표현하여 모범 루틴 보급에 활용'
                        },
                        {
                            name: 'RoutineActionGuide',
                            description: '루틴 행동 가이드(서술평가 빈도, 오답요약 방식, 재시도 간격)를 온톨로지로 표현하여 구체적 행동 지침에 활용'
                        }
                    ],
                    analysis: {
                        questionAnalysis: '이 질문 세트는 오답노트 기반으로 중장기적 성장을 위한 습관과 루틴을 형성합니다. rules.yaml의 S8, S10 시나리오와 직접 연계됩니다.',
                        answerAnalysis: '시그너처 루틴 진화단계는 S8_R3 룰이 분류하고, 다음 단계 가이드는 S8_R4 룰이 제시합니다. 성공 루틴 모델링은 S10_R1~S10_R4 룰이 수행하여 공통 패턴을 추출하고 프로토타입을 설계합니다.',
                        ruleBasedActions: 'rules.yaml의 S8_R1~S8_R4 룰이 학생 루틴 업데이트를 수행하고, S10_R1~S10_R4 룰이 성공 루틴을 모델링하여 확산 가능한 루틴 제안문을 작성합니다.'
                    }
                }
            },
            // Agent 12: 휴식루틴 (상세 질문 세트는 data_based_questions.js 파일에 정의되어 있습니다.)
            agent12: {
                ontology: [
                    {
                        name: 'RestPatternRecoveryRhythm',
                        description: '휴식 패턴과 회복 리듬을 온톨로지로 표현하여 학습 지속력 영향 분석에 활용 (Agent 12 핵심 온톨로지)'
                    },
                    {
                        name: 'TimeBasedRestPattern',
                        description: '시간대별 휴식 패턴(요일별, 시간대별)을 온톨로지로 표현하여 개인 최적 학습 시간대 추론에 활용'
                    },
                    {
                        name: 'LearningVolumeRestCorrelation',
                        description: '학습량(문제 수, 학습 시간)과 휴식 필요성 관계를 온톨로지로 표현하여 적절한 학습 청크 크기 추천에 활용'
                    },
                    {
                        name: 'RestDurationEffectiveness',
                        description: '휴식 지속 시간과 회복 효과 관계를 온톨로지로 표현하여 최적 휴식 시간 추천에 활용'
                    },
                    {
                        name: 'FatigueMinimizationStrategy',
                        description: '피로 누적 최소화 전략(주간 패턴, 조기 감지, 자동 조정)을 온톨로지로 표현하여 몰입 회복에 활용'
                    },
                    {
                        name: 'PersonalizedRecoveryRoutine',
                        description: '개인별 회복 루틴(짧은 휴식/감각 전환/정서 안정)을 온톨로지로 표현하여 맞춤 설계에 활용'
                    },
                    {
                        name: 'RestActivityEffectiveness',
                        description: '휴식 활동 유형별 효과성(눈 휴식, 스트레칭, 산책 등)을 온톨로지로 표현하여 최적 활동 추천에 활용'
                    },
                    {
                        name: 'EmotionBasedRestActivity',
                        description: '감정 상태별 휴식 활동 매핑을 온톨로지로 표현하여 맞춤형 회복 루틴 설계에 활용'
                    },
                    {
                        name: 'LongTermFatigueTrend',
                        description: '장기 피로 누적 지수 추세를 온톨로지로 표현하여 지속적 성장 분석에 활용'
                    },
                    {
                        name: 'RecoveryResilienceTrend',
                        description: '회복탄력성 추세(회복 시간, 회복 정도 변화)를 온톨로지로 표현하여 장기 리듬 유지에 활용'
                    },
                    {
                        name: 'SlumpPredictionSignal',
                        description: '슬럼프 예측 신호(정서/인지/환경 원인군)를 온톨로지로 표현하여 예방형 전략 수립에 활용'
                    },
                    {
                        name: 'SleepPatternIntegration',
                        description: '수면 패턴 통합 분석(수면 시간, 수면 질, 기상 패턴)을 온톨로지로 표현하여 피로 원인 분석에 활용'
                    },
                    {
                        name: 'ComprehensiveRestRoutineAnalysis',
                        description: '휴식 루틴 종합 분석(패턴, 피로 상태, 효과성)을 온톨로지로 표현하여 최적화 방안 도출에 활용'
                    }
                ]
            },
            agent13: { ontology: [{ name: 'LearningDropout', description: '학습 이탈 패턴(몰입 단절/복귀)을 온톨로지로 표현' }] },
            // Agent 14: 현재위치 (상세 작성)
            agent14: {
                1: {
                    questionSets: [
                        {
                            title: '진행 지연 및 불균형 분석 질문',
                            questions: [
                                {
                                    text: '포모도르 진행률이 예상보다 느린 경우, 예상 시간 대비 지연 정도와 지연이 발생한 구간의 활동 유형(개념 공부/문제풀이/정리)은?',
                                    dataSources: ['pomodoro_blocks', 'expected_completion_time', 'actual_completion_time', 'delay_minutes', 'activity_type', 'plan_text', 'unit_info']
                                },
                                {
                                    text: '특정 단원이나 활동에서 시간 편차가 발생한 경우, 단원별/난이도별 평균 소요 시간과 지연 패턴은?',
                                    dataSources: ['unit_info', 'difficulty_level', 'unit_completion_time', 'difficulty_completion_time', 'delay_pattern', 'unit_delay_frequency']
                                },
                                {
                                    text: '오늘 목표 달성률이 70% 미만인 경우, 완료율, 지연/적절/원활 판정, 그리고 지연 원인 분석은?',
                                    dataSources: ['today_goal_id', 'completion_rate', 'total_completed', 'total_planned', 'progress_status', 'delay_index', 'execution_breakpoints']
                                },
                                {
                                    text: '최근 3개 포모도르 기준 집중 밀도와 만족도 변화 추이, 그리고 이 패턴이 지속될 경우 향후 1시간 내 이탈 위험도 등급은?',
                                    dataSources: ['pomodoro_blocks', 'recent_3_pomodoros', 'concentration_density', 'satisfaction_score', 'status_distribution', 'risk_index', 'risk_level']
                                }
                            ]
                        },
                        {
                            title: '무활동 정체 분석 질문',
                            questions: [
                                {
                                    text: '최근 30분 이상 입력이 없거나 마지막 tend 후 후속 활동이 없는 경우, 무활동 지속 시간과 무활동 전후 감정 상태 변화는?',
                                    dataSources: ['last_activity_time', 'inactivity_duration_minutes', 'last_tend_time', 'emotion_before_inactivity', 'emotion_after_inactivity', 'emotion_curve_analysis']
                                },
                                {
                                    text: 'Eye Tracker나 필기 데이터 공백이 발생한 경우, 동일한 패턴이 이번 주 몇 회 반복되었는지, 그리고 습관화 패턴인지 일시적 피로인지 분류는?',
                                    dataSources: ['eye_tracker_data', 'writing_data', 'data_gap_count', 'pattern_repetition_count', 'pattern_type', 'habitual_vs_temporary_fatigue']
                                },
                                {
                                    text: '무활동 정체 구간의 정서 상관도와 패턴 유형 분석 결과는?',
                                    dataSources: ['inactivity_duration_minutes', 'emotion_correlation', 'pattern_type', 'inactivity_report']
                                }
                            ]
                        },
                        {
                            title: '감정 곡선 불안정 분석 질문',
                            questions: [
                                {
                                    text: '최근 5개 포모도르의 정서 곡선을 그려주고, 감정 하락 구간이 어떤 단원이나 문제 유형과 겹치는지 분석은?',
                                    dataSources: ['recent_5_pomodoros', 'emotion_curve', 'emotion_state', 'unit_info', 'problem_type', 'difficulty_level', 'emotion_drop_zones']
                                },
                                {
                                    text: '불만족 응답 비율이 상승하거나 집중도가 하락한 경우, 불만족 비율과 지연 구간의 상관도, 그리고 정서 하락의 주요 원인(인지적 요소 vs 정서적 요소) 구분은?',
                                    dataSources: ['status_distribution', 'dissatisfaction_rate', 'concentration_level', 'delay_correlation', 'cognitive_factors', 'emotional_factors', 'root_cause_classification']
                                },
                                {
                                    text: '학습일기 피드백 내용에서 부정 키워드가 증가한 경우, 정서 곡선 그래프와 원인 분류, 위험 요인 라벨링은?',
                                    dataSources: ['diary_record', 'negative_keywords', 'negative_keyword_count', 'emotion_curve_graph', 'cause_classification', 'risk_factors']
                                }
                            ]
                        }
                    ],
                    ontology: [
                        {
                            name: 'ProgressDelayPattern',
                            description: '진행 지연 패턴(예상 대비 지연, 활동 유형별 지연, 단원별 지연)을 온톨로지로 표현하여 지연 원인 분석에 활용 (Agent 14 핵심 온톨로지)'
                        },
                        {
                            name: 'InactivityStagnation',
                            description: '무활동 정체 패턴(지속 시간, 감정 변화, 패턴 유형)을 온톨로지로 표현하여 정체 원인 파악에 활용'
                        },
                        {
                            name: 'EmotionCurveInstability',
                            description: '감정 곡선 불안정 패턴(하락 구간, 원인 분류, 위험 요인)을 온톨로지로 표현하여 정서적 위험 예측에 활용'
                        },
                        {
                            name: 'ActivityTypeDelayCorrelation',
                            description: '활동 유형별 지연 상관관계(개념 공부/문제풀이/정리)를 온톨로지로 표현하여 활동별 지연 패턴 분석에 활용'
                        }
                    ],
                    analysis: {
                        questionAnalysis: '이 질문 세트는 현재 학습 진행 상태를 정밀하게 진단합니다. 진행 지연, 무활동 정체, 감정 곡선 불안정을 종합 분석합니다. rules.yaml의 S0, S1 시나리오와 직접 연계됩니다.',
                        answerAnalysis: '포모도르 진행률이 예상보다 느리면 S0_R1 룰이 기본 진행 상태를 계산합니다. 무활동이 30분 이상 지속되면 S0_R4 룰이 위험도 지수를 계산합니다. 감정 곡선이 불안정하면 S0_R3 룰이 정서 곡선을 분석합니다.',
                        ruleBasedActions: 'rules.yaml의 S0_R1~S0_R4 룰이 기본 진행 상태, 리듬 패턴, 감정 곡선, 위험도 지수를 분석하고, S1_R1~S1_R5 룰이 수학 교과 특화 분석을 수행합니다.'
                    }
                },
                2: {
                    questionSets: [
                        {
                            title: '학습 단계별 강약점 구조 분석 질문',
                            questions: [
                                {
                                    text: '단원별 진행 분석: 단원명 추출 및 단원별 진행률, 지연 빈도, 평균 소요 시간 분석 결과는?',
                                    dataSources: ['unit_info', 'plan_text', 'unit_name', 'unit_completion_rate', 'unit_delay_frequency', 'unit_average_time', 'problematic_units']
                                },
                                {
                                    text: '난이도별 진행 분석: 기본/유형/심화/기출별 평균 소요 시간, 지연 패턴, 지연 빈번 난이도 식별 결과는?',
                                    dataSources: ['difficulty_level', 'plan_text', 'difficulty_completion_time', 'difficulty_delay_pattern', 'problematic_difficulty', 'basic_type_advanced_past_analysis']
                                },
                                {
                                    text: '학습 단계별 분석: 개념/유형/심화/기출 단계별 평균 소요 시간, 지연 패턴, 지연 빈번 단계 식별 결과는?',
                                    dataSources: ['learning_stage', 'plan_text', 'stage_completion_time', 'stage_delay_pattern', 'problematic_stage', 'concept_type_advanced_past_stages']
                                },
                                {
                                    text: '문제 유형별 진행 분석: 단원별 문제 유형 분류 및 유형별 진행률, 지연 패턴 분석 결과는?',
                                    dataSources: ['unit_name', 'problem_types', 'type_completion_rate', 'type_delay_pattern', 'problematic_types', 'unit_problem_type_mapping']
                                },
                                {
                                    text: '계산 실수 vs 개념 오류 구분 및 지연 원인 분석: 오류 유형별 지연 패턴과 주된 오류 원인은?',
                                    dataSources: ['error_cause', 'delay_minutes', 'error_type_classification', 'error_delay_correlation', 'primary_error_cause', 'calculation_vs_concept_error']
                                }
                            ]
                        },
                        {
                            title: '학원 맥락 통합 분석 질문',
                            questions: [
                                {
                                    text: '학원 수업 이해도와 학습 진행 상태 상관 분석: 학원 수업 이해도와 학습 지연의 상관관계는?',
                                    dataSources: ['academy_class_comprehension', 'progress_status', 'comprehension_delay_correlation', 'comprehension_pattern', 'academy_progress_unit']
                                },
                                {
                                    text: '학원 과제 부담과 학습 진행 상태 상관 분석: 학원 과제 양과 학습 지연의 상관관계는?',
                                    dataSources: ['academy_homework_burden', 'progress_status', 'homework_delay_correlation', 'homework_pattern', 'academy_homework_exists']
                                },
                                {
                                    text: '학원 진도와 학교 진도 비교 분석: 진도 격차, 정렬도, 불일치 구간 식별 결과는?',
                                    dataSources: ['academy_progress', 'school_progress', 'progress_gap', 'progress_alignment', 'progress_mismatch', 'academy_progress_unit', 'school_progress_unit']
                                }
                            ]
                        },
                        {
                            title: '학생 수준별 차별화 분석 질문',
                            questions: [
                                {
                                    text: '수학 성적 수준별 진행 패턴 분석: 하위권/중위권/상위권별 진행 패턴과 수준별 기대치 조정 방안은?',
                                    dataSources: ['math_level', 'level_progress_pattern', 'level_characteristics', 'expectation_by_level', 'student_level']
                                },
                                {
                                    text: '수학 학습 스타일별 진행 패턴 분석: 계산형/개념형/응용형별 진행 패턴과 스타일별 특성은?',
                                    dataSources: ['math_learning_style', 'style_progress_pattern', 'style_characteristics', 'math_learning_style_type']
                                }
                            ]
                        }
                    ],
                    ontology: [
                        {
                            name: 'LearningStageStrengthWeakness',
                            description: '학습 단계별 강약점(단원별/난이도별/단계별/유형별 분석)을 온톨로지로 표현하여 병목 지점 식별에 활용 (Agent 14 핵심 온톨로지)'
                        },
                        {
                            name: 'UnitBasedProgressAnalysis',
                            description: '단원별 진행 분석(진행률, 지연 빈도, 평균 소요 시간)을 온톨로지로 표현하여 단원별 병목 분석에 활용'
                        },
                        {
                            name: 'DifficultyBasedProgressAnalysis',
                            description: '난이도별 진행 분석(기본/유형/심화/기출별 패턴)을 온톨로지로 표현하여 난이도별 병목 분석에 활용'
                        },
                        {
                            name: 'LearningStageAnalysis',
                            description: '학습 단계별 분석(개념/유형/심화/기출 단계별 패턴)을 온톨로지로 표현하여 단계별 병목 분석에 활용'
                        },
                        {
                            name: 'ProblemTypeAnalysis',
                            description: '문제 유형별 진행 분석(유형별 진행률, 지연 패턴)을 온톨로지로 표현하여 취약 유형 파악에 활용'
                        },
                        {
                            name: 'ErrorTypeClassification',
                            description: '오류 유형 분류(계산 실수 vs 개념 오류)를 온톨로지로 표현하여 지연 원인 분석에 활용'
                        },
                        {
                            name: 'AcademyContextIntegration',
                            description: '학원 맥락 통합(수업 이해도, 과제 부담, 진도 비교)을 온톨로지로 표현하여 현실적 학습 계획 수립에 활용'
                        },
                        {
                            name: 'StudentLevelDifferentiation',
                            description: '학생 수준별 차별화(수학 성적 수준, 학습 스타일)를 온톨로지로 표현하여 맞춤형 학습 전략 수립에 활용'
                        }
                    ],
                    analysis: {
                        questionAnalysis: '이 질문 세트는 학습 단계별 강약점을 구조적으로 정리합니다. 단원별/난이도별/단계별/유형별 데이터를 종합 분석하여 병목 지점을 식별합니다. rules.yaml의 S1, S2, S3 시나리오와 직접 연계됩니다.',
                        answerAnalysis: '단원별 진행 분석은 S1_R1 룰이 수행하고, 난이도별 분석은 S1_R2 룰이 수행합니다. 학습 단계별 분석은 S1_R3 룰이 수행하고, 문제 유형별 분석은 S1_R4 룰이 수행합니다. 오류 유형 구분은 S1_R5 룰이 수행합니다.',
                        ruleBasedActions: 'rules.yaml의 S1_R1~S1_R5 룰이 수학 교과 특화 분석을 수행하고, S2_R1~S2_R3 룰이 학원 맥락 통합 분석을 수행하며, S3_R1~S3_R2 룰이 학생 수준별 차별화 분석을 수행합니다.'
                    }
                },
                3: {
                    questionSets: [
                        {
                            title: '학습 계획 재조정 필요성 분석 질문',
                            questions: [
                                {
                                    text: '계획 수립은 되어 있지만 실제 흐름이 다르게 진행되는 경우, 현재 완료된 포모도르 대비 잔여 시간으로 달성 가능한 목표 범위는?',
                                    dataSources: ['completed_pomodoros', 'remaining_time', 'achievable_goal_range', 'today_goal_id', 'weekly_goal_id', 'available_time_hours']
                                },
                                {
                                    text: '어떤 블록을 축소하거나 연기하면 지연률을 20% 이내로 줄일 수 있는지, 그리고 감정 곡선과 진행 패턴을 기준으로 지금 즉시 유지해야 할 핵심 활동은?',
                                    dataSources: ['delay_rate', 'adjustable_blocks', 'emotion_curve', 'progress_pattern', 'core_activities_to_maintain', 'block_reduction_options']
                                },
                                {
                                    text: '조정 가능한 목표 리스트, 축소/연기 제안, 핵심 유지 추천 사항은?',
                                    dataSources: ['adjustable_goals', 'reduction_suggestions', 'postponement_suggestions', 'core_maintenance_recommendations']
                                }
                            ]
                        },
                        {
                            title: '일일 결산 및 보고 질문',
                            questions: [
                                {
                                    text: '학습 세션 종료 또는 귀가 검사 직전, 오늘 전체 학습의 진행곡선을 5분 단위로 요약하고, 시간 대비 완료율, 감정 변화, 집중 밀도의 상관 분석은?',
                                    dataSources: ['daily_learning_summary', 'progress_curve_5min', 'completion_rate_by_time', 'emotion_changes', 'concentration_density', 'correlation_analysis', 'departure_check_session_id']
                                },
                                {
                                    text: '하루 종료 시점의 리듬 점수와 위험 등급 요약본은?',
                                    dataSources: ['rhythm_score', 'risk_level', 'risk_index', 'daily_summary_report', 'end_of_day_status']
                                },
                                {
                                    text: '일일 통합 리포트(진행 그래프, 정서 트렌드, 위험도 요약) 생성 결과는?',
                                    dataSources: ['daily_integrated_report', 'progress_graph', 'emotion_trend', 'risk_summary', 'comprehensive_daily_report']
                                }
                            ]
                        },
                        {
                            title: '장기 패턴 예측 및 주간 리포트 질문',
                            questions: [
                                {
                                    text: '최근 7일간의 현재 위치 분석 데이터를 통합하여 패턴 벡터를 생성하고, 지연도, 감정곡선, 리듬점수의 시간 상관계수를 계산한 결과는?',
                                    dataSources: ['recent_7days_data', 'pattern_vector', 'delay_index', 'emotion_curve', 'rhythm_score', 'time_correlation_coefficient', 'historical_data_available', 'days_of_data']
                                },
                                {
                                    text: '다음 3일간 예상되는 이탈 위험도 추세 예측과 권장 루틴 변경안은?',
                                    dataSources: ['predicted_risk_trend', 'next_3days_risk', 'recommended_routine_changes', 'pattern_correlation', 'future_risk_prediction']
                                },
                                {
                                    text: '주간 트렌드 모델, 예측 위험 지수, 권장 루틴 변경안 요약은?',
                                    dataSources: ['weekly_trend_model', 'predicted_risk_index', 'recommended_routine_changes', 'weekly_pattern_analysis']
                                }
                            ]
                        },
                        {
                            title: '종합 분석 및 개입 방향 설계 질문',
                            questions: [
                                {
                                    text: '진행률, 감정 곡선, 리듬 점수, 위험도 지수를 종합하여 현재 시점에서 심화로 갈지, 복습으로 돌아갈지, 휴식 리듬을 조정할지에 대한 교사 수준 의사결정 로직은?',
                                    dataSources: ['completion_rate', 'emotion_curve', 'rhythm_score', 'risk_index', 'decision_logic', 'advance_vs_review_vs_rest', 'intervention_direction']
                                },
                                {
                                    text: '권장 루틴 변화안, 단기 개입 전략, 연계 에이전트 전달 데이터 요약은?',
                                    dataSources: ['recommended_routine_changes', 'short_term_intervention_strategy', 'linked_agent_data_summary', 'agent09_data', 'agent12_data', 'agent13_data']
                                },
                                {
                                    text: '현재 위치 종합 리포트(모든 분석 축 통합) 생성 결과는?',
                                    dataSources: ['all_analyses_complete', 'comprehensive_position_report', 'agent_summary', 'integrated_analysis_report']
                                }
                            ]
                        }
                    ],
                    ontology: [
                        {
                            name: 'LearningPlanReadjustment',
                            description: '학습 계획 재조정(달성 가능 범위, 블록 축소/연기, 핵심 활동 유지)을 온톨로지로 표현하여 현실적 계획 수립에 활용 (Agent 14 핵심 온톨로지)'
                        },
                        {
                            name: 'DailySettlementReport',
                            description: '일일 결산 리포트(진행 곡선, 감정 변화, 집중 밀도, 리듬 점수)를 온톨로지로 표현하여 일일 학습 평가에 활용'
                        },
                        {
                            name: 'LongTermPatternPrediction',
                            description: '장기 패턴 예측(패턴 벡터, 상관계수, 이탈 위험도 추세)을 온톨로지로 표현하여 예방적 개입 전략 수립에 활용'
                        },
                        {
                            name: 'InterventionDirectionDesign',
                            description: '개입 방향 설계(심화/복습/휴식 조정, 의사결정 로직, 개입 전략)를 온톨로지로 표현하여 교사 수준 의사결정에 활용'
                        },
                        {
                            name: 'ComprehensivePositionReport',
                            description: '현재 위치 종합 리포트(모든 분석 축 통합)를 온톨로지로 표현하여 다른 에이전트 의사결정 기준점으로 활용'
                        }
                    ],
                    analysis: {
                        questionAnalysis: '이 질문 세트는 현재 학습 위치를 기준으로 다음 수업과 개입 방향을 설계합니다. 학습 계획 재조정, 일일 결산, 장기 패턴 예측, 종합 분석을 수행합니다. rules.yaml의 S4 시나리오와 직접 연계됩니다.',
                        answerAnalysis: '학습 계획 재조정이 필요하면 S4_R1 룰이 조정 가능한 목표를 제안합니다. 일일 결산 시점에는 S4_R1 룰이 종합 리포트를 생성합니다. 장기 패턴 예측은 S4_R2 룰이 수행합니다.',
                        ruleBasedActions: 'rules.yaml의 S4_R1 룰이 종합 리포트를 생성하고, S4_R2 룰이 장기 패턴 분석을 수행합니다. 종합 리포트는 Agent 09, 12, 13에 전달됩니다.'
                    }
                },
                ontology: [
                    {
                        name: 'CurrentPosition',
                        description: '현재 학습 위치(진도/단계별 강약점)를 온톨로지로 표현하여 정밀한 위치 평가에 활용 (Agent 14 핵심 온톨로지)'
                    },
                    {
                        name: 'ProgressStatus',
                        description: '진행 상태(완료율, 지연/적절/원활 판정)를 온톨로지로 표현하여 기본 진행 분석에 활용'
                    },
                    {
                        name: 'RhythmPattern',
                        description: '학습 리듬 패턴(포모도르 단위, 집중 밀도, 리듬 점수)을 온톨로지로 표현하여 리듬 분석에 활용'
                    },
                    {
                        name: 'EmotionCurve',
                        description: '감정 곡선(정서·만족도 기반 흐름, 감정 상태 분류)을 온톨로지로 표현하여 정서적 위험 예측에 활용'
                    },
                    {
                        name: 'RiskIndex',
                        description: '이탈 가능성 예측 지표(위험도 등급, 위험 요인)를 온톨로지로 표현하여 조기 개입 기준으로 활용'
                    },
                    {
                        name: 'MathSubjectSpecialization',
                        description: '수학 교과 특화 분석(단원별/난이도별/단계별/유형별)을 온톨로지로 표현하여 수학 학습 특화 분석에 활용'
                    },
                    {
                        name: 'AcademyContext',
                        description: '학원 맥락(수업 이해도, 과제 부담, 진도 비교)을 온톨로지로 표현하여 현실적 학습 계획에 활용'
                    },
                    {
                        name: 'StudentLevel',
                        description: '학생 수준(수학 성적 수준, 학습 스타일)을 온톨로지로 표현하여 맞춤형 전략 수립에 활용'
                    }
                ],
                analysis: {
                    questionAnalysis: 'Agent 14는 현재 학습 위치를 정밀하게 평가하여 현직 수학선생님 수준의 진단을 제공합니다. 진행 상태, 단계별 강약점, 개입 방향을 종합 분석합니다.',
                    answerAnalysis: '진행 상태 분석은 S0 룰이 수행하고, 수학 교과 특화 분석은 S1 룰이 수행합니다. 학원 맥락 통합은 S2 룰이 수행하고, 학생 수준별 차별화는 S3 룰이 수행합니다. 종합 분석은 S4 룰이 수행합니다.',
                    ruleBasedActions: 'rules.yaml의 S0_R1~S0_R4 룰이 기본 진행 상태를 분석하고, S1_R1~S1_R5 룰이 수학 교과 특화 분석을 수행하며, S2_R1~S2_R3 룰이 학원 맥락을 통합하고, S3_R1~S3_R2 룰이 학생 수준별 차별화를 수행하며, S4_R1~S4_R2 룰이 종합 분석 및 리포트를 생성합니다.'
                }
            },
            agent15: { ontology: [{ name: 'ProblemRedefinition', description: '문제 재정의(근본 원인/진단코드)를 온톨로지로 표현' }] },
            agent16: { ontology: [{ name: 'InteractionPreparation', description: '상호작용 준비(세계관/스토리 테마)를 온톨로지로 표현' }] },
            agent17: { 
                ontology: [
                    { 
                        name: 'RemainingActivities', 
                        description: '잔여 활동(리듬 회복/활동 재배치)을 온톨로지로 표현' 
                    },
                    {
                        name: 'RhythmBreakdownDiagnosis',
                        description: '리듬 붕괴 원인(시간 부족/집중 이탈/인지 피로/동기 저하/병목)을 온톨로지로 표현하여 진단에 활용 (Agent 17 핵심 온톨로지)'
                    },
                    {
                        name: 'RecoveryRoutineStructure',
                        description: '회복 루틴 구조(예열-핵심-정리)를 온톨로지로 표현하여 단기 회복 전략 수립에 활용'
                    },
                    {
                        name: 'EmotionalStabilizationActivity',
                        description: '정서 안정 장치 활동(성공 경험/회복 루프/미니 루틴)을 온톨로지로 표현하여 정서 회복에 활용'
                    },
                    {
                        name: 'BottleneckActivityAnalysis',
                        description: '병목 활동 분석(시간 소요/난이도/집중도)을 온톨로지로 표현하여 병목 해소 전략에 활용'
                    },
                    {
                        name: 'ActivityReallocationStrategy',
                        description: '활동 재배치 전략(핵심 선별/시간 슬롯 배치/우선순위 조정)을 온톨로지로 표현하여 최적화에 활용'
                    },
                    {
                        name: 'TimeEnergyPriorityBalance',
                        description: '시간-에너지-우선순위 균형을 온톨로지로 표현하여 현실적이고 지속 가능한 루틴 구성에 활용'
                    },
                    {
                        name: 'CoreActivitySelection',
                        description: '핵심 20% 활동 선별(중요도/우선순위/달성 가능성)을 온톨로지로 표현하여 효율적 활동 배치에 활용'
                    },
                    {
                        name: 'FatiguePreventionRoutine',
                        description: '피로 누적 방지형 루틴(활동 순서/휴식 삽입/에너지 관리)을 온톨로지로 표현하여 지속 가능성 확보에 활용'
                    },
                    {
                        name: 'RhythmStabilizationPattern',
                        description: '리듬 안정화 패턴(단기/중기/장기)을 온톨로지로 표현하여 장기 리듬 유지에 활용'
                    },
                    {
                        name: 'EmotionLoopRhythmConnection',
                        description: '정서 루프와 리듬의 연결 관계를 온톨로지로 표현하여 정서 기반 리듬 안정화에 활용'
                    },
                    {
                        name: 'RoutineRecoveryPersistence',
                        description: '루틴 복귀 지속성(복귀 패턴/지속 예측/강화 요소)을 온톨로지로 표현하여 장기 유지 전략에 활용'
                    },
                    {
                        name: 'PatternTransitionStrategy',
                        description: '패턴 전환 전략(단기→중기→장기)을 온톨로지로 표현하여 자연스러운 리듬 진화에 활용'
                    }
                ] 
            },
            agent18: {
                ontology: [
                    {
                        name: 'ImmersionPattern',
                        description: '몰입 패턴(개념/유형/심화 단계별 몰입 진입 조건)을 온톨로지로 표현하여 시그너처 루틴 발견에 활용 (Agent 18 핵심 온톨로지)'
                    },
                    {
                        name: 'PsychologicalTrigger',
                        description: '심리 트리거(감정·환경·행동요소)를 온톨로지로 표현하여 몰입 진입 조건 분석에 활용'
                    },
                    {
                        name: 'LearningStageRoutine',
                        description: '학습 단계별 루틴(개념/유형/심화)을 온톨로지로 표현하여 단계별 최적 루틴 설계에 활용'
                    },
                    {
                        name: 'TimeStageMapping',
                        description: '시간대-학습 단계 매핑을 온톨로지로 표현하여 시간대별 루틴 최적화에 활용'
                    },
                    {
                        name: 'AcademyRoutineIntegration',
                        description: '학원 수업 전후 루틴 통합을 온톨로지로 표현하여 학원 시스템 특화 루틴 설계에 활용'
                    },
                    {
                        name: 'UnitDifficultyRoutineMapping',
                        description: '단원별 난이도-루틴 매핑을 온톨로지로 표현하여 난이도 기반 루틴 조정에 활용'
                    },
                    {
                        name: 'RoutineMaintenanceFactor',
                        description: '루틴 유지 요인(강화 자극·시간대·감정톤)을 온톨로지로 표현하여 루틴 안정화에 활용'
                    },
                    {
                        name: 'PsychologicalFactorByStage',
                        description: '학습 단계별 심리요인(성취감/탐구/도전형)을 온톨로지로 표현하여 단계별 강화 전략 수립에 활용'
                    },
                    {
                        name: 'ReinforcementLoop',
                        description: '보상 루프(감정-행동-결과 연결)를 온톨로지로 표현하여 루틴 회복 전략 설계에 활용'
                    },
                    {
                        name: 'TimeBasedPsychologicalFactor',
                        description: '시간대별 심리요인 차이를 온톨로지로 표현하여 시간대-루틴 매칭에 활용'
                    },
                    {
                        name: 'UnitDifficultyPsychologicalAdjustment',
                        description: '단원별 난이도 기반 심리요인 조정을 온톨로지로 표현하여 난이도별 맞춤형 강화에 활용'
                    },
                    {
                        name: 'RoutineEffectivenessMeasurement',
                        description: '루틴 효과성 측정(몰입도/성취감/성과)을 온톨로지로 표현하여 강화 포인트 식별에 활용'
                    },
                    {
                        name: 'RoutineEvolutionPath',
                        description: '루틴 진화 경로(성취형→탐구형→의미형)를 온톨로지로 표현하여 장기 성장 전략 수립에 활용'
                    },
                    {
                        name: 'RoutineStabilityPattern',
                        description: '루틴 반복 안정성, 감정 진폭, 인지 부하 패턴을 온톨로지로 표현하여 진화 방향 결정에 활용'
                    },
                    {
                        name: 'EmotionalCognitiveAdjustment',
                        description: '정서·인지적 보정 포인트를 온톨로지로 표현하여 각 진화 단계별 보정 전략 수립에 활용'
                    },
                    {
                        name: 'LongTermRoutineOptimization',
                        description: '장기 루틴 최적화(효과성 측정, 조정, 개선)를 온톨로지로 표현하여 지속적 정교화에 활용'
                    },
                    {
                        name: 'IntegratedRoutineEvolution',
                        description: '통합 시그너처 루틴의 진화 방향을 온톨로지로 표현하여 개인 최적 학습 루틴의 지속적 개선에 활용'
                    },
                    {
                        name: 'RoutineFixationAndMonitoring',
                        description: '루틴 고정 및 모니터링(효과성 85% 이상, 5회 이상 실행)을 온톨로지로 표현하여 시그너처 루틴 완성도 추적에 활용'
                    }
                ]
            },
            agent19: { ontology: [{ name: 'InteractionContent', description: '상호작용 컨텐츠(템플릿/패키징)를 온톨로지로 표현' }] },
            agent20: { ontology: [{ name: 'InterventionPreparation', description: '개입 준비(타이밍/방식/리스크)를 온톨로지로 표현' }] },
            agent21: { ontology: [{ name: 'InterventionExecution', description: '개입 실행(방식/타이밍/강도)을 온톨로지로 표현' }] },
            // Agent 22: 모듈개선
            agent22: {
                1: {
                    questionSets: [
                        {
                            title: '실행 데이터 수집 및 비효율 진단 질문',
                            questions: [
                                {
                                    text: '관여한 에이전트들의 실행 시각, 소요 시간, 상태 데이터를 수집하여 병목 지점과 불균형 동작을 어떻게 식별하는가?',
                                    dataSources: ['workflow_execution_id', 'agent_version', 'execution_timestamp_start', 'execution_timestamp_end', 'execution_duration_ms', 'agent_execution_count', 'agent_execution_frequency']
                                },
                                {
                                    text: '에이전트별 리소스 사용량(CPU, 메모리, 디스크 I/O)과 성능 메트릭을 분석하여 비효율적인 모듈은 어디인가?',
                                    dataSources: ['container_vm_memory_usage', 'container_vm_cpu_usage', 'disk_io_metrics', 'network_bandwidth_usage', 'concurrent_execution_count', 'queue_length']
                                },
                                {
                                    text: '실행 로그에서 에러 발생 패턴과 실패율이 높은 에이전트를 어떻게 식별하는가?',
                                    dataSources: ['rule_failure_count', 'rule_exception_stacktrace', 'error_code_standardized', 'error_severity', 'retry_count', 'timeout_occurred']
                                },
                                {
                                    text: '데이터 누락이나 형식 불일치로 인한 실행 실패 케이스를 어떻게 추적하고 분류하는가?',
                                    dataSources: ['input_field_missing_check_log', 'input_validation_result', 'data_transformation_mapping_log', 'input_schema_version', 'output_schema_version']
                                },
                                {
                                    text: '에이전트 간 통신 프로토콜과 메시지 큐 대기시간을 분석하여 오케스트레이션 병목은 어디인가?',
                                    dataSources: ['agent_inter_communication_protocol_meta', 'message_queue_wait_time', 'db_query_count_response_time', 'external_api_call_count_response_time']
                                }
                            ]
                        },
                        {
                            title: '불안정성 및 취약점 분석 질문',
                            questions: [
                                {
                                    text: '룰 실행 기록에서 실행되지 않은 룰(dead code)과 자주 실행되는 룰의 비율을 분석하여 룰 구조의 불균형은?',
                                    dataSources: ['rule_id_list_used', 'rule_execution_order', 'rule_execution_count', 'rule_average_execution_time', 'rule_disabled_skipped_items_list']
                                },
                                {
                                    text: '룰 충돌 탐지 플래그와 중요 이벤트 태그 로그를 분석하여 시스템 안정성에 영향을 미치는 룰 충돌은?',
                                    dataSources: ['rule_conflict_detection_flag', 'important_event_tagged_logs', 'log_level_message_aggregation', 'rule_coverage_measurement']
                                },
                                {
                                    text: '외부 서비스 실패율과 재시도 횟수를 분석하여 시스템 의존성의 취약점은 어디인가?',
                                    dataSources: ['external_service_failure_rate', 'retry_count', 'external_api_call_count_response_time', 'cache_hit_miss_metrics']
                                },
                                {
                                    text: '성능 회귀 탐지 알림 로그와 성능 변화 트렌드를 분석하여 장기적 성능 저하 패턴은?',
                                    dataSources: ['performance_regression_detection_alert_log', 'performance_change_trend_weekly_monthly', 'service_level_indicator_sli', 'service_level_objective_slo']
                                }
                            ]
                        }
                    ],
                    ontology: [
                        {
                            name: 'ExecutionDataCollection',
                            description: '실행 데이터 수집(워크플로우 ID, 실행 시간, 리소스 사용량)을 온톨로지로 표현하여 비효율 진단에 활용 (Agent 22 핵심 온톨로지)'
                        },
                        {
                            name: 'PerformanceBottleneck',
                            description: '성능 병목(실행 시간, 리소스 사용, 큐 대기시간)을 온톨로지로 표현하여 최적화 지점 식별에 활용'
                        },
                        {
                            name: 'ErrorPatternAnalysis',
                            description: '에러 패턴 분석(실패율, 에러 코드, 재시도)을 온톨로지로 표현하여 안정성 개선에 활용'
                        },
                        {
                            name: 'SystemStability',
                            description: '시스템 안정성(룰 충돌, 외부 의존성, 성능 회귀)을 온톨로지로 표현하여 취약점 식별에 활용'
                        }
                    ],
                    analysis: {
                        questionAnalysis: '이 질문 세트는 전체 에이전트들의 실행 데이터를 종합하여 시스템의 비효율과 불안정성을 진단합니다. rules.yaml의 R1a~R1d, R6a~R6c 룰과 직접 연계됩니다.',
                        answerAnalysis: '실행 데이터 수집은 R1a 룰이 개입 실패 시 로그 분석을 수행하고, R6a 룰이 성능 메트릭을 분석합니다. 룰 충돌은 R2a 룰이 스캔하고, 성능 회귀는 R9b 룰이 감지합니다.',
                        ruleBasedActions: 'rules.yaml의 R1a~R1d 룰이 개입 실패 분석을 수행하고, R2a~R2c 룰이 룰 충돌을 감지하며, R6a~R6c 룰이 성능 분석을 수행하며, R9b 룰이 성능 저하를 감지합니다.'
                    }
                },
                2: {
                    questionSets: [
                        {
                            title: '룰 구조 및 분석 패턴 비교 질문',
                            questions: [
                                {
                                    text: '전체 에이전트의 rules.yaml 파일을 스캔하여 동일 조건을 사용하는 룰들의 중복과 충돌 가능성을 어떻게 분석하는가?',
                                    dataSources: ['rules_yaml_version_tag', 'rule_id_list_used', 'rule_execution_order', 'rule_conflict_detection_flag', 'rule_dependency_map']
                                },
                                {
                                    text: '충돌하는 룰 그룹별로 입력 시나리오에 따른 상충 출력을 비교하여 우선순위 조정 전략은?',
                                    dataSources: ['conflicting_rule_groups', 'rule_execution_count', 'rule_average_execution_time', 'rule_commonality_analysis']
                                },
                                {
                                    text: '중복 룰을 모듈화하여 공통 라이브러리화하는 방안과 예상 리팩토링 작업량은?',
                                    dataSources: ['duplicate_rules_detected', 'duplicate_count', 'rule_commonality_analysis', 'refactoring_effort_estimate']
                                },
                                {
                                    text: '엣지 케이스 미처리 여부를 확인하여 미처리 케이스 목록과 발생 빈도를 어떻게 집계하는가?',
                                    dataSources: ['unhandled_input_cases_list', 'unhandled_case_frequency', 'unhandled_case_severity_assessment', 'edge_case_testing_framework']
                                },
                                {
                                    text: '분석 결과의 일관성과 재현성을 검증하기 위해 출력 분산도와 변동성 소스를 어떻게 식별하는가?',
                                    dataSources: ['output_payload_snapshot', 'intermediate_calculated_values', 'output_variance_analysis', 'output_inconsistency_detected', 'recent_executions']
                                }
                            ]
                        },
                        {
                            title: '분석 품질 및 해석 가능성 개선 질문',
                            questions: [
                                {
                                    text: '분석 결과에 explainability 필드(used_rule_ids, confidence, intermediate_values)를 추가하는 스키마 마이그레이션 전략은?',
                                    dataSources: ['used_model_llm_name_version', 'model_response_latency_ms', 'model_token_consumption', 'confidence_score', 'explainability_text']
                                },
                                {
                                    text: '동일 입력에 대한 출력 불일치 발생 시 자동 비교·검증 시스템의 설계 방안은?',
                                    dataSources: ['output_mismatch_detected', 'automated_output_comparison', 'comparison_conditions', 'logging_range']
                                },
                                {
                                    text: '분석 결과의 정확도와 신뢰도를 검증하기 위한 라벨링된 정답 샘플과 모델 업데이트 전후 비교 메트릭은?',
                                    dataSources: ['labeled_ground_truth_samples', 'model_rule_update_before_after_comparison_metrics', 'analysis_accuracy', 'analysis_reliability']
                                },
                                {
                                    text: '입력값과 출력값의 분포 통계를 분석하여 데이터 편향과 출력 안정성을 어떻게 확인하는가?',
                                    dataSources: ['input_value_distribution_statistics', 'output_value_distribution_statistics', 'data_bias_detection', 'output_stability_check']
                                }
                            ]
                        }
                    ],
                    ontology: [
                        {
                            name: 'RuleConflictAnalysis',
                            description: '룰 충돌 분석(중복 조건, 상충 출력, 우선순위)을 온톨로지로 표현하여 룰 네트워크 최적화에 활용'
                        },
                        {
                            name: 'RuleRefactoring',
                            description: '룰 리팩토링(모듈화, 공통 라이브러리화, 작업량 추정)을 온톨로지로 표현하여 유지보수성 향상에 활용'
                        },
                        {
                            name: 'EdgeCaseCoverage',
                            description: '엣지 케이스 커버리지(미처리 케이스, 발생 빈도, 심각도)를 온톨로지로 표현하여 시스템 완전성 향상에 활용'
                        },
                        {
                            name: 'AnalysisQuality',
                            description: '분석 품질(정확도, 신뢰도, 일관성, 해석 가능성)을 온톨로지로 표현하여 분석 결과 검증에 활용'
                        }
                    ],
                    analysis: {
                        questionAnalysis: '이 질문 세트는 각 에이전트의 룰 구조와 분석 패턴을 비교하여 중복·충돌·누락을 최소화하는 개선 방향을 제안합니다. rules.yaml의 R2a~R2c, R3a~R3c, R4a~R4c 룰과 직접 연계됩니다.',
                        answerAnalysis: '룰 충돌 스캔은 R2a 룰이 수행하고, 충돌 해결 전략은 R2b 룰이 제안합니다. 출력 분산 분석은 R3a 룰이 수행하고, explainability 강화는 R3b 룰이 처리합니다. 미처리 케이스 집계는 R4a 룰이 수행합니다.',
                        ruleBasedActions: 'rules.yaml의 R2a~R2c 룰이 룰 충돌을 감지하고 해결 전략을 제안하며, R3a~R3c 룰이 분석 결과 일관성을 검증하고, R4a~R4c 룰이 엣지 케이스 커버리지를 개선합니다.'
                    }
                },
                3: {
                    questionSets: [
                        {
                            title: '자가 업그레이드 루프 설계 질문',
                            questions: [
                                {
                                    text: '데이터 수집 → 취약점 진단 → 3 File 생성 → AI 검토 → 검증 → 배포의 자가 업그레이드 루프 전체를 점검하여 각 단계의 자동화 가능성은?',
                                    dataSources: ['workflow_execution_id', 'execution_timestamp_start', 'execution_timestamp_end', 'vulnerability_analysis_result', 'three_file_document_generated', 'ai_review_result', 'verification_checklist', 'deployment_status']
                                },
                                {
                                    text: '3 File System 문서(Problem Definition, Improvement Design, Execution Plan) 자동 생성 템플릿과 체크리스트는?',
                                    dataSources: ['three_file_template_generation', 'problem_definition', 'improvement_design', 'execution_plan', 'change_verification_checklist', 'rollback_procedures']
                                },
                                {
                                    text: '자동 개선 시나리오별 검증 규칙과 롤백·검증 체크리스트를 어떻게 구분하고 설계하는가?',
                                    dataSources: ['automated_improvement_active', 'verification_needed', 'test_criteria', 'rollback_conditions_quantitative_indicators', 'change_verification_checklist']
                                },
                                {
                                    text: '개선 제안별 예상 영향과 노력도를 정량화하여 우선순위 매트릭스를 어떻게 구성하는가?',
                                    dataSources: ['improvement_proposal_expected_impact_quantitative', 'improvement_work_estimated_person_hours', 'impact_effort_matrix', 'priority_ranking']
                                },
                                {
                                    text: '개선 배포 후 검증 일정과 책임자, 롤백 조건을 포함한 운영 책임 체계는?',
                                    dataSources: ['improvement_deployment_verification_schedule', 'improvement_deployment_responsible_party', 'rollback_conditions_quantitative_indicators', 'monitoring_dashboard_snapshot_url_version']
                                }
                            ]
                        },
                        {
                            title: '지속적 성능 향상 및 자동화 검증 질문',
                            questions: [
                                {
                                    text: '성능 변화 트렌드(주간·월간)를 분석하여 지속적 성능 향상을 위한 자동화된 모니터링 파이프라인 설계는?',
                                    dataSources: ['performance_change_trend_weekly_monthly', 'service_level_indicator_sli', 'service_level_objective_slo', 'monitoring_dashboard_snapshot_url_version']
                                },
                                {
                                    text: '오류 자가복구 메커니즘과 자동교정(auto-tune) 시도 기록을 분석하여 자가복구 성공률과 실패 원인은?',
                                    dataSources: ['auto_tune_attempt_record', 'auto_tune_failure_reason', 'error_self_recovery_mechanism', 'recovery_success_rate']
                                },
                                {
                                    text: '규칙 수정 제안의 자동 생성과 수락/거부 이력을 분석하여 AI 제안의 효과성은?',
                                    dataSources: ['rule_modification_suggestion_auto_generated', 'proposal_acceptance_rejection_history_reason', 'ai_suggestion_effectiveness', 'improvement_proposal_expected_impact_quantitative']
                                },
                                {
                                    text: '연관 학습모델 재학습 필요성 플래그와 재학습 데이터 샘플링 규칙을 포함한 자동 업데이트 체계는?',
                                    dataSources: ['related_learning_model_retraining_necessity_flag', 'retraining_data_sampling_rules', 'model_rule_update_before_after_comparison_metrics', 'automated_update_system']
                                },
                                {
                                    text: '최종 개선 리포트의 버전 관리와 피드백 루프 데이터를 통한 실제 효과 검증 방법은?',
                                    dataSources: ['final_improvement_report_versioned_pdf_markdown', 'feedback_loop_data_user_teacher_feedback', 'intervention_after_student_performance_indicators_short_term', 'intervention_after_student_performance_indicators_long_term']
                                }
                            ]
                        }
                    ],
                    ontology: [
                        {
                            name: 'SelfUpgradeLoop',
                            description: '자가 업그레이드 루프(데이터 수집→진단→문서 생성→검토→검증→배포)를 온톨로지로 표현하여 자동 진화 구조 설계에 활용 (Agent 22 핵심 온톨로지)'
                        },
                        {
                            name: 'ThreeFileSystem',
                            description: '3 File System 문서(문제 정의, 개선 설계, 실행 계획)를 온톨로지로 표현하여 코드 변경 검증에 활용'
                        },
                        {
                            name: 'ContinuousImprovement',
                            description: '지속적 성능 향상(트렌드 분석, 자동화 모니터링, 성능 회귀 감지)을 온톨로지로 표현하여 장기 진화에 활용'
                        },
                        {
                            name: 'AutomatedVerification',
                            description: '자동화 검증(검증 규칙, 롤백 조건, 테스트 기준)을 온톨로지로 표현하여 안전한 배포에 활용'
                        },
                        {
                            name: 'ImpactEffortMatrix',
                            description: '영향도-노력도 매트릭스(예상 영향, 예상 소요, 우선순위)를 온톨로지로 표현하여 개선 제안 우선순위화에 활용'
                        }
                    ],
                    analysis: {
                        questionAnalysis: '이 질문 세트는 시스템이 장기적으로 안정적이고 자동 진화 가능한 구조로 가기 위한 업그레이드 루프와 검증 체계를 설계합니다. rules.yaml의 R8a~R8c, R9a~R9c 룰과 직접 연계됩니다.',
                        answerAnalysis: '3 File 템플릿 생성은 R8a 룰이 수행하고, 검증 체크리스트는 R8b 룰이 생성합니다. 빠른 검토 템플릿은 R8c 룰이 제공합니다. 치명적 실패 대응은 R9a 룰이 수행하고, 성능 저하 감지는 R9b 룰이 처리하며, 룰 건강도 모니터링은 R9c 룰이 수행합니다.',
                        ruleBasedActions: 'rules.yaml의 R8a~R8c 룰이 3 File System 문서 생성과 검증 체계를 설계하고, R9a~R9c 룰이 복합 시나리오 대응과 지속적 모니터링을 수행합니다.'
                    }
                },
                ontology: [
                    {
                        name: 'ModuleImprovement',
                        description: '모듈 개선(비효율 진단/룰 최적화)을 온톨로지로 표현'
                    }
                ]
            }
            
        };
        
    </script>
    
    <!-- 데이터 기반 질문 세트 상세 정의 (Agent 04~22) -->
    <script src="data_based_questions.js"></script>
</body>
</html>

