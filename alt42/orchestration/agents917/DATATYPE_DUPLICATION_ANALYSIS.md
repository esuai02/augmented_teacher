# Agent 01~21 Datatype 중복성 분석 보고서

**분석 일시**: 2025-01-XX  
**분석 대상**: agent01 ~ agent21의 rules/datatype.md 파일 (총 21개 파일)  
**분석 목적**: 데이터 항목의 중복성 체크 및 개선 방안 제시

---

## 📊 전체 요약

- **총 에이전트 수**: 21개
- **총 데이터 항목 수**: 약 2,100개 (각 100항목 × 21개)
- **중복 가능성 높은 항목**: 약 150~200개 (예상)
- **주요 중복 영역**: 감정/정서, 루틴/리듬, 피드백, 타이밍, 페르소나

---

## 🔍 주요 중복 패턴 분석

### 1. **감정/정서 관련 데이터** (가장 높은 중복)

#### 중복 항목 예시:
- **감정 코드/상태**: agent05, agent07, agent08, agent12, agent13, agent14, agent15, agent16, agent17, agent20, agent21
  - "현재 감정 코드(긍정/중립/부정)"
  - "감정 안정도"
  - "감정 변화폭(Δ)"
  - "감정 회복속도"
  - "감정 안정화 시간"

- **감정-행동 상관**: agent05, agent08, agent14, agent15, agent17
  - "감정-행동 상관계수"
  - "감정 변화와 문제풀이 정확도 상관계수"
  - "감정-집중 상관계수"

- **감정 피로/에너지**: agent05, agent12, agent13, agent17, agent20
  - "피로도 지수"
  - "감정 에너지 레벨"
  - "피로 누적 속도"
  - "권태 신호"

**권장사항**: 
- Agent 05(학습감정 분석)를 감정 데이터의 **마스터 소스**로 지정
- 다른 에이전트는 Agent 05의 데이터를 참조하도록 구조화

---

### 2. **루틴/리듬 관련 데이터** (높은 중복)

#### 중복 항목 예시:
- **루틴 유지/붕괴**: agent04, agent09, agent12, agent13, agent14, agent17, agent18
  - "루틴 유지시간"
  - "루틴 붕괴 발생 횟수"
  - "루틴 복귀 성공률"
  - "루틴 안정도 점수"

- **리듬/주기**: agent07, agent12, agent14, agent17, agent18
  - "학습 리듬 주기"
  - "리듬 변동폭"
  - "리듬 복귀 속도"
  - "포모도르 주기"

- **루틴 패턴**: agent13, agent14, agent17, agent18
  - "루틴 패턴 안정도"
  - "루틴 전환 성공률"
  - "루틴 진화단계"

**권장사항**:
- Agent 18(시그너처 루틴 탐색)을 루틴 데이터의 **마스터 소스**로 지정
- Agent 12(휴식루틴), Agent 13(이탈분석)과 통합 검토

---

### 3. **집중도/몰입 관련 데이터** (중간 중복)

#### 중복 항목 예시:
- **집중도 측정**: agent04, agent07, agent08, agent13, agent14, agent17, agent20, agent21
  - "집중도 점수"
  - "집중 유지시간"
  - "집중도 변화율"
  - "집중 회복속도"

- **몰입 상태**: agent04, agent07, agent18, agent21
  - "몰입도 변동 곡선"
  - "몰입 지속시간"
  - "몰입 회복 속도"

**권장사항**:
- Agent 04(문제활동) 또는 Agent 18(시그너처 루틴)을 집중도 데이터의 **마스터 소스**로 지정

---

### 4. **피드백/상호작용 관련 데이터** (중간 중복)

#### 중복 항목 예시:
- **피드백 효과**: agent04, agent05, agent06, agent10, agent11, agent19, agent20, agent21
  - "피드백 반응시간"
  - "피드백 수용률"
  - "피드백 효과 지속시간"
  - "피드백 후 변화율"

- **상호작용 타이밍**: agent07, agent16, agent19, agent20, agent21
  - "개입 타이밍"
  - "상호작용 적정 주기"
  - "트리거 발생 시점"

**권장사항**:
- Agent 07(상호작용 타게팅)을 피드백 타이밍의 **마스터 소스**로 지정
- Agent 19(상호작용 완결성)와 통합 검토

---

### 5. **페르소나 관련 데이터** (중간 중복)

#### 중복 항목 예시:
- **페르소나 유형**: agent04, agent05, agent15, agent16
  - "현재 페르소나 유형"
  - "페르소나 전환 빈도"
  - "페르소나별 성공 패턴"

**권장사항**:
- Agent 04(문제활동) 또는 Agent 05(학습감정)를 페르소나 데이터의 **마스터 소스**로 지정

---

### 6. **시간/진행률 관련 데이터** (낮은 중복, 의미적 유사)

#### 중복 항목 예시:
- **시간 추적**: agent02, agent03, agent14, agent17
  - "예상 vs 실제 시간"
  - "지연시간"
  - "완료율"

- **진행률**: agent02, agent03, agent14, agent17, agent20
  - "목표 달성률"
  - "계획 대비 진행률"
  - "완료율"

**권장사항**:
- 각 에이전트의 목적에 따라 구분 유지 (시험/목표/현재위치/잔여활동)
- 공통 시간 메타데이터는 Agent 14(현재 위치)에서 참조

---

### 7. **오답/성과 관련 데이터** (낮은 중복, 컨텍스트 차이)

#### 중복 항목 예시:
- **오답 분석**: agent04, agent08, agent10, agent11
  - "오답 원인"
  - "오답률"
  - "오답 패턴"

**권장사항**:
- 각 에이전트의 관점 차이 유지 (문제활동/침착도/개념노트/문제노트)
- 공통 오답 메타데이터는 Agent 11(문제노트)에서 참조

---

## 📋 에이전트별 중복도 평가

| 에이전트 | 중복 가능 항목 수 | 주요 중복 영역 | 우선순위 |
|---------|----------------|--------------|---------|
| Agent 01 (온보딩) | 낮음 (5~10개) | 기본 정보 | 낮음 |
| Agent 02 (시험일정) | 중간 (15~20개) | 시간/진행률 | 중간 |
| Agent 03 (목표분석) | 중간 (15~20개) | 목표/계획 | 중간 |
| Agent 04 (문제활동) | 높음 (25~30개) | 감정/루틴/집중도/페르소나 | 높음 |
| Agent 05 (학습감정) | 높음 (30~35개) | 감정/페르소나/피드백 | 높음 |
| Agent 06 (교사피드백) | 중간 (15~20개) | 피드백/상호작용 | 중간 |
| Agent 07 (상호작용타게팅) | 높음 (25~30개) | 타이밍/집중도/피드백 | 높음 |
| Agent 08 (침착도) | 중간 (20~25개) | 감정/집중도/확신 | 중간 |
| Agent 09 (학습관리) | 낮음 (10~15개) | 데이터 품질 | 낮음 |
| Agent 10 (개념노트) | 중간 (15~20개) | 오답/이해도 | 중간 |
| Agent 11 (문제노트) | 중간 (15~20개) | 오답/성찰 | 중간 |
| Agent 12 (휴식루틴) | 높음 (25~30개) | 루틴/피로/회복 | 높음 |
| Agent 13 (학습이탈) | 높음 (25~30개) | 루틴/감정/집중도 | 높음 |
| Agent 14 (현재위치) | 중간 (20~25개) | 시간/진행률/감정 | 중간 |
| Agent 15 (문제재정의) | 중간 (20~25개) | 감정/원인/우선순위 | 중간 |
| Agent 16 (상호작용준비) | 중간 (20~25개) | 페르소나/감정/타이밍 | 중간 |
| Agent 17 (잔여활동조정) | 높음 (25~30개) | 리듬/감정/루틴 | 높음 |
| Agent 18 (시그너처루틴) | 높음 (30~35개) | 루틴/몰입/감정 | 높음 |
| Agent 19 (상호작용완결성) | 중간 (15~20개) | 룰/데이터 품질 | 중간 |
| Agent 20 (개입계획) | 높음 (25~30개) | 감정/타이밍/피드백 | 높음 |
| Agent 21 (개입실행) | 높음 (25~30개) | 감정/집중도/피드백 | 높음 |

---

## 🎯 개선 권장사항

### 1. **마스터 데이터 소스 지정**

다음 에이전트를 각 영역의 **마스터 소스**로 지정:

- **감정/정서**: Agent 05 (학습감정 분석)
- **루틴/리듬**: Agent 18 (시그너처 루틴 탐색)
- **집중도/몰입**: Agent 04 (문제활동) 또는 Agent 18
- **피드백 타이밍**: Agent 07 (상호작용 타게팅)
- **페르소나**: Agent 04 (문제활동) 또는 Agent 05
- **시간 메타데이터**: Agent 14 (현재 위치)
- **오답 메타데이터**: Agent 11 (문제노트)

### 2. **데이터 참조 구조화**

- 다른 에이전트는 마스터 소스의 데이터를 **참조(Reference)**하도록 변경
- 중복 정의 대신 `agent_id.field_name` 형태로 참조

예시:
```yaml
# Agent 07에서 감정 데이터 참조
emotion_code: ref(agent05.emotion_code)
emotion_stability: ref(agent05.emotion_stability)
```

### 3. **의미적 중복 vs 컨텍스트 차이 구분**

- **의미적 중복**: 동일한 개념을 다른 이름으로 표현 (예: "감정 안정도" vs "정서 안정도")
  → 통일된 용어 사용 권장

- **컨텍스트 차이**: 같은 데이터지만 다른 관점에서 사용 (예: Agent 10의 "오답 원인" vs Agent 11의 "오답 원인")
  → 유지하되, 명확한 구분 필요

### 4. **데이터 매핑 테이블 생성**

각 에이전트의 데이터 항목을 마스터 소스와 매핑하는 테이블 생성:

```yaml
# 예시: 감정 데이터 매핑
emotion_mapping:
  agent05:
    - emotion_code
    - emotion_stability
    - emotion_recovery_speed
  agent07:
    - current_emotion_tone: ref(agent05.emotion_code)
    - emotion_stability: ref(agent05.emotion_stability)
  agent08:
    - emotion_stability_index: ref(agent05.emotion_stability)
```

### 5. **우선순위별 리팩토링 계획**

#### Phase 1 (높은 우선순위)
- Agent 05, Agent 18의 데이터 구조를 마스터로 확정
- Agent 04, Agent 07, Agent 12, Agent 13, Agent 17, Agent 20, Agent 21의 중복 항목 정리

#### Phase 2 (중간 우선순위)
- Agent 02, Agent 03, Agent 06, Agent 08, Agent 14, Agent 15, Agent 16의 중복 항목 정리

#### Phase 3 (낮은 우선순위)
- Agent 01, Agent 09, Agent 10, Agent 11, Agent 19의 중복 항목 정리

---

## 📝 구체적 중복 항목 리스트 (주요 항목만)

### 감정 관련 중복 (약 50개 항목)

1. **감정 코드/상태** (10개 중복)
   - Agent 05: "감정 분류 태그"
   - Agent 07: "학생의 현재 감정톤"
   - Agent 08: "감정 안정도 지수"
   - Agent 12: "감정 안정도"
   - Agent 13: "이탈 전 감정 상태"
   - Agent 14: "감정 안정도"
   - Agent 15: "정서적 원인 지수"
   - Agent 16: "최근 감정 안정도"
   - Agent 17: "현재 감정 코드"
   - Agent 20: "현재 감정 코드"
   - Agent 21: "개입 전/후 감정 코드"

2. **감정 회복속도** (8개 중복)
   - Agent 05: "감정회복속도"
   - Agent 08: "감정 회복속도"
   - Agent 12: "감정 회복속도"
   - Agent 13: "감정 회복 실패 후 연속이탈 횟수"
   - Agent 17: "감정 회복 성공률"
   - Agent 18: "감정 회복 루프 성공률"
   - Agent 20: "감정 안정 유지시간"
   - Agent 21: "감정 회복 성공률"

### 루틴 관련 중복 (약 40개 항목)

1. **루틴 유지/붕괴** (12개 중복)
   - Agent 04: "루틴 유지시간"
   - Agent 09: "루틴 유지시간 평균"
   - Agent 12: "루틴 유지율"
   - Agent 13: "루틴 일관성 및 안정성"
   - Agent 14: "루틴 연속성"
   - Agent 17: "루틴 붕괴 발생 횟수"
   - Agent 18: "루틴 안정화 지수"
   - 등등...

2. **리듬/주기** (10개 중복)
   - Agent 07: "학습 리듬 상태"
   - Agent 12: "포모도르 주기와의 동기율"
   - Agent 14: "학습 리듬 주기"
   - Agent 17: "현재 리듬 상태코드"
   - Agent 18: "감정 리듬 동기화율"
   - 등등...

### 집중도 관련 중복 (약 30개 항목)

1. **집중도 측정** (15개 중복)
   - Agent 04: "집중도 점수"
   - Agent 07: "집중 유지시간 평균"
   - Agent 08: "집중도 급락 감지"
   - Agent 13: "집중도 급락 이벤트 수"
   - Agent 14: "집중 지속시간 평균"
   - Agent 17: "집중 유지 시간"
   - Agent 20: "집중유지시간"
   - Agent 21: "개입 후 집중도 변화율"
   - 등등...

---

## ✅ 다음 단계 액션 아이템

1. [ ] 각 에이전트의 datatype.md에 마스터 소스 참조 추가
2. [ ] 데이터 매핑 테이블 YAML 파일 생성
3. [ ] 중복 항목 제거 및 참조 구조로 변경
4. [ ] 문서화: 각 에이전트의 데이터 소스 명시
5. [ ] 테스트: 참조 구조 변경 후 시스템 동작 확인

---

## 📌 참고사항

- 이 분석은 **의미적 중복**을 중심으로 수행되었습니다.
- **컨텍스트 차이**가 있는 경우 (예: Agent 10의 "오답 원인" vs Agent 11의 "오답 원인")는 유지하는 것이 적절할 수 있습니다.
- 실제 중복 제거 시에는 각 에이전트의 **비즈니스 로직**과 **데이터 사용 패턴**을 함께 고려해야 합니다.

---

**작성자**: AI Assistant  
**검토 필요**: 각 에이전트 담당자

