# Agent19 UX 컨텍스트 목록 (Context List)

> **목적**: 학습 콘텐츠 상호작용 중 발생하는 UX 컨텍스트 정의
> **버전**: 1.0.0
> **최종 수정**: 2025-12-02
> **참조**: personas.md, rules/rules.yaml

---

## 1. 컨텍스트 체계 개요

### 1.1 컨텍스트 분류 구조

```
UX Context
├── 상황 컨텍스트 (Situation Context) - S1~S7
├── 상호작용 컨텍스트 (Interaction Context) - I1~I7
├── 환경 컨텍스트 (Environment Context) - E1~E4
└── 시간 컨텍스트 (Temporal Context) - T1~T5
```

### 1.2 컨텍스트-페르소나 매핑 원칙

| 컨텍스트 유형 | 매핑 대상 | 우선순위 |
|-------------|----------|---------|
| 상황(S) | 복합 페르소나 (CP) | 1순위 |
| 상호작용(I) | 행동 페르소나 (B) | 2순위 |
| 환경(E) | 인지 페르소나 (C) | 3순위 |
| 시간(T) | 감정 페르소나 (E) | 4순위 |

---

## 2. 상황 컨텍스트 (Situation Context)

### S1: 이탈 감지 (Dropout Detection)

| 컨텍스트 ID | 컨텍스트명 | 트리거 조건 | 권장 페르소나 |
|------------|----------|------------|-------------|
| S1_CTX_01 | 갑작스러운 이탈 | 활동 중단 > 5분, 이전 활동 정상 | C2(피로), E3(권태), B2(수동) |
| S1_CTX_02 | 점진적 이탈 | 응답 지연 증가, 참여도 하락 패턴 | C1(활성), E4(도전), B1(적극) |
| S1_CTX_03 | 기술적 이탈 | 연결 끊김, 오류 발생 후 미복귀 | C4(문제해결), E6(안정), B3(즉흥) |
| S1_CTX_04 | 관심 저하 이탈 | 클릭률 감소, 스킵 비율 증가 | C3(개념), E3(권태), B5(몰입) |

**UX 설계 가이드라인:**
- 이탈 시점의 콘텐츠 난이도 분석
- 복귀 유도 메시지의 톤 조절
- 이탈 패턴에 따른 콘텐츠 재구성

---

### S2: 지연 (Delay)

| 컨텍스트 ID | 컨텍스트명 | 트리거 조건 | 권장 페르소나 |
|------------|----------|------------|-------------|
| S2_CTX_01 | 이해 지연 | 문제 해결 시간 평균 대비 2배 초과 | C3(개념), C6(추론), E4(도전) |
| S2_CTX_02 | 주의 산만 지연 | 불규칙한 상호작용 패턴 | C2(피로), B6(간헐), E3(권태) |
| S2_CTX_03 | 완벽주의 지연 | 정답 후에도 재검토 반복 | C4(문제해결), E1(자신감), B4(신중) |
| S2_CTX_04 | 불안 기반 지연 | 시작 전 긴 대기, 망설임 패턴 | C5(패턴), E2(불안), B2(수동) |

**UX 설계 가이드라인:**
- 지연 유형별 힌트 제공 전략
- 시간 압박 vs 충분한 시간 제공 결정
- 자기 효능감 강화 메시지

---

### S3: 휴식 루틴 (Rest Routine)

| 컨텍스트 ID | 컨텍스트명 | 트리거 조건 | 권장 페르소나 |
|------------|----------|------------|-------------|
| S3_CTX_01 | 예정된 휴식 | 스케줄 기반 휴식 시간 도달 | C1(활성), E6(안정), B5(몰입) |
| S3_CTX_02 | 피로 기반 휴식 | 정확도 하락, 응답 지연 증가 | C2(피로), E5(좌절), B6(간헐) |
| S3_CTX_03 | 목표 달성 휴식 | 단원/섹션 완료 후 | C4(문제해결), E1(자신감), B1(적극) |
| S3_CTX_04 | 자발적 휴식 요청 | 사용자 명시적 휴식 요청 | Any C, E6(안정), B3(즉흥) |

**UX 설계 가이드라인:**
- 휴식 시간 권장 알고리즘
- 복귀 동기 부여 전략
- 마이크로 휴식 vs 긴 휴식 결정

---

### S4: 오류 패턴 (Error Patterns)

| 컨텍스트 ID | 컨텍스트명 | 트리거 조건 | 권장 페르소나 |
|------------|----------|------------|-------------|
| S4_CTX_01 | 개념 오류 반복 | 동일 유형 문제 3회 이상 오답 | C3(개념), C6(추론), E4(도전) |
| S4_CTX_02 | 부주의 오류 | 쉬운 문제 오답, 빠른 응답 후 실수 | C2(피로), B3(즉흥), E3(권태) |
| S4_CTX_03 | 응용 오류 | 기본 문제 정답, 응용 문제 오답 | C4(문제해결), C5(패턴), E2(불안) |
| S4_CTX_04 | 포기 패턴 | 시도 없이 스킵 또는 빈 답안 | C2(피로), E5(좌절), B2(수동) |

**UX 설계 가이드라인:**
- 오류 유형별 피드백 전략
- 힌트 제공 단계 설계
- 성공 경험 제공을 위한 난이도 조절

---

### S5: 정서적 안정 (Emotional Stability)

| 컨텍스트 ID | 컨텍스트명 | 트리거 조건 | 권장 페르소나 |
|------------|----------|------------|-------------|
| S5_CTX_01 | 자신감 상승 | 연속 정답, 빠른 해결, 높은 정확도 | C1(활성), E1(자신감), B1(적극) |
| S5_CTX_02 | 불안 감지 | 응답 지연 증가, 답안 변경 빈번 | C5(패턴), E2(불안), B4(신중) |
| S5_CTX_03 | 좌절 감지 | 오답 후 긴 멈춤, 상호작용 감소 | C2(피로), E5(좌절), B2(수동) |
| S5_CTX_04 | 지루함 감지 | 빠른 스킵, 낮은 참여도, 패턴화된 응답 | C1(활성), E3(권태), B6(간헐) |

**UX 설계 가이드라인:**
- 감정 상태별 콘텐츠 톤 조절
- 격려 메시지 빈도 및 내용
- 도전-지지 균형 조절

---

### S6: 활동 불균형 (Activity Imbalance)

| 컨텍스트 ID | 컨텍스트명 | 트리거 조건 | 권장 페르소나 |
|------------|----------|------------|-------------|
| S6_CTX_01 | 특정 활동 편중 | 한 유형 활동만 선택, 다른 유형 회피 | C3(개념), B4(신중), E2(불안) |
| S6_CTX_02 | 난이도 편중 | 쉬운 문제만 선택 또는 어려운 문제만 시도 | C4(문제해결), E1/E2, B1/B4 |
| S6_CTX_03 | 학습-평가 불균형 | 학습 콘텐츠 회피, 평가만 시도 | C5(패턴), B1(적극), E4(도전) |
| S6_CTX_04 | 시간 불균형 | 특정 시간대에만 집중, 불규칙한 학습 | C2(피로), B6(간헐), E6(안정) |

**UX 설계 가이드라인:**
- 균형 잡힌 활동 유도 전략
- 새로운 활동 유형 소개 방법
- 학습 포트폴리오 시각화

---

### S7: 시그니처 루틴 (Signature Routine)

| 컨텍스트 ID | 컨텍스트명 | 트리거 조건 | 권장 페르소나 |
|------------|----------|------------|-------------|
| S7_CTX_01 | 학습 시작 루틴 | 로그인 후 첫 활동 패턴 | C1(활성), E1(자신감), B1(적극) |
| S7_CTX_02 | 문제 풀이 루틴 | 문제 접근 시 개인화된 패턴 | C4(문제해결), C5(패턴), B4(신중) |
| S7_CTX_03 | 복습 루틴 | 오답 노트 확인, 이전 내용 복습 | C6(추론), E6(안정), B5(몰입) |
| S7_CTX_04 | 학습 종료 루틴 | 세션 종료 전 정리 활동 | C3(개념), E6(안정), B4(신중) |

**UX 설계 가이드라인:**
- 개인별 루틴 인식 및 지원
- 루틴 강화 vs 변화 유도 결정
- 긍정적 루틴 형성 유도

---

## 3. 상호작용 컨텍스트 (Interaction Context)

### I1: 텍스트 기반 (Text-based)

| 컨텍스트 ID | 상호작용 유형 | 적합한 페르소나 | 콘텐츠 특성 |
|------------|-------------|---------------|-----------|
| I1_CTX_01 | 설명 읽기 | C3(개념), C6(추론) | 구조화된 텍스트, 핵심 강조 |
| I1_CTX_02 | 질문 응답 | C4(문제해결), B1(적극) | 단답형/서술형, 피드백 제공 |
| I1_CTX_03 | 대화형 학습 | C1(활성), B5(몰입) | 챗봇 형식, 점진적 힌트 |

---

### I2: 인터랙티브 콘텐츠 (Interactive Content)

| 컨텍스트 ID | 상호작용 유형 | 적합한 페르소나 | 콘텐츠 특성 |
|------------|-------------|---------------|-----------|
| I2_CTX_01 | 드래그 앤 드롭 | B1(적극), B3(즉흥) | 시각적 조작, 즉각 피드백 |
| I2_CTX_02 | 시뮬레이션 | C4(문제해결), B5(몰입) | 가상 실험, 결과 관찰 |
| I2_CTX_03 | 게임화 요소 | E4(도전), B1(적극) | 점수, 배지, 리더보드 |

---

### I3: 루틴 개선 (Routine Improvement)

| 컨텍스트 ID | 상호작용 유형 | 적합한 페르소나 | 콘텐츠 특성 |
|------------|-------------|---------------|-----------|
| I3_CTX_01 | 학습 계획 제안 | C5(패턴), B4(신중) | 맞춤형 스케줄, 목표 설정 |
| I3_CTX_02 | 습관 트래커 | B5(몰입), E6(안정) | 일일/주간 통계, 스트릭 |
| I3_CTX_03 | 리마인더 | C2(피로), B6(간헐) | 적절한 타이밍의 알림 |

---

### I4: 타임시프팅 (Timeshifting)

| 컨텍스트 ID | 상호작용 유형 | 적합한 페르소나 | 콘텐츠 특성 |
|------------|-------------|---------------|-----------|
| I4_CTX_01 | 시간 재조정 | C2(피로), E5(좌절) | 유연한 마감, 일정 변경 |
| I4_CTX_02 | 마이크로 학습 | B6(간헐), E3(권태) | 짧은 단위 콘텐츠 |
| I4_CTX_03 | 비동기 학습 | B2(수동), E6(안정) | 자기 주도적 진행 |

---

### I5: 활동 동반자 (Activity Companion)

| 컨텍스트 ID | 상호작용 유형 | 적합한 페르소나 | 콘텐츠 특성 |
|------------|-------------|---------------|-----------|
| I5_CTX_01 | 가상 튜터 | C3(개념), E2(불안) | 1:1 가이드, 질문 응답 |
| I5_CTX_02 | 학습 메이트 | B1(적극), E1(자신감) | 협력 학습, 경쟁 |
| I5_CTX_03 | 캐릭터 동반 | E4(도전), B3(즉흥) | 스토리텔링, 캐릭터 성장 |

---

### I6: 다중 턴 (Multi-turn)

| 컨텍스트 ID | 상호작용 유형 | 적합한 페르소나 | 콘텐츠 특성 |
|------------|-------------|---------------|-----------|
| I6_CTX_01 | 단계별 문제 풀이 | C4(문제해결), B4(신중) | 점진적 힌트, 스캐폴딩 |
| I6_CTX_02 | 소크라테스 대화 | C6(추론), B5(몰입) | 유도 질문, 자기 발견 |
| I6_CTX_03 | 오류 분석 대화 | C3(개념), E5(좌절) | 원인 탐색, 개념 재설명 |

---

### I7: 비선형 (Non-linear)

| 컨텍스트 ID | 상호작용 유형 | 적합한 페르소나 | 콘텐츠 특성 |
|------------|-------------|---------------|-----------|
| I7_CTX_01 | 자유 탐색 | C1(활성), B3(즉흥) | 선택적 경로, 브랜칭 |
| I7_CTX_02 | 맞춤형 경로 | C5(패턴), B4(신중) | 적응형 학습 경로 |
| I7_CTX_03 | 도전 선택 | E4(도전), B1(적극) | 난이도 선택권 |

---

## 4. 환경 컨텍스트 (Environment Context)

| 컨텍스트 ID | 컨텍스트명 | 특성 | 적합한 페르소나 |
|------------|----------|------|---------------|
| E1_CTX | 집중 환경 | 조용한 환경, 긴 학습 세션 | C5(패턴), B5(몰입), E6(안정) |
| E2_CTX | 이동 환경 | 모바일, 짧은 세션, 불규칙 | C2(피로), B6(간헐), E3(권태) |
| E3_CTX | 공유 환경 | 다른 사람 존재, 소음 | C1(활성), B3(즉흥), E1(자신감) |
| E4_CTX | 야간 환경 | 늦은 시간, 피로 누적 | C2(피로), B2(수동), E5(좌절) |

---

## 5. 시간 컨텍스트 (Temporal Context)

| 컨텍스트 ID | 컨텍스트명 | 시간대 | 권장 콘텐츠 유형 |
|------------|----------|-------|---------------|
| T1_CTX | 아침 학습 | 06:00-09:00 | 새로운 개념, 도전적 문제 |
| T2_CTX | 오전 학습 | 09:00-12:00 | 집중 학습, 복잡한 문제 |
| T3_CTX | 오후 학습 | 12:00-18:00 | 실습, 응용 문제 |
| T4_CTX | 저녁 학습 | 18:00-22:00 | 복습, 가벼운 연습 |
| T5_CTX | 야간 학습 | 22:00-06:00 | 짧은 복습, 요약 콘텐츠 |

---

## 6. 컨텍스트 조합 매트릭스

### 6.1 상황-상호작용 조합

| 상황 \ 상호작용 | I1(텍스트) | I2(인터랙티브) | I3(루틴) | I4(타임시프트) | I5(동반자) | I6(다중턴) | I7(비선형) |
|---------------|-----------|--------------|---------|--------------|----------|----------|----------|
| S1(이탈) | 🔵 | 🟢 | 🟢 | 🟢 | 🟢 | 🔵 | 🟡 |
| S2(지연) | 🔵 | 🟡 | 🔵 | 🟢 | 🟢 | 🟢 | 🟡 |
| S3(휴식) | 🟡 | 🟢 | 🟢 | 🟢 | 🔵 | 🟡 | 🟡 |
| S4(오류) | 🟢 | 🔵 | 🔵 | 🟡 | 🟢 | 🟢 | 🔵 |
| S5(정서) | 🔵 | 🟢 | 🔵 | 🔵 | 🟢 | 🟢 | 🟢 |
| S6(불균형) | 🔵 | 🟢 | 🟢 | 🔵 | 🔵 | 🔵 | 🟢 |
| S7(시그니처) | 🟢 | 🟢 | 🟢 | 🔵 | 🔵 | 🟢 | 🟢 |

**범례:** 🟢 최적 | 🔵 적합 | 🟡 조건부

---

## 7. 컨텍스트 전환 규칙

### 7.1 전환 트리거

```yaml
context_transitions:
  automatic:
    - trigger: "정확도 < 60% for 3문제"
      from: "any"
      to: "S4_CTX_01"

    - trigger: "응답시간 > 평균*2 for 2회"
      from: "any"
      to: "S2_CTX_01"

    - trigger: "활동없음 > 5분"
      from: "any"
      to: "S1_CTX_01"

  user_initiated:
    - action: "휴식 요청"
      to: "S3_CTX_04"

    - action: "도움 요청"
      to: "I6_CTX_01"
```

### 7.2 전환 우선순위

1. 긴급 상황 (이탈, 좌절) → 즉시 전환
2. 사용자 요청 → 1순위 처리
3. 성과 기반 → 안정화 후 전환
4. 시간 기반 → 자연스러운 전환점에서

---

## 8. 데이터베이스 스키마

### mdl_agent19_context_history

| 필드명 | 타입 | 설명 |
|-------|------|------|
| id | BIGINT | PK |
| userid | BIGINT | 사용자 ID |
| context_id | VARCHAR(20) | 컨텍스트 식별자 |
| context_type | ENUM | situation/interaction/environment/temporal |
| persona_applied | VARCHAR(50) | 적용된 페르소나 조합 |
| trigger_reason | TEXT | 전환 사유 |
| duration_seconds | INT | 컨텍스트 유지 시간 |
| effectiveness_score | DECIMAL(3,2) | 효과성 점수 (0.00-1.00) |
| timecreated | BIGINT | 생성 시간 |

### mdl_agent19_context_rules

| 필드명 | 타입 | 설명 |
|-------|------|------|
| id | BIGINT | PK |
| context_id | VARCHAR(20) | 컨텍스트 ID |
| rule_condition | TEXT | 트리거 조건 (JSON) |
| recommended_personas | VARCHAR(100) | 권장 페르소나 목록 |
| priority | INT | 우선순위 |
| is_active | TINYINT | 활성화 여부 |

---

## 9. API 연동

### 컨텍스트 조회 엔드포인트

```
GET /api/agent19/context/current
Response: {
  "situation": "S4_CTX_01",
  "interaction": "I6_CTX_02",
  "environment": "E1_CTX",
  "temporal": "T2_CTX",
  "recommended_personas": ["C3", "E5", "B4"],
  "composite_persona": "S4_CP1"
}
```

### 컨텍스트 전환 엔드포인트

```
POST /api/agent19/context/transition
Body: {
  "target_context": "S3_CTX_02",
  "reason": "fatigue_detected",
  "force": false
}
```

---

## 변경 이력

| 버전 | 날짜 | 변경 내용 | 작성자 |
|-----|------|---------|-------|
| 1.0.0 | 2025-12-02 | 초기 컨텍스트 목록 작성 | System |
