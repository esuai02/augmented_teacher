# 의사결정 지식 베이스

**버전**: 1.0.0
**최종 수정**: 2025-10-29
**상태**: 활성

---

## 1. 개요

이 문서는 Mathking 자동개입 시스템의 **정책, 전략, 가이드라인**을 정의합니다.
모든 에이전트의 의사결정은 이 문서의 원칙을 따라야 합니다.

---

## 2. 핵심 원칙

### 2.1 교육적 원칙

1. **학생 중심**: 모든 결정은 학생의 학습 효과 극대화를 목표로 함
2. **개별화**: 페르소나와 학습 상태에 따라 개인별 맞춤 지원
3. **적시성**: 필요한 시점에 필요한 개입을 제공
4. **점진성**: 급격한 변화보다 점진적 개선 추구
5. **자율성 존중**: 학생의 선택권과 자기주도성 보장

### 2.2 시스템 원칙

1. **규칙 우선, LLM 보완**: 명확한 규칙이 있으면 규칙을 따르고, 모호한 경우에만 LLM 판단
2. **증거 기반**: 모든 결정은 실제 학습 데이터에 근거
3. **투명성**: 결정 근거를 명확히 기록하고 설명 가능
4. **안전 우선**: 학생에게 부정적 영향을 줄 수 있는 개입은 금지
5. **검증 가능**: 모든 개입의 효과를 측정하고 검증

---

## 3. 개입 정책

### 3.1 진도 관리 (Curriculum)

#### 정책: 진도 미달 대응

**조건**:
- 평균 대비 15% 이상 뒤처진 경우
- 최근 7일간 하락 추세인 경우

**우선순위 액션**:
1. **시각화 리포트 제공** (우선순위: 1.0)
   - 현재 위치와 평균 비교 그래프
   - 최근 학습 패턴 분석
   - 구체적 수치와 목표 제시

2. **집중 학습 지시** (우선순위: 0.9)
   - 20-30분 집중 세션 권장
   - 메인 교재 핵심 파트 지정
   - 지시성 강도: 페르소나 유사도에 따라 조절

3. **난이도 하향 고려** (우선순위: 0.7)
   - 3회 이상 실패 시에만
   - 최대 -1 단계 조정
   - 점진적 회복 경로 제시

**금지 사항**:
- 진도를 강제로 건너뛰기
- 5분 내 동일 지시문 반복
- 학생 자존감을 해칠 수 있는 표현

#### 정책: 과몰입 방지

**조건**:
- 단일 주제에 45분 이상 집중
- 휴식 없이 90분 이상 학습

**우선순위 액션**:
1. **휴식 권장** (우선순위: 1.0)
   - 5-10분 휴식 제안
   - 신체 활동 또는 다른 활동 권장

2. **주제 전환 제안** (우선순위: 0.8)
   - 관련된 다른 주제로 전환
   - 학습 다양성 유지

### 3.2 시험 대비 (Exam Prep)

#### 정책: 취약 영역 집중

**조건**:
- 특정 단원 정답률 60% 미만
- 시험일 14일 이내

**우선순위 액션**:
1. **약점 분석 리포트** (우선순위: 1.0)
2. **집중 연습 지시** (우선순위: 0.9)
3. **유사 문제 추천** (우선순위: 0.8)

### 3.3 맞춤 학습 (Adaptive)

#### 정책: 난이도 조절

**조건**:
- 정답률 90% 이상 (너무 쉬움)
- 정답률 40% 이하 (너무 어려움)

**우선순위 액션**:
1. **난이도 조정** (우선순위: 1.0)
   - 상향: 정답률 90% 이상 & 3회 연속 성공
   - 하향: 정답률 40% 이하 또는 3회 연속 실패
   - 조정 폭: ±1 단계

2. **학습 경로 재설정** (우선순위: 0.7)
   - 현재 수준에 맞는 콘텐츠 추천

---

## 4. 페르소나별 전략

### 4.1 회피형 (P_avoidant)

**특징**: 낮은 자신감, 완벽주의, 실패 회피
**지시성 강도**: 0.3 (낮음-중간)
**전략**:
- 작은 성공 경험 제공
- 긍정적 피드백 강화
- 난이도 보수적 설정
- 선택권 제공 (강요 최소화)

### 4.2 학습부진형 (P_struggling)

**특징**: 기초 부족, 낮은 성취, 동기 부족
**지시성 강도**: 0.4 (중간)
**전략**:
- 기초부터 체계적 복습
- 자주 휴식 제공
- 성취감 극대화
- 구체적 단계별 가이드

### 4.3 우수형 (P_advanced)

**특징**: 높은 성취, 자기주도, 빠른 진도
**지시성 강도**: -0.2 (매우 낮음)
**전략**:
- 도전적 문제 제공
- 자율성 최대 보장
- 심화 학습 기회
- 최소 개입 원칙

---

## 5. 상황 변수 고려

### 5.1 수업 시작 (class_status: start)

- **긴급도**: 0.6
- **기회**: 0.7
- **전략**: 오늘 목표 제시, 동기 부여

### 5.2 수업 중반 (class_status: mid)

- **긴급도**: 0.5
- **기회**: 0.5
- **전략**: 진행 상황 점검, 필요시 조정

### 5.3 수업 종료 30분 전 (class_status: end_30min)

- **긴급도**: 0.8
- **기회**: 0.9
- **전략**: 오늘 목표 달성 독려, 마무리 지시

### 5.4 주간 첫 수업 (week_first_class: true)

- **기회**: 0.8
- **전략**: 주간 계획 수립, 장기 목표 상기

---

## 6. 안전 가드레일

### 6.1 금지 행동

1. **강제 진도**: 학생 준비도 무시한 진도 강요
2. **과도한 부하**: 한 번에 2단계 이상 난이도 상승
3. **반복 지시**: 5분 내 동일 지시문 재전송
4. **부정적 표현**: 학생 자존감 해치는 언어 사용
5. **개인정보 노출**: 이름, 연락처 등 PII 노출

### 6.2 검증 체크포인트

모든 리포트/지시문 생성 전:
1. ✅ 안전 정책 위반 여부
2. ✅ 페르소나 적합성
3. ✅ 우선순위 타당성
4. ✅ 증거 충분성
5. ✅ 중복 생성 방지 (idempotency)

---

## 7. 우선순위 결정 공식

```
Score = w1 * Urgency(context)
      + w2 * Severity(metrics)
      + w3 * Opportunity(time)
      + w4 * PersonaFit(similarity)
```

**기본 가중치**:
- w1 (긴급도): 0.3
- w2 (심각도): 0.3
- w3 (기회): 0.2
- w4 (페르소나 적합도): 0.2

**조정 규칙**:
- 시험일 7일 이내: w1 += 0.1
- 진도 미달 20% 이상: w2 += 0.1
- 수업 종료 30분 전: w3 += 0.15

---

## 8. 효과 측정 기준

### 8.1 단기 효과 (즉시~1주)

- 집중도 향상: focus +0.1 이상
- 정답률 개선: correct_rate +5% 이상
- 학습 시간 증가: time_on_task +10% 이상

### 8.2 중기 효과 (1주~1개월)

- 진도 회복: progress_delta 0에 근접
- 약점 보완: 취약 단원 정답률 +10% 이상
- 자기주도성 향상: directive 필요 빈도 감소

### 8.3 장기 효과 (1개월 이상)

- 성적 향상: 실제 시험 점수 상승
- 학습 습관 개선: 규칙적 학습 패턴 형성
- 자신감 증가: affect 'high' 빈도 증가

---

## 9. 버전 관리

### 9.1 변경 이력

- **1.0.0** (2025-10-29): 초기 버전

### 9.2 정책 업데이트 프로세스

1. 효과 데이터 분석
2. 정책 개선안 도출
3. 소규모 테스트 (A/B 테스트)
4. 검증 후 전체 적용
5. 문서 업데이트 및 버전 증가

---

## 10. 참고 자료

- `의사결정_실행.md`: 구체적 액션 정의
- `ontology/ontology.jsonld`: 온톨로지 구조
- `policies/rule_catalog.yaml`: 규칙 DSL 카탈로그
- `policies/safety.yaml`: 안전 가드레일 상세

---

**문서 끝**
