# Mathking ë¬¸ì„œ ìˆœí™˜ ì—…ë°ì´íŠ¸ ì›Œí¬í”Œë¡œìš°

í‰ê°€í‘œ ê¸°ì¤€ì„ ì¶©ì¡±í•  ë•Œê¹Œì§€ Mathking í”„ë¡œì íŠ¸ì˜ ë¬¸ì„œë“¤ì„ ìˆœí™˜ì ìœ¼ë¡œ ì—…ë°ì´íŠ¸í•˜ëŠ” ìë™í™” ì›Œí¬í”Œë¡œìš°ì…ë‹ˆë‹¤.

## ğŸ¯ ëª©ì 

- **í‰ê°€í‘œ ê¸°ì¤€ ì¶©ì¡±**: ëª¨ë“  í•µì‹¬ ë¬¸ì„œê°€ 50ì  ì´ìƒ(60ì  ë§Œì )ì„ ë‹¬ì„±í•  ë•Œê¹Œì§€ ë°˜ë³µ
- **ìš°ì„ ìˆœìœ„ ê¸°ë°˜**: Tier 1(í•µì‹¬ ì•„í‚¤í…ì²˜) â†’ Tier 2(í…œí”Œë¦¿) â†’ Tier 3(ì§€ì‹ë² ì´ìŠ¤) â†’ Tier 4(ê°œë³„ ì—ì´ì „íŠ¸) ìˆœìœ¼ë¡œ ì²˜ë¦¬
- **ëŒ€í‘œ ë¬¸ì„œ ì¤‘ì‹¬**: í…œí”Œë¦¿ ë¬¸ì„œë¥¼ ë¨¼ì € ì™„ì„±í•˜ê³ , ìœ ì‚¬ ë¬¸ì„œì— íŒ¨í„´ì„ ì¼ê´„ ì ìš©
- **íš¨ìœ¨ì ì¸ ë°˜ë³µ**: ë³€ê²½ëœ ë¶€ë¶„ë§Œ ì—…ë°ì´íŠ¸í•˜ì—¬ ì‹œê°„ ì ˆì•½

## ğŸ“‹ í‰ê°€ ê¸°ì¤€ (ì´ 60ì  ë§Œì )

| ì¹´í…Œê³ ë¦¬ | ë°°ì  | í‰ê°€ ìš”ì†Œ |
|---------|------|-----------|
| êµ¬ì¡°ì  ì™„ì„±ë„ | 10ì  | ë…¼ë¦¬ì  ì„¹ì…˜ êµ¬ì„±, ê³„ì¸µ êµ¬ì¡°, ëª©ì°¨ ì¼ì¹˜, ìƒí˜¸ì°¸ì¡° |
| ê¸°ëŠ¥ì  ëª…í™•ì„± | 10ì  | ê¸°ëŠ¥ ì •ì˜, ì‚¬ìš© ì‚¬ë¡€, ì…ì¶œë ¥ ëª…ì„¸, ì œì•½ì‚¬í•­ |
| ê¸°ìˆ ì  ì í•©ì„± | 10ì  | ê¸°ìˆ  ìŠ¤íƒ íƒ€ë‹¹ì„±, ì•„í‚¤í…ì²˜ íŒ¨í„´, ì„±ëŠ¥/í™•ì¥ì„± |
| ìœ ì§€ë³´ìˆ˜ì„± | 10ì  | ì½”ë“œ ê°€ë…ì„±, ëª…ëª… ê·œì¹™, ì£¼ì„, ëª¨ë“ˆí™” |
| ë³´ì•ˆ/ë°°í¬ ê³ ë ¤ | 10ì  | ë³´ì•ˆ ìš”êµ¬ì‚¬í•­, ì¸ì¦/ê¶Œí•œ, ë°°í¬ ì „ëµ, ë¡¤ë°± ê³„íš |
| ë¬¸ì„œ í’ˆì§ˆ | 10ì  | ë§ì¶¤ë²•/ë¬¸ë²•, ë‹¤ì´ì–´ê·¸ë¨, ì‹¤í–‰ ê°€ëŠ¥ ì˜ˆì œ, ë²„ì „ ê´€ë¦¬ |

**ëª©í‘œ**: 50ì  ì´ìƒ (ìš°ìˆ˜ ë“±ê¸‰)

## ğŸ“‚ ë¬¸ì„œ ê³„ì¸µ êµ¬ì¡°

### Tier 1: í•µì‹¬ ì•„í‚¤í…ì²˜ (ìµœìš°ì„ )
- `docs/01-AGENTS_TASK_SPECIFICATION.md` - ì—ì´ì „íŠ¸ ë° íƒœìŠ¤í¬ ëª…ì„¸
- `docs/02-COLLABORATION_PATTERNS.md` - ì—ì´ì „íŠ¸ í˜‘ì—… íŒ¨í„´
- `docs/03-KNOWLEDGE_BASE_ARCHITECTURE.md` - ì§€ì‹ ë² ì´ìŠ¤ êµ¬ì¡°
- `docs/04-ONTOLOGY_SYSTEM_DESIGN.md` - ì˜¨í†¨ë¡œì§€ ì„¤ê³„
- `docs/05-INTERFACE_SPECIFICATION.md` - API ëª…ì„¸
- `docs/05-REASONING_ENGINE_SPEC.md` - ì¶”ë¡  ì—”ì§„ ì„¤ê³„
- `docs/06-INTEGRATION_ARCHITECTURE.md` - í†µí•© ì•„í‚¤í…ì²˜
- `docs/07-IMPLEMENTATION_ROADMAP.md` - êµ¬í˜„ ë¡œë“œë§µ

### Tier 2: ì—ì´ì „íŠ¸ í…œí”Œë¦¿
- `agents/agent_04/` - ì™„ì „ êµ¬í˜„ëœ ì°¸ì¡° í…œí”Œë¦¿ (ì»¤ë¦¬í˜ëŸ¼ ì—ì´ì „íŠ¸)

### Tier 3: ì§€ì‹ ë² ì´ìŠ¤ ë° ê³µí†µ ìì›
- `knowledge/ì˜ì‚¬ê²°ì •_ì§€ì‹.md` - ì˜ì‚¬ê²°ì • ì •ì±… ë° ì „ëµ
- `ontology/ontology.jsonld` - ì˜¨í†¨ë¡œì§€ SSOT
- `agents/registry.yaml` - ì—ì´ì „íŠ¸ ë©”íƒ€ë°ì´í„°

### Tier 4: ê°œë³„ ì—ì´ì „íŠ¸ (21ê°œ)
- Phase 1: `agent_01` ~ `agent_06`
- Phase 2: `agent_07` ~ `agent_13`
- Phase 3: `agent_14` ~ `agent_19`
- Phase 4: `agent_20` ~ `agent_22`

## ğŸš€ ë¹ ë¥¸ ì‹œì‘

### 1. í™˜ê²½ ì¤€ë¹„

```bash
# í”„ë¡œì íŠ¸ ë£¨íŠ¸ë¡œ ì´ë™
cd /path/to/mathking

# í•„ìš”í•œ ë””ë ‰í† ë¦¬ ìƒì„±
mkdir -p workflows status logs backups

# Python íŒ¨í‚¤ì§€ ì„¤ì¹˜ (í•„ìš”ì‹œ)
pip install pyyaml
```

### 2. ì›Œí¬í”Œë¡œìš° ì‹¤í–‰

#### ì˜µì…˜ A: ì „ì²´ ë£¨í”„ ì‹¤í–‰ (í‰ê°€ ê¸°ì¤€ ì¶©ì¡±ê¹Œì§€)
```bash
python workflows/run_document_loop.py \
  --config workflows/document_update_loop.yaml \
  --mode loop_until_pass \
  --verbose
```

#### ì˜µì…˜ B: ë‹¨ì¼ ë°˜ë³µ ì‹¤í–‰ (í…ŒìŠ¤íŠ¸ìš©)
```bash
python workflows/run_document_loop.py \
  --config workflows/document_update_loop.yaml \
  --mode single_iteration
```

#### ì˜µì…˜ C: íŠ¹ì • ìŠ¤í…Œì´ì§€ë§Œ ì‹¤í–‰
```bash
python workflows/run_document_loop.py \
  --config workflows/document_update_loop.yaml \
  --mode single_iteration \
  --stage stage1_evaluate_core
```

### 3. ê²°ê³¼ í™•ì¸

```bash
# í‰ê°€ ì ìˆ˜ í™•ì¸
cat status/document_scores.json

# ì¼ê´€ì„± ê²€ì¦ ê²°ê³¼ í™•ì¸
cat status/consistency_report.json

# ì‹¤í–‰ ë¡œê·¸ í™•ì¸
tail -f logs/workflow_iterations.log
```

## ğŸ”„ ì›Œí¬í”Œë¡œìš° ë‹¨ê³„

### Stage 1: í•µì‹¬ ë¬¸ì„œ í‰ê°€ ë° ê°œì„ 
1. Tier 1 ë¬¸ì„œ ë¡œë“œ
2. í‰ê°€ ê¸°ì¤€ ì ìš©í•˜ì—¬ ì ìˆ˜ ê³„ì‚°
3. 50ì  ë¯¸ë§Œ ë¬¸ì„œ ì‹ë³„
4. ì¹´í…Œê³ ë¦¬ë³„ ê°œì„  ì ìš©
5. ì¬í‰ê°€

### Stage 2: í…œí”Œë¦¿ ì—ì´ì „íŠ¸ í‰ê°€
1. `agent_04` í…œí”Œë¦¿ ë¡œë“œ
2. í…œí”Œë¦¿ í‰ê°€
3. ì¬ì‚¬ìš© ê°€ëŠ¥í•œ íŒ¨í„´ ì¶”ì¶œ
4. íŒ¨í„´ ì €ì¥

### Stage 3: ì§€ì‹ ë² ì´ìŠ¤ ì¼ê´€ì„± ê²€ì¦
1. ì§€ì‹ ë² ì´ìŠ¤ ë¬¸ì„œ ë¡œë“œ
2. Tier 1 ë¬¸ì„œì™€ì˜ ìƒí˜¸ì°¸ì¡° ê²€ì¦
3. ë¶ˆì¼ì¹˜ í•­ëª© ì •ë ¬

### Stage 4: ìœ ì‚¬ ì—ì´ì „íŠ¸ ì¼ê´„ ì—…ë°ì´íŠ¸
1. ì—ì´ì „íŠ¸ ê·¸ë£¹í•‘ (Phase, Category ê¸°ì¤€)
2. í…œí”Œë¦¿ íŒ¨í„´ ì¼ê´„ ì ìš©
3. ì—ì´ì „íŠ¸ë³„ ì»¤ìŠ¤í„°ë§ˆì´ì§•
4. ë¬¸ë²• ê²€ì¦

### Stage 5: ìµœì¢… ì¼ê´€ì„± ê²€ì¦
1. ì „ì²´ í”„ë¡œì íŠ¸ ë¡œë“œ
2. ë¬¸ì„œ ê°„ ì¼ê´€ì„± ì²´í¬
3. ì¼ê´€ì„± ë¦¬í¬íŠ¸ ìƒì„±
4. ëŒ€ì‹œë³´ë“œ ì—…ë°ì´íŠ¸

### Stage 6: ì¢…ë£Œ ì¡°ê±´ í‰ê°€
1. Tier 1 ìµœì†Œ ì ìˆ˜ í™•ì¸ (â‰¥50ì )
2. í…œí”Œë¦¿ ì ìˆ˜ í™•ì¸ (â‰¥50ì )
3. ì¼ê´€ì„± ê²€ì¦ í†µê³¼ í™•ì¸
4. ë£¨í”„ ê³„ì†/ì¢…ë£Œ ê²°ì •

## ğŸ“Š ì¶œë ¥ íŒŒì¼

### í‰ê°€ ê²°ê³¼
- `status/document_scores.json` - ë¬¸ì„œë³„ í‰ê°€ ì ìˆ˜
- `status/agent_template_score.json` - í…œí”Œë¦¿ í‰ê°€ ì ìˆ˜
- `status/needs_update.json` - ì—…ë°ì´íŠ¸ í•„ìš” ëª©ë¡

### ì¼ê´€ì„± ê²€ì¦
- `status/consistency_report.json` - ì¼ê´€ì„± ê²€ì¦ ê²°ê³¼
- `status/agent_patterns.json` - ì¶”ì¶œëœ ì—ì´ì „íŠ¸ íŒ¨í„´
- `status/agent_groups.json` - ì—ì´ì „íŠ¸ ê·¸ë£¹í•‘ ê²°ê³¼

### ë¡œê·¸
- `logs/workflow_iterations.log` - ë°˜ë³µ ì‹¤í–‰ ë¡œê·¸

### ë°±ì—…
- `backups/workflow_runs/{timestamp}/` - ë¬¸ì„œ ë°±ì—…

## ğŸ›ï¸ ì„¤ì • ì˜µì…˜

`workflows/document_update_loop.yaml` íŒŒì¼ì—ì„œ ë‹¤ìŒ ì˜µì…˜ì„ ì¡°ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:

### ë£¨í”„ ì œì–´
```yaml
workflow_loop:
  max_iterations: 100  # ìµœëŒ€ ë°˜ë³µ íšŸìˆ˜
  iteration_delay_seconds: 60  # ë°˜ë³µ ê°„ ëŒ€ê¸° ì‹œê°„
```

### í‰ê°€ ê¸°ì¤€
```yaml
evaluation_criteria:
  passing_score: 50  # ëª©í‘œ ì ìˆ˜ ë³€ê²½ ê°€ëŠ¥
  max_score: 60
```

### ë°±ì—… ì „ëµ
```yaml
automation:
  backup_strategy:
    enabled: true
    backup_before_update: true
    retention_days: 30
```

### ë³‘ë ¬ ì²˜ë¦¬
```yaml
automation:
  parallel_processing:
    enabled: true
    max_workers: 4
```

## ğŸ“ˆ ì˜ˆìƒ ì‹¤í–‰ ì‹œê°„

- **ë‹¨ì¼ ë°˜ë³µ**: 15-20ë¶„
- **ì „ì²´ ë£¨í”„ (í‰ê°€ ê¸°ì¤€ ì¶©ì¡±ê¹Œì§€)**: 1-3ì‹œê°„ (ì´ˆê¸° í’ˆì§ˆì— ë”°ë¼ ë‹¤ë¦„)

## ğŸ” ë¬¸ì œ í•´ê²°

### Q: ì›Œí¬í”Œë¡œìš°ê°€ ë¬´í•œ ë£¨í”„ì— ë¹ ì¡ŒìŠµë‹ˆë‹¤.
**A**: `max_iterations` ì„¤ì •ì„ í™•ì¸í•˜ì„¸ìš”. ê¸°ë³¸ê°’ì€ 100ì…ë‹ˆë‹¤.

### Q: í‰ê°€ ì ìˆ˜ê°€ ê³„ì† ë‚®ê²Œ ë‚˜ì˜µë‹ˆë‹¤.
**A**:
1. `status/document_scores.json`ì—ì„œ ì„¸ë¶€ ì ìˆ˜ í™•ì¸
2. `issues` í•„ë“œì—ì„œ ê°œì„ ì´ í•„ìš”í•œ í•­ëª© í™•ì¸
3. í•´ë‹¹ ë¬¸ì„œë¥¼ ìˆ˜ë™ìœ¼ë¡œ ê°œì„  í›„ ì¬ì‹¤í–‰

### Q: ë°±ì—… íŒŒì¼ì´ ë„ˆë¬´ ë§ì´ ìŒ“ì…ë‹ˆë‹¤.
**A**: `retention_days`ë¥¼ ì¡°ì •í•˜ê±°ë‚˜ ìˆ˜ë™ìœ¼ë¡œ ì •ë¦¬í•˜ì„¸ìš”:
```bash
find backups/workflow_runs -type d -mtime +30 -exec rm -rf {} \;
```

### Q: íŠ¹ì • ë¬¸ì„œë§Œ ì—…ë°ì´íŠ¸í•˜ê³  ì‹¶ìŠµë‹ˆë‹¤.
**A**: `--mode manual` ì˜µì…˜ ì‚¬ìš© (í˜„ì¬ êµ¬í˜„ ì˜ˆì •):
```bash
python workflows/run_document_loop.py \
  --mode manual \
  --documents "01-AGENTS,04-ONTOLOGY"
```

## ğŸ› ï¸ ì»¤ìŠ¤í„°ë§ˆì´ì§•

### í‰ê°€ ë¡œì§ ê°œì„ 
`run_document_loop.py`ì˜ `DocumentEvaluator` í´ë˜ìŠ¤ë¥¼ ìˆ˜ì •í•˜ì—¬ í‰ê°€ ë¡œì§ì„ ê°œì„ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:

```python
def _evaluate_category(self, content: str, category: Dict[str, Any]) -> int:
    # ì—¬ê¸°ì— ì»¤ìŠ¤í…€ í‰ê°€ ë¡œì§ ì¶”ê°€
    pass
```

### ê°œì„  ì „ëµ ì¶”ê°€
`DocumentUpdater` í´ë˜ìŠ¤ì˜ `_apply_improvement()` ë©”ì„œë“œë¥¼ ìˆ˜ì •í•˜ì—¬ ê°œì„  ì „ëµì„ ì¶”ê°€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:

```python
def _apply_improvement(self, content: str, issue: str) -> str:
    # ì—¬ê¸°ì— ì»¤ìŠ¤í…€ ê°œì„  ë¡œì§ ì¶”ê°€
    pass
```

### LLM í†µí•© (í–¥í›„ ê°œì„ )
Claude Code API ë˜ëŠ” OpenAI APIë¥¼ í†µí•©í•˜ì—¬ ë” ì •êµí•œ í‰ê°€ ë° ê°œì„ ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:

```python
def _llm_evaluate(self, content: str, criteria: str) -> int:
    # LLMì„ ì‚¬ìš©í•œ í‰ê°€
    pass

def _llm_improve(self, content: str, issue: str) -> str:
    # LLMì„ ì‚¬ìš©í•œ ê°œì„ 
    pass
```

## ğŸ“ ì²´í¬ë¦¬ìŠ¤íŠ¸

ì‹¤í–‰ ì „ í™•ì¸ ì‚¬í•­:

- [ ] Python 3.10+ ì„¤ì¹˜ í™•ì¸
- [ ] `pyyaml` íŒ¨í‚¤ì§€ ì„¤ì¹˜
- [ ] `workflows/`, `status/`, `logs/`, `backups/` ë””ë ‰í† ë¦¬ ìƒì„±
- [ ] Tier 1 ë¬¸ì„œ ê²½ë¡œ í™•ì¸ (`docs/01-07`)
- [ ] í…œí”Œë¦¿ ì—ì´ì „íŠ¸ ê²½ë¡œ í™•ì¸ (`agents/agent_04/`)
- [ ] ì„¤ì • íŒŒì¼ ê²€í†  (`document_update_loop.yaml`)

ì‹¤í–‰ ì¤‘ ëª¨ë‹ˆí„°ë§:

- [ ] ë¡œê·¸ íŒŒì¼ í™•ì¸ (`logs/workflow_iterations.log`)
- [ ] í‰ê°€ ì ìˆ˜ ì¶”ì´ í™•ì¸ (`status/document_scores.json`)
- [ ] ë°±ì—… ìƒì„± í™•ì¸ (`backups/`)
- [ ] ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ ëª¨ë‹ˆí„°ë§

ì‹¤í–‰ í›„ ê²€ì¦:

- [ ] ëª¨ë“  Tier 1 ë¬¸ì„œ 50ì  ì´ìƒ í™•ì¸
- [ ] ì¼ê´€ì„± ê²€ì¦ í†µê³¼ í™•ì¸
- [ ] ëŒ€ì‹œë³´ë“œ ì—…ë°ì´íŠ¸ í™•ì¸ (`status/document_status.json`)
- [ ] ë°±ì—… íŒŒì¼ ì •ë¦¬

## ğŸ¤ ê¸°ì—¬

ë²„ê·¸ ë¦¬í¬íŠ¸ ë° ê¸°ëŠ¥ ì œì•ˆ:
- **ì´ìŠˆ íŠ¸ë˜ì»¤**: GitHub Issues
- **ì´ë©”ì¼**: dev@mathking.kr
- **Slack**: #mathking-dev

## ğŸ“„ ë¼ì´ì„ ìŠ¤

Â© 2025 Mathking. All rights reserved.

---

**ë¬¸ì„œ ë²„ì „**: 1.0.0
**ìµœì¢… ì—…ë°ì´íŠ¸**: 2025-10-30
**ì‘ì„±ì**: Mathking Development Team
