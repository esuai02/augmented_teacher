# Auto-generated rules03.yaml for problem_solving (ë¬¸ì œí’€ì´)
# Generated at: 2025-12-03
# Source: agent04_inspect_weakpoints/persona_system/4_problem_solving.php â†’ agent11_problem_notes/rules/rules.yaml
# Description: ë¬¸ì œí’€ì´ ì‹œ 60ê°€ì§€ ì¸ì§€ê´€ì„± í˜ë¥´ì†Œë‚˜ ê¸°ë°˜ ìƒí™©ë³„ ì§€ë„ ê·œì¹™

version: "1.0"
scenario: "problem_solving"
description: "ë¬¸ì œí’€ì´ ì‹œ ë°œìƒí•˜ëŠ” ì¸ì§€ê´€ì„± íŒ¨í„´ íƒì§€, ë§ì¶¤í˜• ê°œì… ì „ëµ, êµì‚¬ ì½”ì¹­ ë©”ì‹œì§€ ì œê³µ"

# ==============================================================================
# ë©”íƒ€ë°ì´í„°
# ==============================================================================
metadata:
  name: "Problem Solving Persona Rules"
  version: "1.0.0"
  situation_id: 3
  situation_name: "ë¬¸ì œí’€ì´"
  situation_file: "4_problem_solving.php"
  icon: "ğŸ§®"
  color: "#ef4444"
  total_personas: 60
  categories: 8
  scenarios: 10

# ==============================================================================
# ì¸ì§€ê´€ì„± ì¹´í…Œê³ ë¦¬ ì •ì˜
# ==============================================================================
categories:
  cognitive_overload:
    id: 1
    name: "ì¸ì§€ ê³¼ë¶€í•˜"
    description: "ì‘ì—…ê¸°ì–µ ìš©ëŸ‰ ì´ˆê³¼ë¡œ ì¸í•œ ì •ë³´ ì²˜ë¦¬ ì¥ì• "
    icon: "ğŸ§ "
    color: "#ef4444"
    priority_weight: 1.0

  confidence_distortion:
    id: 2
    name: "ìì‹ ê° ì™œê³¡"
    description: "ê³¼ì‹  ë˜ëŠ” ê³¼ì†Œ ìì‹ ê°ìœ¼ë¡œ ì¸í•œ íŒë‹¨ ì˜¤ë¥˜"
    icon: "ğŸ˜°"
    color: "#f59e0b"
    priority_weight: 0.9

  mistake_pattern:
    id: 3
    name: "ì‹¤ìˆ˜ íŒ¨í„´"
    description: "ë°˜ë³µì ì¸ ê³„ì‚°/ê¸°í˜¸/ë‹¨ìœ„ ì‹¤ìˆ˜"
    icon: "âš¡"
    color: "#8b5cf6"
    priority_weight: 0.85

  approach_error:
    id: 4
    name: "ì ‘ê·¼ ì „ëµ ì˜¤ë¥˜"
    description: "ë¬¸ì œ í•´ê²° ì „ëµ ì„ íƒ ë° ì ìš© ì˜¤ë¥˜"
    icon: "ğŸ¯"
    color: "#06b6d4"
    priority_weight: 0.8

  learning_habit:
    id: 5
    name: "í•™ìŠµ ìŠµê´€"
    description: "ë¹„íš¨ìœ¨ì ì¸ í•™ìŠµ ìŠµê´€ ë° íŒ¨í„´"
    icon: "ğŸ“š"
    color: "#10b981"
    priority_weight: 0.75

  time_pressure:
    id: 6
    name: "ì‹œê°„/ì••ë°• ê´€ë¦¬"
    description: "ì‹œê°„ ì••ë°• ë° ìŠ¤íŠ¸ë ˆìŠ¤ ê´€ë¦¬ ì‹¤íŒ¨"
    icon: "â°"
    color: "#ec4899"
    priority_weight: 0.85

  verification_absence:
    id: 7
    name: "ê²€ì¦/í™•ì¸ ë¶€ì¬"
    description: "ê²€ì‚° ë° ì¡°ê±´ í™•ì¸ ìƒëµ"
    icon: "ğŸ”"
    color: "#6366f1"
    priority_weight: 0.9

  emotional_block:
    id: 8
    name: "ê°ì •ì  ì¥ë²½"
    description: "í”¼ë¡œ, ê°ì •, í™˜ê²½ ë“± ê¸°íƒ€ ìš”ì¸"
    icon: "ğŸ­"
    color: "#78716c"
    priority_weight: 0.7

rules:
  # ========== S1: ë¬¸ì œ ì½ê¸° ë‹¨ê³„ (Problem Reading Phase) ==========

  - rule_id: "S1_R1_idea_auto_fire"
    priority: 99
    description: "ì•„ì´ë””ì–´ í•´ë°© ìë™ë°œí™”í˜• - ë²ˆì©ì´ëŠ” ì•„ì´ë””ì–´ê°€ ë– ì˜¤ë¥´ë©´ ê²€ì¦ ì—†ì´ ë°”ë¡œ ì¨ ë‚´ë ¤ê°€ëŠ” íŒ¨í„´"
    persona_id: 1
    persona_name: "ì•„ì´ë””ì–´ í•´ë°© ìë™ë°œí™”í˜•"
    category: "cognitive_overload"
    conditions:
      - field: "solving_phase"
        operator: "=="
        value: "reading"
      - field: "immediate_answer_attempt"
        operator: "=="
        value: true
      - field: "reading_time_ratio"
        operator: "<"
        value: 0.2
      - field: "verification_before_start"
        operator: "=="
        value: false
    action:
      - "detect_pattern: 'idea_auto_fire'"
      - "trigger_pause: '5_second_stop'"
      - "prompt_hypothesis: 'ì•½ì  ê°€ì„¤ 1ê°œ ì‘ì„± ìœ ë„'"
      - "compare_with_problem: 'ë¬¸ì œ ì§€ë¬¸ê³¼ ê°€ì„¤ ë¹„êµ'"
      - "generate_intervention: 'slow_start_routine'"
      - "provide_feedback: 'ì•„ì´ë””ì–´ê°€ ë– ì˜¤ë¥´ë©´ 5ì´ˆ ë©ˆì¶¤ â†’ ì•½ì  ê°€ì„¤ 1ê°œ ì ê¸° â†’ ë¬¸ì œ ë‹¤ì‹œ ì½ê¸° ë£¨í‹´ì„ ì‹œë„í•´ë³¼ê¹Œìš”?'"
      - "log_pattern: 'idea_auto_fire_detected'"
    solution:
      action: "ì•„ì´ë””ì–´ê°€ ë– ì˜¤ë¥´ë©´ 5ì´ˆ ë©ˆì¶¤ â†’ ì•„ì´ë””ì–´ë¥¼ í•œ ì¤„ë¡œ ìš”ì•½ í›„, 'ì•½ì  ê°€ì„¤' 1ê°œë¥¼ ê³§ë°”ë¡œ ì ëŠ”ë‹¤ â†’ ë¬¸ì œ ì§€ë¬¸ì„ ë‹¤ì‹œ ì½ê³ , ê°€ì„¤ê³¼ ë¹„êµí•œë‹¤"
      check: "5ì´ˆ ë©ˆì¶¤â†’ê°€ì„¤ ì“°ê¸° ë£¨í‹´ì„ ì„¸ ë²ˆ ì„±ê³µí–ˆëŠ”ì§€ í™•ì¸. ìš”ì•½ì´ ì ì ˆí–ˆëŠ”ì§€ ì§§ê²Œ í”¼ë“œë°±"
      teacher_dialog: "ì„ ìƒë‹˜, ì˜¤ëŠ˜ '5ì´ˆ ë©ˆì¶¤â†’ê°€ì„¤ ì“°ê¸°' ë£¨í‹´ì„ ì„¸ ë²ˆ ì„±ê³µí–ˆì–´ìš”. ì œ ìš”ì•½ì´ ì ì ˆí–ˆëŠ”ì§€ ì§§ê²Œ í”¼ë“œë°± ë¶€íƒë“œë¦½ë‹ˆë‹¤!"
    confidence: 0.95
    rationale: "S1: ë¬¸ì œ ì½ê¸° ë‹¨ê³„ì—ì„œ ì„±ê¸‰í•œ í’€ì´ ì‹œì‘ì„ ë°©ì§€í•˜ê³  ì‹ ì¤‘í•œ ë¶„ì„ ìœ ë„"

  - rule_id: "S1_R2_defeat_premonition"
    priority: 98
    description: "3ì´ˆ íŒ¨ë°° ì˜ˆê°í˜• - 'ëª» í’€ ê²ƒ ê°™ë‹¤'ëŠ” ëŠë‚Œì´ 3ì´ˆ ë§Œì— ë‡Œë¥¼ ì ê·¸ëŠ” íŒ¨í„´"
    persona_id: 2
    persona_name: "3ì´ˆ íŒ¨ë°° ì˜ˆê°í˜•"
    category: "confidence_distortion"
    conditions:
      - field: "solving_phase"
        operator: "=="
        value: "reading"
      - field: "give_up_signal_detected"
        operator: "=="
        value: true
      - field: "time_before_giving_up"
        operator: "<"
        value: 10
      - field: "attempt_duration"
        operator: "<"
        value: 30
    action:
      - "detect_pattern: 'defeat_premonition'"
      - "trigger_timer: '3_minute_reinterpret'"
      - "restart_problem_interpretation: true"
      - "highlight_keywords: 'ì¡°ê±´, ë‹¨ì–´ ì¬ìƒ‰ì¸'"
      - "generate_intervention: 'confidence_recovery'"
      - "provide_feedback: ''í¬ê¸° ì‹ í˜¸'ë¥¼ ê°ì§€í–ˆì–´ìš”. 3ë¶„ íƒ€ì´ë¨¸ë¥¼ ì¼œê³  ë¬¸ì œë¥¼ ì²˜ìŒë¶€í„° ë‹¤ì‹œ ì½ì–´ë³¼ê¹Œìš”?'"
    solution:
      action: "'í¬ê¸° ì‹ í˜¸'ë¥¼ ê°ì§€í•˜ë©´ 3ë¶„ íƒ€ì´ë¨¸ë¥¼ ì¼œê³  ë¬¸ì œ í•´ì„ì„ ì²˜ìŒë¶€í„° ë‹¤ì‹œ ì ëŠ”ë‹¤ â†’ ë§‰íŒ ë¶€ë¶„ì„ ëˆˆìœ¼ë¡œ 3ë¶„ê°„ ì‘ì‹œí•˜ë©° ì¡°ê±´Â·ë‹¨ì–´ë¥¼ ì¬ìƒ‰ì¸í•œë‹¤"
      check: "'3ë¶„ ì¬í•´ì„' ë£¨í‹´ì„ ë‘ ë²ˆ ì‚¬ìš©í–ˆëŠ”ì§€, ë‹¤ì‹œ ì½ì€ ë©”ëª¨ì—ì„œ ë†“ì¹œ ë‹¨ì–´ê°€ ìˆì—ˆëŠ”ì§€ ê²€í† "
      teacher_dialog: "ì €ëŠ” ì˜¤ëŠ˜ '3ë¶„ ì¬í•´ì„' ë£¨í‹´ì„ ë‘ ë²ˆ ì¼ìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì½ì€ ë©”ëª¨ì—ì„œ ë†“ì¹œ ë‹¨ì–´ê°€ ìˆì—ˆëŠ”ì§€ ê²€í† í•´ ì£¼ì‹¤ ìˆ˜ ìˆë‚˜ìš”?"
    confidence: 0.94
    rationale: "S1: ì¡°ê¸° í¬ê¸° ë°©ì§€ ë° ë¬¸ì œ ì¬í•´ì„ì„ í†µí•œ ìì‹ ê° íšŒë³µ"

  - rule_id: "S1_R3_working_memory_split"
    priority: 97
    description: "ì‘ì—…ê¸°ì–µ â…” í• ë‹¹í˜• - ë‹¤ìŒ ì¼ì •/ì¡ìƒê°ì´ ë¨¸ë¦¿ì†ì„ ìŠ¤ì¹˜ë©° 2/3ë§Œ ì§‘ì¤‘í•˜ëŠ” íŒ¨í„´"
    persona_id: 6
    persona_name: "ì‘ì—…ê¸°ì–µ â…” í• ë‹¹í˜•"
    category: "cognitive_overload"
    conditions:
      - field: "solving_phase"
        operator: "in"
        value: ["reading", "analysis"]
      - field: "distraction_count"
        operator: ">="
        value: 3
      - field: "focus_duration_avg"
        operator: "<"
        value: 300
      - field: "task_switching_detected"
        operator: "=="
        value: true
    action:
      - "detect_pattern: 'working_memory_split'"
      - "suggest_postit_dump: 'ë– ì˜¤ë¥¸ ì¼ì • í¬ìŠ¤íŠ¸ì‡ ë©”ëª¨'"
      - "activate_pomodoro: '25ë¶„ ì§‘ì¤‘ / 5ë¶„ íœ´ì‹'"
      - "restrict_memo_check: 'íœ´ì‹ ì‹œê°„ì—ë§Œ í™•ì¸'"
      - "generate_intervention: 'focus_enhancement'"
      - "provide_feedback: 'ì¡ìƒê°ì´ ìì£¼ ë– ì˜¤ë¥´ë„¤ìš”. í¬ìŠ¤íŠ¸ì‡ì— ì ê³  ë®ì–´ë‘ê³ , 25ë¶„ ì§‘ì¤‘ ì„¸ì…˜ì„ ì‹œì‘í•´ë³¼ê¹Œìš”?'"
    solution:
      action: "ë– ì˜¤ë¥¸ ì¼ì •ì€ í¬ìŠ¤íŠ¸ì‡ì— ì ê³  ë®ì–´ë‘ê¸° â†’ 25ë¶„ ì§‘ì¤‘ / 5ë¶„ íœ´ì‹ Pomodoro íƒ€ì´ë¨¸ ì‚¬ìš© â†’ íœ´ì‹ ë•Œë§Œ ë©”ëª¨ í™•ì¸Â·ì—…ë°ì´íŠ¸"
      check: "25ë¶„ ì§‘ì¤‘ ì„¸ì…˜ 3ë²ˆ ëŒë ¸ëŠ”ì§€, ì¤‘ê°„ì— ì¡ìƒê° ë©”ëª¨ë¥¼ ëª‡ ë²ˆ í–ˆëŠ”ì§€ í™•ì¸"
      teacher_dialog: "25ë¶„ ì§‘ì¤‘ ì„¸ì…˜ 3ë²ˆ ëŒë ¸ëŠ”ë°, ì¤‘ê°„ì— ì¡ìƒê° ë©”ëª¨ë¥¼ ëª‡ ë²ˆ í–ˆëŠ”ì§€ í™•ì¸í•´ ì£¼ì‹¤ ìˆ˜ ìˆë‚˜ìš”?"
    confidence: 0.93
    rationale: "S1: ì£¼ì˜ë ¥ ë¶„ì‚° ë°©ì§€ ë° ì§‘ì¤‘ë ¥ ê°•í™”"

  # ========== S2: ë¬¸ì œ ë¶„ì„ ë‹¨ê³„ (Problem Analysis Phase) ==========

  - rule_id: "S2_R1_overconfidence_tunnel"
    priority: 96
    description: "ê³¼ì‹ -ì‹œì•¼ í˜‘ì°©í˜• - ê³¼í•œ ìì‹ ê°ìœ¼ë¡œ ìˆ«ì/ê¸°í˜¸ì˜ ë¯¸ì„¸í•œ ì°¨ì´ë¥¼ ì¸ì‹í•˜ì§€ ëª»í•˜ëŠ” íŒ¨í„´"
    persona_id: 3
    persona_name: "ê³¼ì‹ -ì‹œì•¼ í˜‘ì°©í˜•"
    category: "confidence_distortion"
    conditions:
      - field: "solving_phase"
        operator: "=="
        value: "analysis"
      - field: "confidence_level"
        operator: ">"
        value: 0.85
      - field: "detail_check_count"
        operator: "<"
        value: 2
      - field: "similar_symbol_error"
        operator: "=="
        value: true
    action:
      - "detect_pattern: 'overconfidence_tunnel'"
      - "trigger_breathing: 'ì‹¬í˜¸í¡ 10íšŒ'"
      - "highlight_similar_symbols: 'ìƒ‰íœ êµ¬ë¶„ í‘œì‹œ'"
      - "add_checkpoint: 'ì‘ì€ ì°¨ì´ ì²´í¬ ì¹¸'"
      - "generate_intervention: 'detail_awareness'"
      - "provide_feedback: 'í’€ì´ ì‹œì‘ ì „ ì‹¬í˜¸í¡ 10íšŒ â†’ ë¹„ìŠ·í•œ ê¸°í˜¸ë¥¼ ìƒ‰íœìœ¼ë¡œ í‘œì‹œí•´ë³¼ê¹Œìš”?'"
    solution:
      action: "í’€ì´ ì°©ìˆ˜ ì „ ì‹¬í˜¸í¡ 10íšŒ â†’ ë¹„ìŠ·í•œ ê¸°í˜¸Â·ìˆ˜ì¹˜ë¥¼ ìƒ‰íœìœ¼ë¡œ êµ¬ë¶„ í‘œì‹œ â†’ ê³„ì‚° ë‹¨ê³„ë§ˆë‹¤ 'ì‘ì€ ì°¨ì´ ì²´í¬' ì¹¸ì— âœ”ï¸"
      check: "ìƒ‰íœ í‘œì‹œí•œ ë¶€ë¶„ì„ ê°™ì´ ë³´ë©°, ë†“ì¹œ ì°¨ì´ê°€ ìˆì—ˆëŠ”ì§€ í™•ì¸"
      teacher_dialog: "ìƒ‰íœ í‘œì‹œí•œ ë¶€ë¶„ì„ ê°™ì´ ë³´ë©°, ì œê°€ ë†“ì¹œ ì°¨ì´ê°€ ìˆì—ˆëŠ”ì§€ ì•Œë ¤ì£¼ì‹œë©´ ê°ì‚¬í•˜ê² ìŠµë‹ˆë‹¤."
    confidence: 0.92
    rationale: "S2: ê³¼ì‹ ìœ¼ë¡œ ì¸í•œ ì„¸ë¶€ì‚¬í•­ ê°„ê³¼ ë°©ì§€"

  - rule_id: "S2_R2_contradiction_fixation"
    priority: 95
    description: "ëª¨ìˆœ í™•ì‹ -ë‹µë¶ˆê°€í˜• - 'í‹€ë¦° ê³³ì´ ì—†ë‹¤'ëŠ” ì§‘ì°©ìœ¼ë¡œ ì‹œì•¼ê°€ ì¢ì•„ì§€ëŠ” íŒ¨í„´"
    persona_id: 5
    persona_name: "ëª¨ìˆœ í™•ì‹ -ë‹µë¶ˆê°€í˜•"
    category: "confidence_distortion"
    conditions:
      - field: "solving_phase"
        operator: "=="
        value: "analysis"
      - field: "stuck_duration"
        operator: ">"
        value: 300
      - field: "self_correction_attempts"
        operator: "<"
        value: 2
      - field: "insists_no_error"
        operator: "=="
        value: true
    action:
      - "detect_pattern: 'contradiction_fixation'"
      - "display_phrase: 'ê°„ë‹¨ ì‹¤ìˆ˜ 90% ë¬¸ì¥'"
      - "gamify_error_search: 'ì‚¬ì†Œí•œ ì‹¤ìˆ˜ ì°¾ê¸° ê²Œì„'"
      - "suggest_color_rewrite: 'ë‹¤ë¥¸ ìƒ‰ íœìœ¼ë¡œ ë‹¤ì‹œ ì“°ê¸°'"
      - "generate_intervention: 'perspective_shift'"
      - "provide_feedback: ''ê°„ë‹¨ ì‹¤ìˆ˜ 90%' ë¬¸ì¥ì„ ì¨ì„œ ê´€ì ì„ ì „í™˜í•´ë³¼ê¹Œìš”? í’€ì´ë¥¼ ê±°ê¾¸ë¡œ ì½ì–´ë³´ì„¸ìš”!'"
    solution:
      action: "ë‹µì´ ì•ˆ ë‚˜ì˜¬ ë•Œ 'ê°„ë‹¨ ì‹¤ìˆ˜ 90%' ë¬¸ì¥ì„ ì¨ì„œ ê´€ì ì„ ì „í™˜ â†’ í’€ì´ë¥¼ ê±°ê¾¸ë¡œ ì½ìœ¼ë©° 'ì‚¬ì†Œí•œ ì‹¤ìˆ˜ ì°¾ê¸°' ê²Œì„í™” â†’ í•œ ë²ˆì€ ë‹¤ë¥¸ ìƒ‰ íœìœ¼ë¡œ ë‹¤ì‹œ ì¨ë³´ê¸°"
      check: "'ê°„ë‹¨ ì‹¤ìˆ˜ ê²Œì„'ìœ¼ë¡œ ì°¾ì€ ì˜¤ë¥˜ë¥¼ ê²€ì‚°, ë˜ ë‹¤ë¥¸ ì‹œì•¼ ì „í™˜ ë°©ë²• ì œì•ˆ"
      teacher_dialog: "ì œê°€ 'ê°„ë‹¨ ì‹¤ìˆ˜ ê²Œì„'ìœ¼ë¡œ ì°¾ì€ ì˜¤ë¥˜ë¥¼ ê²€ì‚°í•´ ì£¼ì‹¤ ìˆ˜ ìˆë‚˜ìš”? ë˜ ë‹¤ë¥¸ ì‹œì•¼ ì „í™˜ ë°©ë²•ì´ ìˆë‹¤ë©´ ì•Œë ¤ì£¼ì„¸ìš”."
    confidence: 0.91
    rationale: "S2: ê³ ì°©ëœ ì‹œì•¼ ì „í™˜ ë° ì˜¤ë¥˜ ë°œê²¬ ìœ ë„"

  # ========== S3: í’€ì´ ì „ëµ ìˆ˜ë¦½ ë‹¨ê³„ (Strategy Planning Phase) ==========

  - rule_id: "S3_R1_half_surrender_creativity"
    priority: 94
    description: "ë°˜(åŠ)í¬ê¸° ì°½ì˜ íƒìƒ‰í˜• - 'ì–´ì°¨í”¼ í‹€ë¦´ ê²ƒ'ì´ë¼ë©° ë‚®ì€ í™•ë¥ ì˜ ì°½ì˜ í’€ì´ë§Œ í—¤ë§¤ëŠ” íŒ¨í„´"
    persona_id: 7
    persona_name: "ë°˜(åŠ)í¬ê¸° ì°½ì˜ íƒìƒ‰í˜•"
    category: "approach_error"
    conditions:
      - field: "solving_phase"
        operator: "=="
        value: "strategy"
      - field: "standard_approach_skipped"
        operator: "=="
        value: true
      - field: "creative_attempt_count"
        operator: ">"
        value: 3
      - field: "time_on_unorthodox"
        operator: ">"
        value: 600
    action:
      - "detect_pattern: 'half_surrender_creativity'"
      - "enforce_standard_first: 'Aì•ˆ ì •ì„ 10ë¶„ ì‹œë„'"
      - "require_analysis: 'Aì•ˆ ë¬¸ì œì  1ì¤„ ì •ë¦¬'"
      - "allow_alternative: 'Bì•ˆ ìŠ¤ì¼€ì¹˜'"
      - "suggest_solution_analysis: 'í•´ì„¤ êµ¬ì¡° ë¶„ì„'"
      - "generate_intervention: 'strategy_structure'"
      - "provide_feedback: 'ì •ì„ ì ‘ê·¼ Aì•ˆì„ ë¨¼ì € 10ë¶„ ì‹œë„í•˜ê³ , ë¬¸ì œì ì„ ì •ë¦¬í•œ í›„ Bì•ˆì„ ì‹œë„í•´ë³¼ê¹Œìš”?'"
    solution:
      action: "ì •ì„ ì ‘ê·¼ Aì•ˆì„ ë¨¼ì € 10ë¶„ ì‹œë„ â†’ ì‹¤íŒ¨ ì‹œ Aì•ˆ ë¬¸ì œì  1ì¤„ ì •ë¦¬ â†’ Bì•ˆ ìŠ¤ì¼€ì¹˜ â†’ Bì•ˆë„ ë§‰íˆë©´ ê³¼ê°íˆ ë‹µì•ˆÂ·í•´ì„¤ êµ¬ì¡° ë¶„ì„"
      check: "Aì•ˆ 10ë¶„, Bì•ˆ 5ë¶„ ì „ëµìœ¼ë¡œ í’€ì–´ë´¤ëŠ”ì§€, Aì•ˆ ë¶„ì„ì´ ì ì ˆí–ˆëŠ”ì§€ í™•ì¸"
      teacher_dialog: "ì˜¤ëŠ˜ Aì•ˆ 10ë¶„, Bì•ˆ 5ë¶„ ì „ëµìœ¼ë¡œ í’€ì–´ë´¤ì–´ìš”. ì œ Aì•ˆ ë¶„ì„ì´ ì ì ˆí–ˆëŠ”ì§€ ë´ì£¼ì‹¤ë˜ìš”?"
    confidence: 0.93
    rationale: "S3: ë¹„íš¨ìœ¨ì  ì°½ì˜ íƒìƒ‰ ë°©ì§€ ë° êµ¬ì¡°í™”ëœ ì „ëµ ì ‘ê·¼ ìœ ë„"

  - rule_id: "S3_R2_uncertain_forced"
    priority: 93
    description: "ë¶ˆí™•ì‹¤ ê°•í–‰í˜• - ê·¼ê±° ë¶€ì¡±ì¸ë°ë„ 'ì¼ë‹¨ ì ìš©'í•´ì„œ ì˜¤ë¥˜ê°€ ì—°ì‡„ë˜ëŠ” íŒ¨í„´"
    persona_id: 10
    persona_name: "ë¶ˆí™•ì‹¤ ê°•í–‰í˜•"
    category: "approach_error"
    conditions:
      - field: "solving_phase"
        operator: "in"
        value: ["strategy", "execution"]
      - field: "uncertain_step_count"
        operator: ">="
        value: 2
      - field: "verification_skipped"
        operator: "=="
        value: true
      - field: "cascading_error"
        operator: "=="
        value: true
    action:
      - "detect_pattern: 'uncertain_forced'"
      - "introduce_confidence_marker: 'í™•ì‹  â˜…â˜†â˜† ë“±ê¸‰'"
      - "flag_low_confidence: 'ë³„ 1Â·2ê°œ ì¬ê²€ì‚° í‘œì‹œ'"
      - "prioritize_verification: 'â˜… 1Â·2 ì§€ì  ìš°ì„  ì ê²€'"
      - "generate_intervention: 'certainty_check'"
      - "provide_feedback: 'ê·¼ê±°ê°€ ì•½í•œ ë¶€ë¶„ì— 'í™•ì‹  â˜…â˜†â˜†' ë“±ê¸‰ì„ í‘œì‹œí•˜ê³ , í’€ì´ ëì— ì¬ê²€ì‚°í•´ë³¼ê¹Œìš”?'"
    solution:
      action: "ê·¼ê±° ì•½í•˜ë©´ ë…¸ë€ í¬ìŠ¤íŠ¸ì‡ì— 'í™•ì‹  â˜…â˜†â˜†' ë“±ê¸‰ í‘œì‹œ â†’ ë³„ 1Â·2ê°œì¸ ì¤„ì€ í’€ì´ ëì— ì¬ê²€ì‚° í‘œì‹œ(âœ”ï¸) â†’ ê²€ì‚° ë‹¨ê³„ì—ì„œ â˜… 1Â·2 ì§€ì  ìš°ì„  ì ê²€"
      check: "ë…¸ë€ í¬ìŠ¤íŠ¸ì‡ìœ¼ë¡œ â˜… í‘œì‹œí•œ ë¶€ë¶„ì„ ê°™ì´ ê²€ì‚°, ë‹¤ë¥¸ 'í™•ì‹  ì²´í¬' ë°©ë²• ì œì•ˆ"
      teacher_dialog: "ë…¸ë€ í¬ìŠ¤íŠ¸ì‡ìœ¼ë¡œ â˜… í‘œì‹œí•œ ë¶€ë¶„ì„ ê°™ì´ ê²€ì‚°í•´ ì£¼ì‹œë©´ ì¢‹ê² ìŠµë‹ˆë‹¤. ë‹¤ë¥¸ 'í™•ì‹  ì²´í¬' ë°©ë²•ì´ ìˆì„ê¹Œìš”?"
    confidence: 0.92
    rationale: "S3: ë¶ˆí™•ì‹¤í•œ ê·¼ê±°ë¡œ ì¸í•œ ì—°ì‡„ ì˜¤ë¥˜ ë°©ì§€"

  # ========== S4: í’€ì´ ì‹¤í–‰ ë‹¨ê³„ (Solution Execution Phase) ==========

  - rule_id: "S4_R1_unconscious_chain_mistake"
    priority: 92
    description: "ë¬´ì˜ì‹ ì—°ì‡„ ì‹¤ìˆ˜í˜• - ì†ì´ ë¨¼ì € ì›€ì§ì—¬ ì‚¬ì†Œí•œ ê³„ì‚° ì‹¤ìˆ˜ê°€ ê¼¬ë¦¬ë¥¼ ë¬´ëŠ” íŒ¨í„´"
    persona_id: 4
    persona_name: "ë¬´ì˜ì‹ ì—°ì‡„ ì‹¤ìˆ˜í˜•"
    category: "mistake_pattern"
    conditions:
      - field: "solving_phase"
        operator: "=="
        value: "execution"
      - field: "calculation_speed"
        operator: ">"
        value: "threshold_fast"
      - field: "micro_error_count"
        operator: ">="
        value: 2
      - field: "error_propagation"
        operator: "=="
        value: true
    action:
      - "detect_pattern: 'unconscious_chain_mistake'"
      - "enforce_pause: 'ìˆ«ì í•œ ì¤„ë§ˆë‹¤ íœ ë‚´ë ¤ë†“ê³  1ì´ˆ'"
      - "daily_log: 'ì‹¤ìˆ˜ ì¥ë©´ 1ê°œ ê¸°ë¡'"
      - "next_day_review: 'ë‹¤ìŒ ë‚  ì¬í™•ì¸'"
      - "generate_intervention: 'mistake_awareness'"
      - "provide_feedback: 'ìˆ«ì í•œ ì¤„ ì“¸ ë•Œë§ˆë‹¤ íœì„ ë‚´ë ¤ë†“ê³  1ì´ˆ íœ´ì‹í•´ë³¼ê¹Œìš”? ì‹¤ìˆ˜ ì¥ë©´ì„ ê¸°ë¡í•´ë‘ì„¸ìš”!'"
    solution:
      action: "ìˆ«ì í•œ ì¤„ ì“¸ ë•Œë§ˆë‹¤ íœì„ ë‚´ë ¤ë†“ê³  1ì´ˆ íœ´ì‹ â†’ ë§¤ì¼ í’€ì´ í›„ 'ì‹¤ìˆ˜ ì¥ë©´' 1ê°œ ê¸°ë¡ â†’ ë‹¤ìŒ ë‚  ì²« í•™ìŠµ ì „ì— ê·¸ ê¸°ë¡ì„ ì¬í™•ì¸"
      check: "ì–´ì œ ì ì€ ì‹¤ìˆ˜ ì¥ë©´ì„ ë³´ì—¬ë“œë¦´ ë•Œ, ë¹„ìŠ·í•œ ì‹¤ìˆ˜ë¥¼ ë§‰ëŠ” íŒ ì œê³µ"
      teacher_dialog: "ì–´ì œ ì ì€ ì‹¤ìˆ˜ ì¥ë©´ì„ ë³´ì—¬ë“œë¦´ê²Œìš”. ë¹„ìŠ·í•œ ì‹¤ìˆ˜ë¥¼ ë§‰ëŠ” íŒì´ ë” ìˆì„ê¹Œìš”?"
    confidence: 0.94
    rationale: "S4: ë¬´ì˜ì‹ì  ì—°ì‡„ ì‹¤ìˆ˜ ì°¨ë‹¨ ë° ì˜ì‹ì  ì ê²€ ìœ ë„"

  - rule_id: "S4_R2_explanation_mix"
    priority: 91
    description: "í•´ì„¤ì§€-í˜¼í•© ì°©ê°í˜• - ë‚´ ìƒê°ê³¼ í•´ì„¤ ë‚´ìš©ì„ ì„ì–´ ì“°ë‹¤ ê·¼ê±°ê°€ ë’¤ì„ì´ëŠ” íŒ¨í„´"
    persona_id: 8
    persona_name: "í•´ì„¤ì§€-í˜¼í•© ì°©ê°í˜•"
    category: "learning_habit"
    conditions:
      - field: "solving_phase"
        operator: "=="
        value: "execution"
      - field: "solution_reference_used"
        operator: "=="
        value: true
      - field: "source_distinction"
        operator: "=="
        value: false
      - field: "mixed_reasoning_detected"
        operator: "=="
        value: true
    action:
      - "detect_pattern: 'explanation_mix'"
      - "enforce_color_separation: 'ë‚´ í’€ì´=íŒŒë€ìƒ‰, í•´ì„¤=ë¹¨ê°„ìƒ‰'"
      - "require_difference_note: 'ì™œ ë‹¤ë¥¸ê°€? ì°¨ì´ 2ê°œ ë©”ëª¨'"
      - "schedule_review: 'í•˜ë£¨ ë’¤ í†µí•© ì •ë¦¬'"
      - "generate_intervention: 'source_clarity'"
      - "provide_feedback: 'ë‚´ í’€ì´ëŠ” íŒŒë€ìƒ‰, í•´ì„¤ì€ ë¹¨ê°„ìƒ‰ìœ¼ë¡œ ë¶„ë¦¬í•´ì„œ ì ì–´ë³¼ê¹Œìš”? ì°¨ì´ì  2ê°œë¥¼ ë©”ëª¨í•´ë³´ì„¸ìš”!'"
    solution:
      action: "ë‚´ í’€ì´=íŒŒë€ìƒ‰, í•´ì„¤=ë¹¨ê°„ìƒ‰ ë‘ ìƒ‰ê¹” ë¶„ë¦¬ ê¸°ë¡ â†’ í•´ì„¤ì„ ì½ì„ ë•Œ 'ì™œ ë‹¤ë¥¸ê°€?' ì°¨ì´ 2ê°œ ë©”ëª¨ â†’ í•˜ë£¨ ë’¤, íŒŒë€Â·ë¹¨ê°„ ë…¸íŠ¸ë¥¼ ë‹¤ì‹œ ì½ì–´ í†µí•© ì •ë¦¬"
      check: "íŒŒë€Â·ë¹¨ê°„ ì°¨ì´ ë‘ ê°€ì§€ë¥¼ ì„¤ëª…ë“œë¦´ ë•Œ, í•´ì„¤ í¡ìˆ˜ ê³¼ì • í”¼ë“œë°±"
      teacher_dialog: "íŒŒë€Â·ë¹¨ê°„ ì°¨ì´ ë‘ ê°€ì§€ë¥¼ ì„¤ëª…ë“œë¦´ê²Œìš”. ì œ í•´ì„¤ í¡ìˆ˜ ê³¼ì •ì´ ê´œì°®ì€ì§€ í”¼ë“œë°± ë¶€íƒë“œë¦½ë‹ˆë‹¤."
    confidence: 0.90
    rationale: "S4: ìê¸° í’€ì´ì™€ í•´ì„¤ì˜ ëª…í™•í•œ êµ¬ë¶„"

  - rule_id: "S4_R3_practice_avoidance"
    priority: 90
    description: "ì—°ìŠµ íšŒí”¼ ê´€ì„±í˜• - 'ì´í•´í–ˆì–´' ì°©ê°ìœ¼ë¡œ ë°˜ë³µ ì—°ìŠµì„ ê±´ë„ˆë›°ëŠ” íŒ¨í„´"
    persona_id: 9
    persona_name: "ì—°ìŠµ íšŒí”¼ ê´€ì„±í˜•"
    category: "learning_habit"
    conditions:
      - field: "solving_phase"
        operator: "=="
        value: "execution"
      - field: "concept_understood_claim"
        operator: "=="
        value: true
      - field: "practice_count"
        operator: "<"
        value: 3
      - field: "similar_problem_attempt"
        operator: "=="
        value: false
    action:
      - "detect_pattern: 'practice_avoidance'"
      - "require_difficulty_ladder: 'LowÂ·MidÂ·High 1ë¬¸ì œì”©'"
      - "flag_incomplete: 'í‹€ë¦¬ë©´ ë¶ˆì™„ì „ í‘œì‹œ í›„ ì¬í•™ìŠµ'"
      - "create_checklist: 'ì£¼ê°„ ì²´í¬ë¦¬ìŠ¤íŠ¸ ê°œë…ë‹¹ 3íšŒ'"
      - "generate_intervention: 'practice_reinforcement'"
      - "provide_feedback: 'ìƒˆ ê°œë…ì„ ë°°ìš°ë©´ LowÂ·MidÂ·High ë‚œì´ë„ë³„ 1ë¬¸ì œì”© í’€ì–´ë³´ì„¸ìš”!'"
    solution:
      action: "ìƒˆ ê°œë… ë°°ìš°ë©´ ì¦‰ì‹œ ë‚œì´ë„ LowÂ·MidÂ·High 1ë¬¸ì œì”© í’€ê¸° â†’ Low / Mid í‹€ë¦¬ë©´ í•´ë‹¹ ê°œë… 'ë¶ˆì™„ì „'ë¡œ í‘œì‹œ í›„ ì¬í•™ìŠµ â†’ ì£¼ê°„ ì²´í¬ë¦¬ìŠ¤íŠ¸: ê°œë…ë‹¹ ìµœì†Œ 3íšŒ ì¬ë°©ë¬¸"
      check: "LowÂ·MidÂ·High 3ë¬¸ì œ ì¤‘ ì–´ë–¤ ê²ƒì„ í‹€ë ¸ëŠ”ì§€, ì–´ë–¤ ë¶€ë¶„ì„ ë” ì—°ìŠµí•´ì•¼ í• ì§€ ì¡°ì–¸"
      teacher_dialog: "LowÂ·MidÂ·High 3ë¬¸ì œ ì¤‘ Midë¥¼ í‹€ë ¸ì–´ìš”. ì–´ë–¤ ë¶€ë¶„ì„ ë” ì—°ìŠµí•´ì•¼ í• ê¹Œìš”?"
    confidence: 0.89
    rationale: "S4: ì—°ìŠµ íšŒí”¼ ë°©ì§€ ë° ì²´ê³„ì  ë°˜ë³µ í•™ìŠµ ìœ ë„"

  # ========== S5: ê³„ì‚° ê³¼ì • ë‹¨ê³„ (Calculation Process Phase) ==========

  - rule_id: "S5_R1_speed_pressure_block"
    priority: 89
    description: "ì†ë„ ì••ë°• ì–µì œí˜• - ì‹œí—˜ ì‹œê°„ì´ ëˆˆì— ë“¤ì–´ì˜¬ ë•Œë§ˆë‹¤ ì••ë°•ì´ ê¸°ì–µì„ ëˆŒëŸ¬ë²„ë¦¬ëŠ” íŒ¨í„´"
    persona_id: 11
    persona_name: "ì†ë„ ì••ë°• ì–µì œí˜•"
    category: "time_pressure"
    conditions:
      - field: "solving_phase"
        operator: "=="
        value: "calculation"
      - field: "time_anxiety_detected"
        operator: "=="
        value: true
      - field: "clock_check_frequency"
        operator: ">"
        value: 5
      - field: "performance_degradation"
        operator: "=="
        value: true
    action:
      - "detect_pattern: 'speed_pressure_block'"
      - "hide_visible_clock: 'ì‹œê³„ ë’¤ì§‘ê¸°'"
      - "set_silent_timer: '15ë¶„ ê°„ê²© ì§„ë™ íƒ€ì´ë¨¸'"
      - "require_summary: 'íƒ€ì´ë¨¸ ìš¸ë¦´ ë•Œ 1ë¬¸ì¥ ìš”ì•½'"
      - "generate_intervention: 'time_management'"
      - "provide_feedback: 'ì‹œê³„ë¥¼ ë’¤ì§‘ê³ , 15ë¶„ ê°„ê²©ìœ¼ë¡œ ì§„ë™ íƒ€ì´ë¨¸ë¥¼ ì„¤ì •í•´ë³¼ê¹Œìš”?'"
    solution:
      action: "ì‹œì‘ê³¼ ë™ì‹œì— ì†ëª©ì‹œê³„Â·íœ´ëŒ€í° ì‹œê³„ ë’¤ì§‘ê¸° â†’ ì¡°ìš© íƒ€ì´ë¨¸ë¥¼ 15ë¶„ ê°„ê²©ìœ¼ë¡œ ì„¤ì •(ì‚ ì†Œë¦¬ X, ì§„ë™ O) â†’ íƒ€ì´ë¨¸ ìš¸ë¦´ ë•Œë§ˆë‹¤ í˜„ì¬ ë¬¸ì œë¥¼ 1ë¬¸ì¥ìœ¼ë¡œ ìš”ì•½ í›„ ì§„í–‰ ì—¬ë¶€ íŒë‹¨"
      check: "15ë¶„ íƒ€ì´ë¨¸ë¥¼ 4ë²ˆ ëŒë ¸ëŠ”ì§€, ì§„ë™ì´ ì™”ì„ ë•Œ ìš”ì•½ì´ ì ì ˆí–ˆëŠ”ì§€ í™•ì¸"
      teacher_dialog: "15ë¶„ íƒ€ì´ë¨¸ë¥¼ 4ë²ˆ ëŒë ¸ëŠ”ë° ì§„ë™ì´ ì™”ì„ ë•Œ ì œ ìš”ì•½ì´ ì ì ˆí–ˆëŠ”ì§€, í•œ ë²ˆë§Œ í™•ì¸ ë¶€íƒë“œë ¤ìš”."
    confidence: 0.91
    rationale: "S5: ì‹œê°„ ì••ë°•ìœ¼ë¡œ ì¸í•œ ìˆ˜í–‰ ì €í•˜ ë°©ì§€"

  - rule_id: "S5_R2_unit_conversion_skip"
    priority: 88
    description: "ë‹¨ìœ„ í™˜ì‚° ìƒëµí˜• - ë‹¨ìœ„ ë³€í™˜ì„ ê±´ë„ˆë›°ê±°ë‚˜ ì˜ëª» ì ìš©í•˜ëŠ” íŒ¨í„´"
    persona_id: 15
    persona_name: "ë‹¨ìœ„ í™˜ì‚° ìƒëµí˜•"
    category: "mistake_pattern"
    conditions:
      - field: "solving_phase"
        operator: "=="
        value: "calculation"
      - field: "unit_conversion_required"
        operator: "=="
        value: true
      - field: "unit_conversion_performed"
        operator: "=="
        value: false
      - OR:
        - field: "unit_mismatch_error"
          operator: "=="
          value: true
        - field: "answer_unit_missing"
          operator: "=="
          value: true
    action:
      - "detect_pattern: 'unit_conversion_skip'"
      - "highlight_units: 'ëª¨ë“  ë‹¨ìœ„ ìƒ‰íœ í‘œì‹œ'"
      - "create_conversion_checklist: 'ë‹¨ìœ„ í™˜ì‚° ì²´í¬ë¦¬ìŠ¤íŠ¸'"
      - "verify_final_unit: 'ìµœì¢… ë‹µ ë‹¨ìœ„ í™•ì¸'"
      - "generate_intervention: 'unit_awareness'"
      - "provide_feedback: 'ë¬¸ì œì— ë‚˜ì˜¨ ëª¨ë“  ë‹¨ìœ„ë¥¼ ìƒ‰íœìœ¼ë¡œ í‘œì‹œí•˜ê³ , í™˜ì‚°ì´ í•„ìš”í•œì§€ í™•ì¸í•´ë³¼ê¹Œìš”?'"
    solution:
      action: "ë¬¸ì œ ì½ì„ ë•Œ ëª¨ë“  ë‹¨ìœ„ì— ë™ê·¸ë¼ë¯¸ â†’ ë‹¨ìœ„ í™˜ì‚° í•„ìš” ì—¬ë¶€ ì²´í¬ â†’ ê³„ì‚° ì¤‘ ë‹¨ìœ„ ëª…ì‹œ â†’ ìµœì¢… ë‹µì— ë‹¨ìœ„ í•„ìˆ˜ ê¸°ì¬"
      check: "ë‹¨ìœ„ í‘œì‹œì™€ í™˜ì‚° ê³¼ì •ì´ ì˜¬ë°”ë¥¸ì§€, ìµœì¢… ë‹µ ë‹¨ìœ„ê°€ ë¬¸ì œ ìš”êµ¬ì™€ ì¼ì¹˜í•˜ëŠ”ì§€ í™•ì¸"
      teacher_dialog: "ì œê°€ í‘œì‹œí•œ ë‹¨ìœ„ë“¤ê³¼ í™˜ì‚° ê³¼ì •ì„ ë´ì£¼ì„¸ìš”. ìµœì¢… ë‹µ ë‹¨ìœ„ê°€ ë§ëŠ”ì§€ í™•ì¸ ë¶€íƒë“œë ¤ìš”."
    confidence: 0.88
    rationale: "S5: ë‹¨ìœ„ ê´€ë ¨ ì‹¤ìˆ˜ ë°©ì§€"

  - rule_id: "S5_R3_sign_error_chain"
    priority: 87
    description: "ë¶€í˜¸ ì‹¤ìˆ˜ ì—°ì‡„í˜• - +/- ë¶€í˜¸ ì‹¤ìˆ˜ê°€ ì—°ì‡„ì ìœ¼ë¡œ ë°œìƒí•˜ëŠ” íŒ¨í„´"
    persona_id: 16
    persona_name: "ë¶€í˜¸ ì‹¤ìˆ˜ ì—°ì‡„í˜•"
    category: "mistake_pattern"
    conditions:
      - field: "solving_phase"
        operator: "=="
        value: "calculation"
      - field: "sign_error_count"
        operator: ">="
        value: 2
      - field: "sign_propagation_error"
        operator: "=="
        value: true
    action:
      - "detect_pattern: 'sign_error_chain'"
      - "enforce_sign_highlight: 'ë¶€í˜¸ë§ˆë‹¤ ìƒ‰íœ ê°•ì¡°'"
      - "step_by_step_verify: 'ë‹¨ê³„ë³„ ë¶€í˜¸ í™•ì¸'"
      - "create_sign_checklist: 'ë¶€í˜¸ ì²´í¬ë¦¬ìŠ¤íŠ¸'"
      - "generate_intervention: 'sign_awareness'"
      - "provide_feedback: 'ë¶€í˜¸ë§ˆë‹¤ ìƒ‰íœìœ¼ë¡œ ê°•ì¡°í•˜ê³ , ê° ë‹¨ê³„ì—ì„œ ë¶€í˜¸ë¥¼ í™•ì¸í•´ë³¼ê¹Œìš”?'"
    solution:
      action: "ëª¨ë“  ë¶€í˜¸ì— ë¹¨ê°„ìƒ‰ í‘œì‹œ â†’ ì´í•­í•  ë•Œë§ˆë‹¤ ë¶€í˜¸ ë³€í™” ì²´í¬ â†’ ê³„ì‚° ê²°ê³¼ì˜ ë¶€í˜¸ ì˜ˆì¸¡ í›„ ë¹„êµ"
      check: "ë¶€í˜¸ í‘œì‹œê°€ ì¼ê´€ì ì¸ì§€, ì´í•­ ì‹œ ë¶€í˜¸ ë³€í™”ê°€ ì˜¬ë°”ë¥¸ì§€ í™•ì¸"
      teacher_dialog: "ì œê°€ í‘œì‹œí•œ ë¶€í˜¸ë“¤ì„ ë´ì£¼ì„¸ìš”. ì´í•­í•  ë•Œ ë¶€í˜¸ ë³€í™”ê°€ ë§ëŠ”ì§€ í™•ì¸í•´ì£¼ì‹¤ ìˆ˜ ìˆë‚˜ìš”?"
    confidence: 0.87
    rationale: "S5: ë¶€í˜¸ ì‹¤ìˆ˜ ì—°ì‡„ ë°©ì§€"

  # ========== S6: ë‹µì•ˆ ì‘ì„± ë‹¨ê³„ (Answer Writing Phase) ==========

  - rule_id: "S6_R1_condition_neglect"
    priority: 86
    description: "ì¡°ê±´ í™•ì¸ ìƒëµí˜• - ë¬¸ì œì˜ ì¡°ê±´ì´ë‚˜ ì œì•½ì‚¬í•­ì„ ë¬´ì‹œí•˜ê³  ë‹µì„ ì‘ì„±í•˜ëŠ” íŒ¨í„´"
    persona_id: 20
    persona_name: "ì¡°ê±´ í™•ì¸ ìƒëµí˜•"
    category: "verification_absence"
    conditions:
      - field: "solving_phase"
        operator: "=="
        value: "answer_writing"
      - field: "problem_conditions_checked"
        operator: "=="
        value: false
      - field: "constraint_violation"
        operator: "=="
        value: true
    action:
      - "detect_pattern: 'condition_neglect'"
      - "highlight_conditions: 'ë¬¸ì œ ì¡°ê±´ í•˜ì´ë¼ì´íŠ¸'"
      - "create_condition_checklist: 'ì¡°ê±´ ì²´í¬ë¦¬ìŠ¤íŠ¸'"
      - "verify_answer_against_conditions: 'ë‹µì´ ì¡°ê±´ ì¶©ì¡±í•˜ëŠ”ì§€ í™•ì¸'"
      - "generate_intervention: 'condition_awareness'"
      - "provide_feedback: 'ë‹µì„ ì“°ê¸° ì „ì— ë¬¸ì œì˜ ëª¨ë“  ì¡°ê±´ì„ ë‹¤ì‹œ í™•ì¸í•´ë³¼ê¹Œìš”?'"
    solution:
      action: "ë¬¸ì œ ì½ì„ ë•Œ ì¡°ê±´ì— ë°‘ì¤„ â†’ ë‹µ ì“°ê¸° ì „ ì¡°ê±´ ì¬í™•ì¸ â†’ ë‹µì´ ëª¨ë“  ì¡°ê±´ì„ ë§Œì¡±í•˜ëŠ”ì§€ ê²€ì¦"
      check: "ì¡°ê±´ í‘œì‹œê°€ ì™„ì „í•œì§€, ë‹µì´ ëª¨ë“  ì¡°ê±´ì„ ë§Œì¡±í•˜ëŠ”ì§€ í™•ì¸"
      teacher_dialog: "ì œê°€ í‘œì‹œí•œ ì¡°ê±´ë“¤ê³¼ ë‹µì„ ë´ì£¼ì„¸ìš”. ëª¨ë“  ì¡°ê±´ì„ ë§Œì¡±í•˜ëŠ”ì§€ í™•ì¸ ë¶€íƒë“œë ¤ìš”."
    confidence: 0.89
    rationale: "S6: ì¡°ê±´ ë¬´ì‹œë¡œ ì¸í•œ ì˜¤ë‹µ ë°©ì§€"

  - rule_id: "S6_R2_answer_format_error"
    priority: 85
    description: "ë‹µì•ˆ í˜•ì‹ ì˜¤ë¥˜í˜• - ìš”êµ¬í•˜ëŠ” í˜•ì‹(ë¶„ìˆ˜, ì†Œìˆ˜, ë‹¨ìœ„ ë“±)ê³¼ ë‹¤ë¥´ê²Œ ë‹µì„ ì‘ì„±í•˜ëŠ” íŒ¨í„´"
    persona_id: 21
    persona_name: "ë‹µì•ˆ í˜•ì‹ ì˜¤ë¥˜í˜•"
    category: "verification_absence"
    conditions:
      - field: "solving_phase"
        operator: "=="
        value: "answer_writing"
      - field: "required_format"
        operator: "!="
        value: null
      - field: "answer_format_match"
        operator: "=="
        value: false
    action:
      - "detect_pattern: 'answer_format_error'"
      - "highlight_format_requirement: 'í˜•ì‹ ìš”êµ¬ì‚¬í•­ ê°•ì¡°'"
      - "show_format_examples: 'ì˜¬ë°”ë¥¸ í˜•ì‹ ì˜ˆì‹œ'"
      - "verify_format: 'í˜•ì‹ ì¼ì¹˜ í™•ì¸'"
      - "generate_intervention: 'format_compliance'"
      - "provide_feedback: 'ë¬¸ì œì—ì„œ ìš”êµ¬í•˜ëŠ” ë‹µì•ˆ í˜•ì‹(ë¶„ìˆ˜/ì†Œìˆ˜/ë‹¨ìœ„)ì„ í™•ì¸í•´ë³¼ê¹Œìš”?'"
    solution:
      action: "ë¬¸ì œì—ì„œ '~ë¡œ ë‚˜íƒ€ë‚´ì‹œì˜¤' ë¶€ë¶„ì— ë™ê·¸ë¼ë¯¸ â†’ ìµœì¢… ë‹µ í˜•ì‹ í™•ì¸ â†’ í˜•ì‹ ë³€í™˜ í•„ìš”ì‹œ ì¶”ê°€ ê³„ì‚°"
      check: "ë‹µì•ˆ í˜•ì‹ì´ ë¬¸ì œ ìš”êµ¬ì™€ ì¼ì¹˜í•˜ëŠ”ì§€ í™•ì¸"
      teacher_dialog: "ì œ ë‹µì•ˆ í˜•ì‹ì´ ë¬¸ì œì—ì„œ ìš”êµ¬í•˜ëŠ” ê²ƒê³¼ ë§ëŠ”ì§€ í™•ì¸í•´ì£¼ì‹¤ ìˆ˜ ìˆë‚˜ìš”?"
    confidence: 0.88
    rationale: "S6: ë‹µì•ˆ í˜•ì‹ ì˜¤ë¥˜ ë°©ì§€"

  # ========== S7: ê²€ì‚°/ê²€ì¦ ë‹¨ê³„ (Verification Phase) ==========

  - rule_id: "S7_R1_verification_skip"
    priority: 84
    description: "ê²€ì‚° ìƒëµí˜• - ì‹œê°„ì´ ì—†ë‹¤ë©° ê²€ì‚° ê³¼ì •ì„ ê±´ë„ˆë›°ëŠ” íŒ¨í„´"
    persona_id: 25
    persona_name: "ê²€ì‚° ìƒëµí˜•"
    category: "verification_absence"
    conditions:
      - field: "solving_phase"
        operator: "=="
        value: "verification"
      - field: "verification_performed"
        operator: "=="
        value: false
      - field: "time_remaining"
        operator: "<"
        value: 300
    action:
      - "detect_pattern: 'verification_skip'"
      - "allocate_verification_time: 'ìµœì†Œ ê²€ì‚° ì‹œê°„ í™•ë³´'"
      - "prioritize_verification: 'ì¤‘ìš” ë¬¸ì œ ìš°ì„  ê²€ì‚°'"
      - "quick_check_method: 'ë¹ ë¥¸ ê²€ì‚°ë²• ì œì‹œ'"
      - "generate_intervention: 'verification_habit'"
      - "provide_feedback: 'ì‹œê°„ì´ ë¶€ì¡±í•´ë„ ì¤‘ìš”í•œ ë¬¸ì œëŠ” ë°˜ë“œì‹œ ê²€ì‚°í•´ë³¼ê¹Œìš”? ë¹ ë¥¸ ê²€ì‚°ë²•ì„ ì•Œë ¤ë“œë¦´ê²Œìš”!'"
    solution:
      action: "í’€ì´ ì‹œì‘ ì‹œ ê²€ì‚° ì‹œê°„ ë¯¸ë¦¬ í™•ë³´ â†’ ì¤‘ìš”ë„ ë†’ì€ ë¬¸ì œ ìš°ì„  ê²€ì‚° â†’ ëŒ€ì… ê²€ì‚° ë˜ëŠ” ì—­ì—°ì‚° ê²€ì‚° í™œìš©"
      check: "ê²€ì‚° ì‹œê°„ì„ í™•ë³´í–ˆëŠ”ì§€, ì–´ë–¤ ê²€ì‚° ë°©ë²•ì„ ì‚¬ìš©í–ˆëŠ”ì§€ í™•ì¸"
      teacher_dialog: "ì œê°€ ì‚¬ìš©í•œ ê²€ì‚° ë°©ë²•ì´ íš¨ê³¼ì ì¸ì§€ ë´ì£¼ì„¸ìš”. ë” ë¹ ë¥¸ ê²€ì‚°ë²•ì´ ìˆì„ê¹Œìš”?"
    confidence: 0.90
    rationale: "S7: ê²€ì‚° ìŠµê´€ í˜•ì„±"

  - rule_id: "S7_R2_partial_verification"
    priority: 83
    description: "ë¶€ë¶„ ê²€ì‚°í˜• - ì¼ë¶€ë§Œ ê²€ì‚°í•˜ê³  ì „ì²´ë¥¼ í™•ì¸í–ˆë‹¤ê³  ì°©ê°í•˜ëŠ” íŒ¨í„´"
    persona_id: 26
    persona_name: "ë¶€ë¶„ ê²€ì‚°í˜•"
    category: "verification_absence"
    conditions:
      - field: "solving_phase"
        operator: "=="
        value: "verification"
      - field: "verification_coverage"
        operator: "<"
        value: 0.5
      - field: "confidence_in_verification"
        operator: ">"
        value: 0.8
    action:
      - "detect_pattern: 'partial_verification'"
      - "show_verification_gaps: 'ê²€ì‚°ë˜ì§€ ì•Šì€ ë¶€ë¶„ í‘œì‹œ'"
      - "create_verification_checklist: 'ë‹¨ê³„ë³„ ê²€ì‚° ì²´í¬ë¦¬ìŠ¤íŠ¸'"
      - "enforce_complete_check: 'ì „ì²´ ê²€ì‚° ìœ ë„'"
      - "generate_intervention: 'complete_verification'"
      - "provide_feedback: 'ëª¨ë“  ë‹¨ê³„ë¥¼ ê²€ì‚°í–ˆëŠ”ì§€ í™•ì¸í•´ë³¼ê¹Œìš”? ì²´í¬ë¦¬ìŠ¤íŠ¸ë¡œ ë†“ì¹œ ë¶€ë¶„ì„ ì°¾ì•„ë³´ì„¸ìš”!'"
    solution:
      action: "í’€ì´ ê° ë‹¨ê³„ì— ë²ˆí˜¸ ë§¤ê¸°ê¸° â†’ ê²€ì‚° ì‹œ ê° ë²ˆí˜¸ ì˜†ì— ì²´í¬ â†’ ëª¨ë“  ë²ˆí˜¸ì— ì²´í¬ë  ë•Œê¹Œì§€ ê²€ì‚°"
      check: "ëª¨ë“  ë‹¨ê³„ê°€ ê²€ì‚°ë˜ì—ˆëŠ”ì§€, ë†“ì¹œ ë¶€ë¶„ì´ ìˆëŠ”ì§€ í™•ì¸"
      teacher_dialog: "ì œ ê²€ì‚° ì²´í¬ë¦¬ìŠ¤íŠ¸ë¥¼ ë´ì£¼ì„¸ìš”. ë†“ì¹œ ë‹¨ê³„ê°€ ìˆëŠ”ì§€ í™•ì¸í•´ì£¼ì‹¤ ìˆ˜ ìˆë‚˜ìš”?"
    confidence: 0.87
    rationale: "S7: ì™„ì „í•œ ê²€ì‚° ìœ ë„"

  # ========== S8: ì˜¤ë‹µ ë¶„ì„ ë‹¨ê³„ (Error Analysis Phase) ==========

  - rule_id: "S8_R1_superficial_error_analysis"
    priority: 82
    description: "í”¼ìƒì  ì˜¤ë‹µ ë¶„ì„í˜• - 'ì‹¤ìˆ˜í–ˆë‹¤'ë¡œë§Œ ì •ë¦¬í•˜ê³  ê·¼ë³¸ ì›ì¸ì„ ë¶„ì„í•˜ì§€ ì•ŠëŠ” íŒ¨í„´"
    persona_id: 30
    persona_name: "í”¼ìƒì  ì˜¤ë‹µ ë¶„ì„í˜•"
    category: "learning_habit"
    conditions:
      - field: "solving_phase"
        operator: "=="
        value: "error_analysis"
      - field: "error_cause_depth"
        operator: "<"
        value: 2
      - field: "generic_explanation"
        operator: "=="
        value: true
    action:
      - "detect_pattern: 'superficial_error_analysis'"
      - "require_5why_analysis: '5Why ë¶„ì„ ìœ ë„'"
      - "categorize_error_type: 'ì˜¤ë¥˜ ìœ í˜• ë¶„ë¥˜'"
      - "create_improvement_plan: 'ê°œì„  ê³„íš ìˆ˜ë¦½'"
      - "generate_intervention: 'deep_error_analysis'"
      - "provide_feedback: ''ì™œ í‹€ë ¸ì„ê¹Œ?'ë¥¼ 5ë²ˆ ë¬¼ì–´ë³´ë©° ê·¼ë³¸ ì›ì¸ì„ ì°¾ì•„ë³¼ê¹Œìš”?'"
    solution:
      action: "'ì™œ?' ì§ˆë¬¸ 5ë²ˆ ë°˜ë³µí•˜ì—¬ ê·¼ë³¸ ì›ì¸ ì°¾ê¸° â†’ ì˜¤ë¥˜ ìœ í˜• ë¶„ë¥˜ (ê°œë…/ê³„ì‚°/ì£¼ì˜ë ¥/ì‹œê°„) â†’ ìœ í˜•ë³„ ê°œì„  ì „ëµ ìˆ˜ë¦½"
      check: "5Why ë¶„ì„ì´ ì¶©ë¶„íˆ ê¹Šì€ì§€, ê°œì„  ì „ëµì´ êµ¬ì²´ì ì¸ì§€ í™•ì¸"
      teacher_dialog: "ì œ 5Why ë¶„ì„ì„ ë´ì£¼ì„¸ìš”. ê·¼ë³¸ ì›ì¸ì„ ì œëŒ€ë¡œ ì°¾ì•˜ëŠ”ì§€ í™•ì¸í•´ì£¼ì‹¤ ìˆ˜ ìˆë‚˜ìš”?"
    confidence: 0.88
    rationale: "S8: ê¹Šì´ ìˆëŠ” ì˜¤ë‹µ ë¶„ì„ ìœ ë„"

  - rule_id: "S8_R2_same_mistake_repeat"
    priority: 81
    description: "ë™ì¼ ì‹¤ìˆ˜ ë°˜ë³µí˜• - ê°™ì€ ìœ í˜•ì˜ ì‹¤ìˆ˜ë¥¼ ë°˜ë³µí•˜ë©´ì„œ ì¸ì§€í•˜ì§€ ëª»í•˜ëŠ” íŒ¨í„´"
    persona_id: 31
    persona_name: "ë™ì¼ ì‹¤ìˆ˜ ë°˜ë³µí˜•"
    category: "learning_habit"
    conditions:
      - field: "solving_phase"
        operator: "=="
        value: "error_analysis"
      - field: "same_error_type_count"
        operator: ">="
        value: 3
      - field: "error_pattern_awareness"
        operator: "=="
        value: false
    action:
      - "detect_pattern: 'same_mistake_repeat'"
      - "show_error_history: 'ë™ì¼ ìœ í˜• ì˜¤ë¥˜ ì´ë ¥ í‘œì‹œ'"
      - "create_error_pattern_card: 'ì‹¤ìˆ˜ íŒ¨í„´ ì¹´ë“œ ìƒì„±'"
      - "set_alert_trigger: 'íŒ¨í„´ ë°œìƒ ì‹œ ì•Œë¦¼'"
      - "generate_intervention: 'pattern_breaking'"
      - "provide_feedback: 'ê°™ì€ ìœ í˜•ì˜ ì‹¤ìˆ˜ê°€ ë°˜ë³µë˜ê³  ìˆì–´ìš”. ì‹¤ìˆ˜ íŒ¨í„´ ì¹´ë“œë¥¼ ë§Œë“¤ì–´ ë§¤ë²ˆ í™•ì¸í•´ë³¼ê¹Œìš”?'"
    solution:
      action: "ì‹¤ìˆ˜ ìœ í˜•ë³„ ì¹´ë“œ ë§Œë“¤ê¸° â†’ ë¬¸ì œ í’€ê¸° ì „ í•´ë‹¹ ì¹´ë“œ ì½ê¸° â†’ ê°™ì€ ì‹¤ìˆ˜ ì‹œ ì¹´ë“œì— ê¸°ë¡ ì¶”ê°€"
      check: "ì‹¤ìˆ˜ íŒ¨í„´ì´ ì¤„ì–´ë“¤ê³  ìˆëŠ”ì§€, ì¹´ë“œ í™œìš©ì´ íš¨ê³¼ì ì¸ì§€ í™•ì¸"
      teacher_dialog: "ì œ ì‹¤ìˆ˜ íŒ¨í„´ ì¹´ë“œë¥¼ ë´ì£¼ì„¸ìš”. ì¹´ë“œë¥¼ ë³´ê³  ì‹¤ìˆ˜ê°€ ì¤„ì—ˆëŠ”ì§€ í•¨ê»˜ í™•ì¸í•´ì£¼ì‹¤ ìˆ˜ ìˆë‚˜ìš”?"
    confidence: 0.89
    rationale: "S8: ë°˜ë³µ ì‹¤ìˆ˜ íŒ¨í„´ ì¸ì‹ ë° ê°œì„ "

  # ========== S9: ì‹œê°„ ê´€ë¦¬ ë‹¨ê³„ (Time Management Phase) ==========

  - rule_id: "S9_R1_time_blindness"
    priority: 80
    description: "ì‹œê°„ ë§¹ëª©í˜• - ì‹œê°„ íë¦„ì„ ì¸ì§€í•˜ì§€ ëª»í•˜ê³  í•œ ë¬¸ì œì— ê³¼ë„í•˜ê²Œ ì‹œê°„ì„ ì“°ëŠ” íŒ¨í„´"
    persona_id: 35
    persona_name: "ì‹œê°„ ë§¹ëª©í˜•"
    category: "time_pressure"
    conditions:
      - field: "solving_phase"
        operator: "=="
        value: "time_management"
      - field: "time_per_problem"
        operator: ">"
        value: "average_time * 2"
      - field: "time_awareness"
        operator: "=="
        value: false
    action:
      - "detect_pattern: 'time_blindness'"
      - "set_problem_timer: 'ë¬¸ì œë³„ íƒ€ì´ë¨¸ ì„¤ì •'"
      - "show_time_warning: 'ì‹œê°„ ì´ˆê³¼ ê²½ê³ '"
      - "suggest_skip_strategy: 'ë„˜ì–´ê°€ê¸° ì „ëµ ì œì‹œ'"
      - "generate_intervention: 'time_awareness'"
      - "provide_feedback: 'í•œ ë¬¸ì œì— ë„ˆë¬´ ì˜¤ë˜ ë¨¸ë¬¼ê³  ìˆì–´ìš”. ë¬¸ì œë³„ ì‹œê°„ ì œí•œì„ ë‘ì–´ë³¼ê¹Œìš”?'"
    solution:
      action: "ë¬¸ì œë³„ ëª©í‘œ ì‹œê°„ ì„¤ì • â†’ ëª©í‘œ ì‹œê°„ ë„ë‹¬ ì‹œ ì•Œë¦¼ â†’ 1ë¶„ ì¶”ê°€ í›„ì—ë„ í•´ê²° ì•ˆ ë˜ë©´ í‘œì‹œ í›„ ë‹¤ìŒìœ¼ë¡œ"
      check: "ì‹œê°„ ë°°ë¶„ì´ ê°œì„ ë˜ì—ˆëŠ”ì§€, ì „ì²´ ë¬¸ì œ í•´ê²°ë¥ ì´ ë†’ì•„ì¡ŒëŠ”ì§€ í™•ì¸"
      teacher_dialog: "ì œ ì‹œê°„ ë°°ë¶„ ê¸°ë¡ì„ ë´ì£¼ì„¸ìš”. ë” íš¨ìœ¨ì ì¸ ì‹œê°„ ê´€ë¦¬ ë°©ë²•ì´ ìˆì„ê¹Œìš”?"
    confidence: 0.86
    rationale: "S9: ì‹œê°„ ì¸ì‹ ë° íš¨ìœ¨ì  ë°°ë¶„"

  - rule_id: "S9_R2_perfectionism_trap"
    priority: 79
    description: "ì™„ë²½ì£¼ì˜ í•¨ì •í˜• - ëª¨ë“  ë¬¸ì œë¥¼ ì™„ë²½í•˜ê²Œ í’€ë ¤ë‹¤ ì‹œê°„ì„ ë‚­ë¹„í•˜ëŠ” íŒ¨í„´"
    persona_id: 36
    persona_name: "ì™„ë²½ì£¼ì˜ í•¨ì •í˜•"
    category: "time_pressure"
    conditions:
      - field: "solving_phase"
        operator: "=="
        value: "time_management"
      - field: "perfectionism_indicator"
        operator: ">"
        value: 0.8
      - field: "time_efficiency"
        operator: "<"
        value: 0.5
    action:
      - "detect_pattern: 'perfectionism_trap'"
      - "reframe_goal: '80ì  ëª©í‘œë¡œ ì „í™˜'"
      - "prioritize_problems: 'ë¬¸ì œ ìš°ì„ ìˆœìœ„ ì„¤ì •'"
      - "allow_strategic_skip: 'ì „ëµì  ê±´ë„ˆë›°ê¸° í—ˆìš©'"
      - "generate_intervention: 'strategic_imperfection'"
      - "provide_feedback: 'ëª¨ë“  ë¬¸ì œë¥¼ ì™„ë²½í•˜ê²Œ í‘¸ëŠ” ê²ƒë³´ë‹¤, ì¤‘ìš”í•œ ë¬¸ì œë¥¼ í™•ì‹¤íˆ ë§íˆëŠ” ê²Œ íš¨ìœ¨ì ì´ì—ìš”!'"
    solution:
      action: "ì‹œí—˜ ì‹œì‘ ì‹œ ë¬¸ì œ ë‚œì´ë„ ë¹ ë¥´ê²Œ íŒŒì•… â†’ ì‰¬ìš´/ì¤‘ê°„/ì–´ë ¤ìš´ ë¬¸ì œ ë¶„ë¥˜ â†’ ì‰¬ìš´ ë¬¸ì œë¶€í„° í™•ì‹¤íˆ ë“ì "
      check: "ìš°ì„ ìˆœìœ„ ì„¤ì •ì´ ì ì ˆí–ˆëŠ”ì§€, ì‹œê°„ ëŒ€ë¹„ ë“ì ì´ ìµœì í™”ë˜ì—ˆëŠ”ì§€ í™•ì¸"
      teacher_dialog: "ì œ ë¬¸ì œ ìš°ì„ ìˆœìœ„ ì„¤ì •ì„ ë´ì£¼ì„¸ìš”. ë” íš¨ìœ¨ì ì¸ ì „ëµì´ ìˆì„ê¹Œìš”?"
    confidence: 0.85
    rationale: "S9: ì™„ë²½ì£¼ì˜ë¡œ ì¸í•œ ì‹œê°„ ë‚­ë¹„ ë°©ì§€"

  # ========== S10: ë³µìŠµ/ì •ë¦¬ ë‹¨ê³„ (Review Phase) ==========

  - rule_id: "S10_R1_shallow_review"
    priority: 78
    description: "í”¼ìƒì  ë³µìŠµí˜• - ë‹µë§Œ í™•ì¸í•˜ê³  í’€ì´ ê³¼ì •ì„ ë³µìŠµí•˜ì§€ ì•ŠëŠ” íŒ¨í„´"
    persona_id: 40
    persona_name: "í”¼ìƒì  ë³µìŠµí˜•"
    category: "learning_habit"
    conditions:
      - field: "solving_phase"
        operator: "=="
        value: "review"
      - field: "review_depth"
        operator: "<"
        value: 2
      - field: "process_review"
        operator: "=="
        value: false
    action:
      - "detect_pattern: 'shallow_review'"
      - "require_process_review: 'í’€ì´ ê³¼ì • ë³µìŠµ ìœ ë„'"
      - "compare_with_solution: 'ëª¨ë²” í’€ì´ì™€ ë¹„êµ'"
      - "extract_learning_points: 'í•™ìŠµ í¬ì¸íŠ¸ ì¶”ì¶œ'"
      - "generate_intervention: 'deep_review'"
      - "provide_feedback: 'ë‹µë§Œ í™•ì¸í•˜ì§€ ë§ê³ , í’€ì´ ê³¼ì •ì„ ëª¨ë²” ë‹µì•ˆê³¼ ë¹„êµí•´ë³¼ê¹Œìš”?'"
    solution:
      action: "ë‚´ í’€ì´ì™€ ëª¨ë²” í’€ì´ ë‚˜ë€íˆ ë†“ê³  ë¹„êµ â†’ ì°¨ì´ì  3ê°€ì§€ ì´ìƒ ì°¾ê¸° â†’ ë” íš¨ìœ¨ì ì¸ ë°©ë²• ë©”ëª¨"
      check: "í’€ì´ ë¹„êµê°€ ì¶©ë¶„í–ˆëŠ”ì§€, í•™ìŠµ í¬ì¸íŠ¸ë¥¼ ì œëŒ€ë¡œ ì¶”ì¶œí–ˆëŠ”ì§€ í™•ì¸"
      teacher_dialog: "ì œê°€ ì°¾ì€ ì°¨ì´ì ë“¤ì„ ë´ì£¼ì„¸ìš”. ë†“ì¹œ ì¤‘ìš”í•œ í¬ì¸íŠ¸ê°€ ìˆëŠ”ì§€ í™•ì¸í•´ì£¼ì‹¤ ìˆ˜ ìˆë‚˜ìš”?"
    confidence: 0.87
    rationale: "S10: ê¹Šì´ ìˆëŠ” ë³µìŠµ ìœ ë„"

  - rule_id: "S10_R2_no_consolidation"
    priority: 77
    description: "ì •ë¦¬ ë¶€ì¬í˜• - ë°°ìš´ ë‚´ìš©ì„ ì •ë¦¬í•˜ì§€ ì•Šê³  ë‹¤ìŒìœ¼ë¡œ ë„˜ì–´ê°€ëŠ” íŒ¨í„´"
    persona_id: 41
    persona_name: "ì •ë¦¬ ë¶€ì¬í˜•"
    category: "learning_habit"
    conditions:
      - field: "solving_phase"
        operator: "=="
        value: "review"
      - field: "summary_created"
        operator: "=="
        value: false
      - field: "key_concept_noted"
        operator: "=="
        value: false
    action:
      - "detect_pattern: 'no_consolidation'"
      - "require_summary: 'í•µì‹¬ ì •ë¦¬ ìš”êµ¬'"
      - "create_concept_card: 'ê°œë… ì¹´ë“œ ìƒì„±'"
      - "schedule_review: 'ë³µìŠµ ì¼ì • ì„¤ì •'"
      - "generate_intervention: 'consolidation_habit'"
      - "provide_feedback: 'ì˜¤ëŠ˜ ë°°ìš´ í•µì‹¬ 3ê°€ì§€ë¥¼ ì •ë¦¬í•´ë³¼ê¹Œìš”? ê°œë… ì¹´ë“œë¡œ ë§Œë“¤ë©´ ë³µìŠµì— ë„ì›€ì´ ë¼ìš”!'"
    solution:
      action: "í•™ìŠµ í›„ í•µì‹¬ ê°œë… 3ê°€ì§€ ì •ë¦¬ â†’ ê°œë… ì¹´ë“œì— ê¸°ë¡ â†’ 3ì¼ í›„ ë³µìŠµ ì¼ì • ì„¤ì •"
      check: "ì •ë¦¬ê°€ ì¶©ë¶„í–ˆëŠ”ì§€, ë³µìŠµ ì¼ì •ì„ ì§€ì¼°ëŠ”ì§€ í™•ì¸"
      teacher_dialog: "ì œ í•µì‹¬ ì •ë¦¬ë¥¼ ë´ì£¼ì„¸ìš”. ì¤‘ìš”í•œ ë‚´ìš©ì„ ë†“ì¹˜ì§€ ì•Šì•˜ëŠ”ì§€ í™•ì¸í•´ì£¼ì‹¤ ìˆ˜ ìˆë‚˜ìš”?"
    confidence: 0.86
    rationale: "S10: í•™ìŠµ ë‚´ìš© ì •ë¦¬ ë° ì¥ê¸° ê¸°ì–µ ê°•í™”"

  - rule_id: "S10_R3_success_routine_modeling"
    priority: 76
    description: "ì„±ê³µ ë£¨í‹´ ëª¨ë¸ë§ - ì„±ì·¨ë„ í–¥ìƒ í•™ìƒì˜ íŒ¨í„´ì„ ë¶„ì„í•˜ê³  í™•ì‚°"
    persona_id: 50
    persona_name: "ì„±ê³µ ë£¨í‹´ ëª¨ë¸í˜•"
    category: "learning_habit"
    conditions:
      - field: "solving_phase"
        operator: "=="
        value: "review"
      - field: "achievement_improvement_rate"
        operator: ">"
        value: 0.2
      - field: "consistent_routine"
        operator: "=="
        value: true
    action:
      - "detect_pattern: 'success_routine'"
      - "extract_success_pattern: 'ì„±ê³µ íŒ¨í„´ ì¶”ì¶œ'"
      - "create_routine_template: 'ë£¨í‹´ í…œí”Œë¦¿ ìƒì„±'"
      - "suggest_to_others: 'ë‹¤ë¥¸ í•™ìƒì—ê²Œ ì œì•ˆ'"
      - "generate_report: 'success_routine_report'"
      - "provide_feedback: 'ì¢‹ì€ í•™ìŠµ ë£¨í‹´ì´ í˜•ì„±ë˜ê³  ìˆì–´ìš”! ì´ íŒ¨í„´ì„ ê³„ì† ìœ ì§€í•´ë³¼ê¹Œìš”?'"
    solution:
      action: "ì„±ê³µí•œ í•™ìŠµ ë£¨í‹´ ê¸°ë¡ â†’ í•µì‹¬ ìš”ì†Œ ë¶„ì„ â†’ ë‹¤ë¥¸ ìƒí™©ì—ë„ ì ìš© ì‹œë„"
      check: "ë£¨í‹´ì´ ì¼ê´€ë˜ê²Œ ìœ ì§€ë˜ëŠ”ì§€, ë‹¤ë¥¸ ìƒí™©ì—ë„ ì ìš© ê°€ëŠ¥í•œì§€ í™•ì¸"
      teacher_dialog: "ì œ ì„±ê³µ ë£¨í‹´ì„ ê¸°ë¡í•´ë´¤ì–´ìš”. ì´ ë£¨í‹´ì˜ í•µì‹¬ ìš”ì†Œê°€ ë¬´ì—‡ì¸ì§€ í•¨ê»˜ ë¶„ì„í•´ì£¼ì‹¤ ìˆ˜ ìˆë‚˜ìš”?"
    confidence: 0.90
    rationale: "S10: ì„±ê³µ íŒ¨í„´ ê°•í™” ë° í™•ì‚°"

# ==============================================================================
# í˜ë¥´ì†Œë‚˜ë³„ ì¶”ê°€ ê·œì¹™ (ì¹´í…Œê³ ë¦¬ë³„ ê·¸ë£¹í™”)
# ==============================================================================

  # ---------- ì¸ì§€ ê³¼ë¶€í•˜ (Cognitive Overload) ì¶”ê°€ ê·œì¹™ ----------

  - rule_id: "CO_R1_information_overload"
    priority: 75
    description: "ì •ë³´ ê³¼ë¶€í•˜í˜• - ë„ˆë¬´ ë§ì€ ì •ë³´ë¥¼ ë™ì‹œì— ì²˜ë¦¬í•˜ë ¤ë‹¤ í˜¼ë€"
    persona_id: 12
    persona_name: "ì •ë³´ ê³¼ë¶€í•˜í˜•"
    category: "cognitive_overload"
    conditions:
      - field: "concurrent_info_count"
        operator: ">"
        value: 5
      - field: "processing_confusion"
        operator: "=="
        value: true
    action:
      - "detect_pattern: 'information_overload'"
      - "chunk_information: 'ì •ë³´ ì²­í‚¹'"
      - "prioritize_info: 'ì •ë³´ ìš°ì„ ìˆœìœ„í™”'"
      - "generate_intervention: 'info_management'"
      - "provide_feedback: 'ì •ë³´ê°€ ë„ˆë¬´ ë§ì•„ìš”. í•µì‹¬ë§Œ ì¶”ë ¤ì„œ ë‹¨ê³„ë³„ë¡œ ì²˜ë¦¬í•´ë³¼ê¹Œìš”?'"
    solution:
      action: "ì •ë³´ë¥¼ 3-4ê°œ ë©ì–´ë¦¬ë¡œ ë‚˜ëˆ„ê¸° â†’ í•œ ë©ì–´ë¦¬ì”© ì²˜ë¦¬ â†’ ê° ë‹¨ê³„ ì™„ë£Œ í›„ ë‹¤ìŒìœ¼ë¡œ"
      check: "ì •ë³´ ì²­í‚¹ì´ ì ì ˆí–ˆëŠ”ì§€, ì²˜ë¦¬ ìˆœì„œê°€ íš¨ìœ¨ì ì¸ì§€ í™•ì¸"
      teacher_dialog: "ì •ë³´ë¥¼ ë‚˜ëˆˆ ë°©ì‹ì´ ê´œì°®ì€ì§€ ë´ì£¼ì„¸ìš”. ë” íš¨ìœ¨ì ì¸ ë°©ë²•ì´ ìˆì„ê¹Œìš”?"
    confidence: 0.85
    rationale: "ì¸ì§€ ê³¼ë¶€í•˜ ìƒí™©ì—ì„œì˜ ì •ë³´ ê´€ë¦¬"

  # ---------- ìì‹ ê° ì™œê³¡ (Confidence Distortion) ì¶”ê°€ ê·œì¹™ ----------

  - rule_id: "CD_R1_extreme_self_doubt"
    priority: 74
    description: "ê·¹ë‹¨ì  ìê¸° ì˜ì‹¬í˜• - ë§ëŠ” ë‹µë„ ì˜ì‹¬í•˜ë©° ìˆ˜ì •í•˜ë‹¤ í‹€ë¦¬ëŠ” íŒ¨í„´"
    persona_id: 13
    persona_name: "ê·¹ë‹¨ì  ìê¸° ì˜ì‹¬í˜•"
    category: "confidence_distortion"
    conditions:
      - field: "answer_change_count"
        operator: ">"
        value: 2
      - field: "correct_to_wrong_change"
        operator: "=="
        value: true
    action:
      - "detect_pattern: 'extreme_self_doubt'"
      - "enforce_first_answer_rule: 'ì²« ë‹µ ìœ ì§€ ì›ì¹™'"
      - "require_evidence_for_change: 'ë³€ê²½ ì‹œ ê·¼ê±° í•„ìš”'"
      - "generate_intervention: 'confidence_building'"
      - "provide_feedback: 'ì²« ë²ˆì§¸ ë‹µì„ ë°”ê¾¸ë ¤ë©´ ëª…í™•í•œ ê·¼ê±°ê°€ í•„ìš”í•´ìš”. ê·¼ê±° ì—†ì´ ë°”ê¾¸ì§€ ì•Šê¸°ë¡œ í•´ë³¼ê¹Œìš”?'"
    solution:
      action: "ë‹µ ìˆ˜ì • ì „ 'ì™œ ë°”ê¾¸ëŠ”ê°€?' 1ì¤„ ê¸°ë¡ í•„ìˆ˜ â†’ ê·¼ê±° ì—†ìœ¼ë©´ ì²« ë‹µ ìœ ì§€ â†’ ìˆ˜ì • í›„ ê²°ê³¼ ë¹„êµ ë¶„ì„"
      check: "ë¶ˆí•„ìš”í•œ ë‹µ ë³€ê²½ì´ ì¤„ì—ˆëŠ”ì§€, ê·¼ê±° ê¸°ë°˜ ë³€ê²½ì´ ëŠ˜ì—ˆëŠ”ì§€ í™•ì¸"
      teacher_dialog: "ì œê°€ ë‹µì„ ë°”ê¾¼ ê·¼ê±°ë“¤ì„ ë´ì£¼ì„¸ìš”. ë°”ê¾¸ì§€ ë§ì•˜ì–´ì•¼ í•  ê²ƒë“¤ì´ ìˆì—ˆë‚˜ìš”?"
    confidence: 0.84
    rationale: "ë¶ˆí•„ìš”í•œ ë‹µ ë³€ê²½ìœ¼ë¡œ ì¸í•œ ì˜¤ë‹µ ë°©ì§€"

  # ---------- ì ‘ê·¼ ì „ëµ ì˜¤ë¥˜ (Approach Error) ì¶”ê°€ ê·œì¹™ ----------

  - rule_id: "AE_R1_formula_blind_application"
    priority: 73
    description: "ê³µì‹ ë§¹ëª© ì ìš©í˜• - ìƒí™© íŒŒì•… ì—†ì´ ê³µì‹ì„ ê¸°ê³„ì ìœ¼ë¡œ ì ìš©"
    persona_id: 18
    persona_name: "ê³µì‹ ë§¹ëª© ì ìš©í˜•"
    category: "approach_error"
    conditions:
      - field: "formula_used"
        operator: "=="
        value: true
      - field: "context_analysis"
        operator: "=="
        value: false
      - field: "formula_mismatch"
        operator: "=="
        value: true
    action:
      - "detect_pattern: 'formula_blind_application'"
      - "require_context_first: 'ìƒí™© ë¶„ì„ ìš°ì„ '"
      - "match_formula_to_context: 'ê³µì‹-ìƒí™© ë§¤ì¹­'"
      - "generate_intervention: 'contextual_formula'"
      - "provide_feedback: 'ê³µì‹ì„ ì“°ê¸° ì „ì—, ì´ ë¬¸ì œì— ì´ ê³µì‹ì´ ë§ëŠ”ì§€ ë¨¼ì € í™•ì¸í•´ë³¼ê¹Œìš”?'"
    solution:
      action: "ë¬¸ì œ ìƒí™© ë¨¼ì € ë¶„ì„ â†’ ì ìš© ê°€ëŠ¥í•œ ê³µì‹ í›„ë³´ ë‚˜ì—´ â†’ ê° ê³µì‹ì˜ ì ìš© ì¡°ê±´ í™•ì¸ â†’ ê°€ì¥ ì í•©í•œ ê³µì‹ ì„ íƒ"
      check: "ê³µì‹ ì„ íƒ ê³¼ì •ì´ ë…¼ë¦¬ì ì¸ì§€, ì¡°ê±´ í™•ì¸ì´ ì¶©ë¶„í–ˆëŠ”ì§€ í™•ì¸"
      teacher_dialog: "ì œê°€ ê³µì‹ì„ ì„ íƒí•œ ê³¼ì •ì„ ë´ì£¼ì„¸ìš”. ë” ì í•©í•œ ê³µì‹ì´ ìˆì—ˆì„ê¹Œìš”?"
    confidence: 0.83
    rationale: "ë§¥ë½ ë¬´ì‹œí•œ ê³µì‹ ì ìš© ì˜¤ë¥˜ ë°©ì§€"

  # ---------- ê°ì •ì  ì¥ë²½ (Emotional Block) ì¶”ê°€ ê·œì¹™ ----------

  - rule_id: "EB_R1_math_anxiety"
    priority: 72
    description: "ìˆ˜í•™ ë¶ˆì•ˆí˜• - ìˆ˜í•™ì— ëŒ€í•œ ë¶ˆì•ˆê°ì´ ìˆ˜í–‰ì„ ì €í•˜ì‹œí‚¤ëŠ” íŒ¨í„´"
    persona_id: 45
    persona_name: "ìˆ˜í•™ ë¶ˆì•ˆí˜•"
    category: "emotional_block"
    conditions:
      - field: "anxiety_indicator"
        operator: ">"
        value: 0.7
      - field: "avoidance_behavior"
        operator: "=="
        value: true
      - field: "performance_below_ability"
        operator: "=="
        value: true
    action:
      - "detect_pattern: 'math_anxiety'"
      - "provide_reassurance: 'ë¶ˆì•ˆ ì™„í™” ë©”ì‹œì§€'"
      - "start_with_easy: 'ì‰¬ìš´ ë¬¸ì œë¶€í„° ì‹œì‘'"
      - "celebrate_small_wins: 'ì‘ì€ ì„±ê³µ ì¶•í•˜'"
      - "generate_intervention: 'anxiety_reduction'"
      - "provide_feedback: 'ê¸´ì¥í•˜ì§€ ë§ˆì„¸ìš”. ì‰¬ìš´ ë¬¸ì œë¶€í„° ì²œì²œíˆ ì‹œì‘í•´ë³¼ê¹Œìš”? ì‘ì€ ì„±ê³µì´ ìì‹ ê°ì„ í‚¤ì›Œìš”!'"
    solution:
      action: "ì‹¬í˜¸í¡ 3íšŒë¡œ ì‹œì‘ â†’ ê°€ì¥ ì‰¬ìš´ ë¬¸ì œ ë¨¼ì € í’€ê¸° â†’ ë§í ë•Œë§ˆë‹¤ ìŠ¤ìŠ¤ë¡œ ì¹­ì°¬ â†’ ì ì§„ì ìœ¼ë¡œ ë‚œì´ë„ ì˜¬ë¦¬ê¸°"
      check: "ë¶ˆì•ˆ ìˆ˜ì¤€ì´ ë‚®ì•„ì¡ŒëŠ”ì§€, ìì‹ ê°ì´ ìƒê²¼ëŠ”ì§€ í™•ì¸"
      teacher_dialog: "ì˜¤ëŠ˜ ì‰¬ìš´ ë¬¸ì œë¶€í„° ì‹œì‘í•´ë´¤ì–´ìš”. ëœ ê¸´ì¥ë˜ê³  ë” ì˜ í’€ë¦¬ëŠ” ëŠë‚Œì´ ë“œëŠ”ì§€ í•¨ê»˜ í™•ì¸í•´ì£¼ì„¸ìš”."
    confidence: 0.88
    rationale: "ìˆ˜í•™ ë¶ˆì•ˆìœ¼ë¡œ ì¸í•œ ìˆ˜í–‰ ì €í•˜ ì™„í™”"

  - rule_id: "EB_R2_frustration_cycle"
    priority: 71
    description: "ì¢Œì ˆ ìˆœí™˜í˜• - í‹€ë¦¬ë©´ ì¢Œì ˆí•˜ê³ , ì¢Œì ˆí•˜ë©´ ë” í‹€ë¦¬ëŠ” ì•…ìˆœí™˜"
    persona_id: 46
    persona_name: "ì¢Œì ˆ ìˆœí™˜í˜•"
    category: "emotional_block"
    conditions:
      - field: "frustration_level"
        operator: ">"
        value: 0.7
      - field: "error_rate_increasing"
        operator: "=="
        value: true
      - field: "negative_self_talk"
        operator: "=="
        value: true
    action:
      - "detect_pattern: 'frustration_cycle'"
      - "interrupt_cycle: 'ìˆœí™˜ ì¤‘ë‹¨'"
      - "reframe_mistakes: 'ì‹¤ìˆ˜ ì¬í•´ì„'"
      - "set_break: 'ì§§ì€ íœ´ì‹'"
      - "generate_intervention: 'frustration_management'"
      - "provide_feedback: 'ì ê¹ ë©ˆì¶”ê³  ì‹¬í˜¸í¡í•´ë³¼ê¹Œìš”? í‹€ë¦¬ëŠ” ê±´ ë°°ìš°ëŠ” ê³¼ì •ì´ì—ìš”. 2ë¶„ íœ´ì‹ í›„ ë‹¤ì‹œ ì‹œì‘í•´ìš”!'"
    solution:
      action: "ì¢Œì ˆ ì‹ í˜¸ ê°ì§€ ì‹œ 2ë¶„ íœ´ì‹ â†’ 'í‹€ë ¤ë„ ê´œì°®ì•„, ì´ê²Œ ë°°ì›€ì´ì•¼' ìê¸° ëŒ€í™” â†’ ì´ì „ ì„±ê³µ ê²½í—˜ ë– ì˜¬ë¦¬ê¸° â†’ ì‰¬ìš´ ë¬¸ì œë¡œ ìì‹ ê° íšŒë³µ"
      check: "ì¢Œì ˆ ìˆœí™˜ì´ ëŠì–´ì¡ŒëŠ”ì§€, ê¸ì •ì  ìê¸° ëŒ€í™”ê°€ ëŠ˜ì—ˆëŠ”ì§€ í™•ì¸"
      teacher_dialog: "ì¢Œì ˆí–ˆì„ ë•Œ 2ë¶„ íœ´ì‹ì„ ì‹œë„í–ˆì–´ìš”. ë‹¤ì‹œ ì‹œì‘í•  ë•Œ ê¸°ë¶„ì´ ì–´ë• ëŠ”ì§€ ì´ì•¼ê¸°í•´ë³¼ê¹Œìš”?"
    confidence: 0.86
    rationale: "ì¢Œì ˆì˜ ì•…ìˆœí™˜ ì°¨ë‹¨"

# ==============================================================================
# ê¸°ë³¸ ê·œì¹™ (Default Rule)
# ==============================================================================

default_rule:
  rule_id: "default"
  description: "ì¡°ê±´ì— ë§ëŠ” ê·œì¹™ì´ ì—†ì„ ë•Œ ê¸°ë³¸ ë¶„ì„ ìˆ˜í–‰"
  action:
    - "analyze: 'basic_problem_solving_analysis'"
    - "monitor: 'solving_behavior'"
    - "log_activity: 'problem_solving_session'"
    - "display_message: 'ë¬¸ì œ í’€ì´ ê³¼ì •ì„ ëª¨ë‹ˆí„°ë§í•˜ê³  ìˆì–´ìš”. ë„ì›€ì´ í•„ìš”í•˜ë©´ ì•Œë ¤ì£¼ì„¸ìš”!'"
  confidence: 0.5
  rationale: "ê¸°ë³¸ ëª¨ë‹ˆí„°ë§ ë° ë¶„ì„ ìˆ˜í–‰"

# ==============================================================================
# í”¼ë“œë°± í†¤ ì„¤ì •
# ==============================================================================
feedback_tones:
  supportive:
    name: "ì§€ì§€ì "
    description: "ê²©ë ¤ì™€ ì§€ì§€ë¥¼ í†µí•œ ê¸ì •ì  ì ‘ê·¼"
    keywords: ["ì˜í•˜ê³  ìˆì–´ìš”", "í•¨ê»˜ í•´ë´ìš”", "ì²œì²œíˆ", "ê´œì°®ì•„ìš”"]
    use_when: ["frustration", "anxiety", "low_confidence"]

  directive:
    name: "ì§€ì‹œì "
    description: "ëª…í™•í•œ ì§€ì¹¨ê³¼ ë°©í–¥ ì œì‹œ"
    keywords: ["~í•´ë³´ì„¸ìš”", "~í•˜ëŠ” ê²Œ ì¢‹ì•„ìš”", "ì´ë ‡ê²Œ í•´ë³¼ê¹Œìš”"]
    use_when: ["confusion", "strategy_needed", "clear_error"]

  analytical:
    name: "ë¶„ì„ì "
    description: "ë…¼ë¦¬ì  ë¶„ì„ê³¼ ì„¤ëª… ì¤‘ì‹¬"
    keywords: ["ì™œëƒí•˜ë©´", "ë¶„ì„í•´ë³´ë©´", "íŒ¨í„´ì„ ë³´ë©´", "ì´ìœ ëŠ”"]
    use_when: ["pattern_detection", "error_analysis", "concept_explanation"]

  motivational:
    name: "ë™ê¸°ë¶€ì—¬"
    description: "ë™ê¸° ìœ ë°œê³¼ ìì‹ ê° ê°•í™”"
    keywords: ["í•  ìˆ˜ ìˆì–´ìš”", "ì˜í•˜ê³  ìˆì–´ìš”", "ì„±ì¥í•˜ê³  ìˆì–´ìš”"]
    use_when: ["success", "improvement", "effort_recognition"]

  reflective:
    name: "ì„±ì°°ì "
    description: "ìê¸° ì„±ì°°ì„ ìœ ë„í•˜ëŠ” ì§ˆë¬¸ ì¤‘ì‹¬"
    keywords: ["ì–´ë–»ê²Œ ìƒê°í•´ìš”?", "ì™œ ê·¸ë¬ì„ê¹Œìš”?", "ë‹¤ìŒì—” ì–´ë–»ê²Œ?"]
    use_when: ["self_awareness", "metacognition", "learning_from_mistakes"]

# ==============================================================================
# ê´€ë ¨ DB í…Œì´ë¸” ë° í•„ë“œ ì •ë³´
# ==============================================================================
#
# Database Tables:
# - mdl_augmented_teacher_solving_log: ë¬¸ì œí’€ì´ ë¡œê·¸
#   - id (INT): Primary key
#   - userid (INT): ì‚¬ìš©ì ID
#   - problemid (INT): ë¬¸ì œ ID
#   - solving_phase (VARCHAR): í’€ì´ ë‹¨ê³„
#   - time_spent (INT): ì†Œìš” ì‹œê°„ (ì´ˆ)
#   - answer_correct (TINYINT): ì •ë‹µ ì—¬ë¶€
#   - timecreated (INT): ìƒì„± ì‹œê°„
#
# - mdl_augmented_teacher_persona_detection: í˜ë¥´ì†Œë‚˜ íƒì§€ ê¸°ë¡
#   - id (INT): Primary key
#   - userid (INT): ì‚¬ìš©ì ID
#   - persona_id (INT): í˜ë¥´ì†Œë‚˜ ID
#   - detection_confidence (FLOAT): íƒì§€ ì‹ ë¢°ë„
#   - intervention_provided (TEXT): ì œê³µëœ ê°œì…
#   - timecreated (INT): ìƒì„± ì‹œê°„
#
# - mdl_augmented_teacher_intervention_log: ê°œì… ê¸°ë¡
#   - id (INT): Primary key
#   - userid (INT): ì‚¬ìš©ì ID
#   - rule_id (VARCHAR): ì ìš©ëœ ê·œì¹™ ID
#   - feedback_message (TEXT): í”¼ë“œë°± ë©”ì‹œì§€
#   - student_response (TEXT): í•™ìƒ ë°˜ì‘
#   - effectiveness_score (FLOAT): íš¨ê³¼ì„± ì ìˆ˜
#   - timecreated (INT): ìƒì„± ì‹œê°„
